	1.0.0 	24-may-2017	
		.- Version do
		
	1.1.0	24-sep-2017	
		.- Cambios al modelo de empresa-depto-centro costo
		.- Se agrega proceso de calculo de asistencia de los empleados
		.- Se agrega admin de marcas.
		.- se modifica admin de centros de costo.
		.- se agrega carga masiva de empleados, departamentos y centros de costo

	1.2.0	24-oct-2017
		.- Se crea la tabla: 'usuario_centrocosto'.
		
		.- Admin usuarios: se modifica formulario de creacion/modificacion de usuarios.
		Se agrega la definición de los centros de costo a los que el usuario tendrá acceso.
		
		.- Se filtran los centros de costo en las vistas donde se muestran empleados. 
		 El usuario sólo podrá ver aquellos empleados pertenecientes a 
		 los centros de costo definidos en la tabla 'usuario_centrocosto'
			A filtrar:
				Mantenedores:
				.- Admin tiempo extra
				.- Admin empleados
				.- calculo de asistencia
				.- admin marcas
				.- asistencia - modificar

				Reportes:
				.- Empleados
				.- Informe asistencia
		 		 
		.- Informe asistencia: Formato incompleto. Se entregará finalizado en la siguiente versión.

	1.2.1	28-oct-2017
		Restriccion acceso a info de empleados.
		Se ocultan las empresas a las que el usuario no tiene acceso.
		Se corrige pool de conexiones a la base de datos.
		
	1.2.2	31-oct-a
		Se habilita carga de marcas desde archivo CSV.
		El formato debe ser:
			empresaId,num ficha,fecha,hora,tipoMarca,idDispositivo.
			
			Ejemplo:
				emp01,17030532-9,20171026,8:50:38,1,DAM_LO_PRADO
	
	1.2.3	02-nov-2017
		.- Admin marcas: 
			.- Se habilita el registro en log de la insercion de nuevas marcas
			.- El campo 'empresa' se muestra como una lista.
			.- Al crear/modificar una marca, se agrega el campo "comentario", que permitirá
				al usuario, indicar el motivo del ingreso o modificación de la marca.
				
		.- Cambios en base de datos:
		 -- tabla 'detalle_asistencia'. Se crean las siguientes columnas: 
				'hrs_presenciales' character varying(8),
				'hrs_trabajadas' character varying(8),
				'observacion' character varying(70),

		-- tabla 'marca'. Se crea la siguiente columna:
				'comentario' character varying(50)
				
	1.2.4	05-nov-2017
		.- Admin marcas: 
			.- Se agrega validación de campos obligatorios.
			.- Se deshabilita la modificación de marcas.
		.- Admin detalle ausencia. 
			.- Se corrije error al insertar nuevo detalle de ausencia
			
	1.2.5	10-nov-2017
		.- Ajuste módulo calculo de Asistencia
		.- Informe de asistencia en PDF
		
	1.2.6	26-nov-2017
		.- Calculo de asistencia: Correccion de manejo de ausencias por Licencia Medica. El periodo de licencia medica se 
			contabiliza como dias corridos.
		.- Se agrega mantenedor de turnos rotativos: crear/modificar
		.- Se agrega módulo para crear asignacion de turnos rotativos.
		.- Se agrega módulo para modificar asignacion de turnos rotativos.
	
	1.2.7	28-nov-2017
	
		/**
		*  Cambios sobre Base de datos del Sistema de Gestion Femase:
		*  script: 1.2.7
		* Aumentar el largo de la columna rut_empleado en todas las tablas
		*/
		ALTER TABLE empleado ALTER COLUMN empl_rut TYPE character varying(13);
		ALTER TABLE detalle_asistencia ALTER COLUMN rut_empleado TYPE character varying(13);
		ALTER TABLE detalle_ausencia ALTER COLUMN rut_empleado TYPE character varying(13);
		ALTER TABLE mantencion_evento ALTER COLUMN empleado_rut TYPE character varying(13);
		ALTER TABLE marca ALTER COLUMN rut_empleado TYPE character varying(13);
		ALTER TABLE marca_rechazo ALTER COLUMN rut_empleado TYPE character varying(13);
		ALTER TABLE tiempo_extra ALTER COLUMN rut_empleado TYPE character varying(13);
		ALTER TABLE turno_rotativo_detalle ALTER COLUMN rut_empleado TYPE character varying(13);	
		
		.- Calculo Asistencia: los dias sin marcas se consideran como horas ausente, sumando dias al total de dias ausente.
		.- Admin Marcas: En cada registro de log de evento generado, se guarda empresa, depto y cenco relacionado.
		
	1.2.8	29-nov-2017	
		.- Se actualizan todas las funciones Sql para que compare rut siempre en mayuscula.
		.- Calculo de asistencia: seteo de minutos de atraso y de minutos extras. Ambos se muestran en pantalla "Asistencia Resultados"
		
	1.2.9	06-dic-2017
		.- Mejora en carga de empresas, deptos y centros de costo en todos los formularios de búsqueda de empleados.
		.- Se modifican los formularios de creación y modificación de empleados.
		
	1.2.10	27-dic-2017
		.- Login Sistema: Se agrega el label "Sistema de Gestion" (letras rojas)
		.- Carga de marcas desde archivo CSV: Se setea campos ID y HASHCODE de cada marca. 
			Formato de carga de marcas CSV: 
				empresaId,numFicha,fecha(yyyyMMdd),hora(HH:mm:ss),tipoMarca,idDispositivo,idMarca,hashcodes
		.- Correccion en funcion BD 'getcencobydeviceid' para que no considere los cencos_id = -1
		.- Crear/Modificar empleado: se setea idioma del objeto calendario a español.
		
		Procesos de ejecución automática:
		.- Nuevo Módulo "Admin Procesos": Permite crear procesos que ejecutan tareas específicas complementarias al Sistema de Gestion Web.
		.- Nuevo Módulo "Programacion Procesos": Permite programar la ejecucion de los procesos existentes, indicando días de la semana 
			y horas en las que cada proceso se gatillará. 
			Cabe señalar que se creará una aplicación, fuera del Sistema de Gestión, que se encargará de ejecutar los procesos 
			de acuerdo a la programacion definida en el Sistema de Gestion. A cada proceso se le denominará 'Job'.			
			
			
	1.2.11	29-dic-2017
		.- Carga de marcas desde archivo CSV: Se agrega validacion de empleado válido y con contrato vigente.		
	
		*********** 2018 ************
	1.2.12	03-ene-2018
		.- Modificacion de empleados:  Se corrige error al modificar los datos de un empleado.
		
	1.2.13	06-ene-2018
		.- Funcion getAusencias: se agrega filtro para considerar ausencias sólo aquellas marcadas como "ausencia por hora=NO"
		.- Reporte asistencia: el nombre del archivo pdf generado queda como: "[num_ficha].pdf"
		.- Reporte asistencia: Las hrs de ausencias por hora, se suman a las horas trabajadas. 
			En la columna 'Observacion' del reporte de asistencia, se muestra la hora inicio y fin de la ausencia.
		.- Calculo asistencia: Se incorporan los casos de empleados con turnos rotativos.
		   Los dias libres de un turno rotativo se consideran como dias trabajados.
			
	1.2.14	22-ene-2018
		.- Detalle turno: Hora de entrada y hora de salida se dejan como cajas de texto. Se elimina seleccion de 
		horas, usando un combobox.
		
	1.2.15	22-ene-2018
		.- Calculo asistencia: Se corrige cálculo de asistencia para empleados con turnos rotatativos.
		    Caso de excepcion ahora considerado: turnos de noche-->entrada en una fecha, y salida al dia siguiente.
			
	1.3.0	25-ene-2018
		.- Calculo asistencia: Se corrige cálculo de asistencia para empleados con turnos rotativos.
		    Caso de excepcion ahora considerado: turnos de noche-->entrada en una fecha, y salida al dia siguiente.
		.- se corrije error al ejecutar reporte de asistencia sin datos.
		
	1.3.1	01-feb-2018
		.- Se modifica funcion 'getempleadosjson'.
		Se agregan las sgtes columnas:
			'motivo_rechazo_ausencia': valores posibles {'VACACIONES','LICENCIA','AUTORIZADO'}
			'tiene_contrato': valores posibles {'VIGENTE','FUERA_DE_CONTRATO'}
			'direccion_cenco': Direccion del centro de costo
			'region': Region del centro de costo
			'comuna': Comuna del centro de costo
			'clave_marcacion': Número con el cual puede marcar un trabajador en caso de tener problemas con sus huellas dactilares.
			
			Se agrega la columna 'clave_marcacion' ( char [15]) a la tabla 'empleado'
			
		.- Admin empleados: Se agrega campo "clave marcacion", al crear/modificar empleados.
  
    1.3.2	17-feb-2018
		.- Admin marcas: permite modificar tipo, y hora marca
		.- Tabla detalle_ausencia: Se agrega columna 'correlativo' {integer} (PK). 
		.- Crear secuencia para seteo de autoincremento de dicha columna (detalle_ausencia_corr_seq.sql)
		.- Admin Detalle ausencias: se permite el ingreso de una o más ausencias para una misma fecha.
		.- Calculo e informe de asistencia: corrige calculo para dias feriados donde no hay marcas
		
	1.3.3	26-feb-2018
		.- Admin marcas: 
			.- La eliminación de marcas sólo se habilita para usuarios con perfil de administrador.
			.- Eliminacion marca de entrada/salida: deben verse reflejadas en reporte de asistencia.
		.- Tabla 'detalle_ausencia': se modifica la PK, ahora queda compuesta sólo por la columna 'correlativo'.
		
		* Eliminacion de marca de entrada:
			Se elimina marca de entrada desde el Admin de marcas: 
			Se aprecia que para el día 09-01-2018 el registro de “Entrada” no aparece, pero en el reporte de Asistencia si fue impreso. 
			  ------ OK Resuelto --------
			  
			Para el día 10-1-2018 se elimino una marca de “Salida” y esta quedo sin inconvenientes tanto en “Admin marcas” como en la planilla de asistencia.
			------ OK Resuelto --------

			.- Se ha ingreso con credenciales de un director X y ellos pueden eliminar las marcas, 
			lo que habíamos conversado era que solo los usuarios con privilegios de Admin pudieran eliminar marcas.
			------ OK Resuelto --------

			.- Admin. Detalle ausencias: se permite el ingreso de una o más ausencias para una misma fecha.
			Se verifica el funcionamiento al insertar una ausencia para los días 2-1-2018 y 11-1-2018 siendo agregadas exitosamente 
			pero no deja agregar el mismo tipo de ausencia para el mismo día ni para otros días al mismo funcionario, 
			en el archivo “asistencia_18612047-7.pdf” se resaltan en color amarillo.
			En resumen si se utiliza una vez una ausencia como por ejemplo “Salida a terreno autorizada” no se puede volver a utilizar esta ausencia 
			tanto para el mismo día, como para otros días.
			------ OK Resuelto: se modifica PK, quedando compuesta sólo por la columna 'correlativo' --------

			Se inserta una ausencia con el nombre “Salida Audiencia” para el día 2-1-2018, esta fue creada exitosamente, 
			pero en la planilla de asistencia no se observa dicho tipo de ausencia en el campo Observaciones.

			Se inserta “Licencia Médica” y “Vacaciones” para los días 22-1-2018 hasta el 31-1-2018 y no se aprecia nada en el campo “Observaciones”, 
			en el archivo “asistencia_18612047-7.pdf” se resaltan en color amarillo, 
			no así en las planillas creadas en el 2017 (archivo asistencia Octubre_15.556.034-1.pdf).
			------ OK Resuelto
			
		1.3.4	27-feb-2018	
			.- Admin Ausencias Detalle: En RUT autorizador se muestran sólo los autorizadores definidos para cada cenco. 
			Los usuarios Directores tienen centros de costo asignados. El sistema lo que hace ahora, es 
			mostrar sólo los Autorizadores de ausencia que pertenezcan a alguno de los centros de costo definidos parael usuario.
				
		1.4.0	04-marzo-2018
		
			1.- Cálculo de Horas Presenciales: Se corrige cálculo de horas presenciales.
			2.- 'Ausencias Detalle': Mostrar sólo los autorizadores que pertenecen al centro de costo del usuario.
			3.- 'Ausencias Detalle': Implementar ingreso de horas, usando cajas de texto.
			4.- Funcion getempleadosjson: retornar la direccion del cenco.
			5.- Admin empleado: Validar rut
			6.- Se insertan dias feriados al sistema: de marzo a junio 2018
			
			
		v1.4.1 	08-03-2018
			.- En Admin Marcas, Donde dice "Salida”, debe decir "Evento”.
			.- En “Admin Turnos”. Aumentar a 100 el largo del campo “Nombre”.					ALTER_TABLE
			.- Calculo de asistencia:Seteo de nueva columna detalle_asistencia.hhmm_extras		ALTER_TABLE
			.- Seteo de nueva columna detalle_asistencia.hhmm_atraso   						ALTER_TABLE
			.- Calculo asistencia: ver caso de empleado con atraso y hrs extras al mismo tiempo.
			.- Admin ausencias: validar turno del empleado: Los permisos por hrs no pueden estar fuera del turno correspondiente.
			.- Admin empleados: se habilita filtro por estado ("Vigentes", "No Vigentes")
			
			
		v1.4.2	11-03-2018
			.- Reporte Asistencia: agregar columnas 'entrada' y 'salida' teóricas (según turno)
			.- Reporte de Asistencia: agregar la columna: "Extras": Donde se muestren los hh:mm extras. 
			    Estas horas extras serán autorizadas o no por cada director.
			.- Reporte de asistencia: Mostrar columna 'hh:mm atraso"
			.- Reporte Asistencia: Ocultar la columna 'horas trabajadas'
			.- En Asistencia-resultados: habilitar opción para autorizar/rechazar atrasos y/o hrs extras.
			.- Admin ausencias: Habilitar la eliminación física de las ausencias.
			.- Asistencia Resultados: Mostrar columnas 'entrada/salida' teóricas
			.- Corrección error al ingresar ausencia. Cenim padre las casa.

		v1.4.3	15-03-2018
		
			.- Reporte de asistencia: las horas extras no pueden aparecer a menos que se hayan autorizado
			.- Reporte Asistencia: los “Atrasos” deben estar visibles en todo momento.
			.- Asistencia resultados: autorizar-hrs extras. Mostrar combos de horas y minutos. Las hrs deben restringirse según las hrs extras realizadas. Los minuyos van de 0 a 59. Si las opciones seleccionadas exceden las hrs extras realizadas, mostrar error de validación.
			.- Nueva columna "hrs justificadas" en detalle_asistencia. Y en vista "Asistencia Resultados"
			.- Reporte Asistencia: renombrar columna "Ausent" a "Hrs No trabajadas"
			.- Asistencia-Resultados: modificar registro. Ocultar campo "aprobar atraso"
	
		v1.4.4	17-03-2018
			.- Aumentar largo de columna 'detalle_asistencia.observacion' de 70 a 500.
			.- Cálculo de Asistencia: en el campo 'observación" se deben guardar TODAS las ausencias registradas y autorizadas. Ahora sólo se muestra una.
			.- Crear Empleado: revisar como se estan guardando RUT y NUM Ficha... se verifica que se están intercambiando al momento de guardarlos en la base de datos. Rut empleado no debe llevar puntos. Num Ficha contiene puntos y guion.
			.- Revisar rut y cod interno en carga de empleado desde archivo CSV.
			.- Totalizar 'hrs justificadas' considerando las ausencias.
		
		v1.4.5	19-03-2018	
			.- En calculo asistencia: Considerar todas las ausencias, se debe totalizar el hh:mm total de ellas. 
				Este total se debe guardar en 'hrs justificadas'
			.- Probar caso de ausencia por horas: hrs justificadas es la suma de las hrs justificadas
			.- Revisar seteo de Observacion con nombre de las ausencias existentes. 
				Están apareciendo repetidas (ver correo de Jose Galindo de hoy 19-03-2018)
			.- Revisar rut y cod interno en carga de empleado desde archivo CSV
			.- Subir marcas desde archivo CSV: se deshabilita la validación de empleado.

		v1.4.6	22-03-2018	
			.- Cálculo asistencia: corrección en seteo de horas extras.
		
		v1.4.7	22-03-2018		
			.- Reporte Asistencia: Suma total de hrs extras autorizadas. 
			.- Asistencia Resultados: Agregar validación de máximo de hrs extras para autorizar.
		
		v1.5.0  25-03-2018
			.- Se cambia menu principal del sistema.
			.- Reporte de Asistencia: Cuando exista comentario en una marca de entrada/salida, esto debe reflejarse con un asterisco (*)
			junto a la respectiva hora de entrada/salida.
			.- Crear Empleado: quitar el campo "Foto" como obligatorio en el formulario.
			.- Reporte Asistencia: Seteo de columna observación con "Libre" o "Feriado" según corresponda.
			   Dia Feriado dentro del turno: 'Feriado'
			   Dia Feriado fuera de su turno: 'Libre'
			   Dia Hábil dentro del turno y sin marcas: 'Sin marcas'
			   
		v1.5.1  27-03-2018	   
			.- Cambio de colores en menu del sistema
			.- Nuevo reporte que muestra todas las marcas existentes de un empleado.
			
		v1.5.2  29-03-2018
			.- Se corrige validación de rut en formularios de creación/modificación de empleados 
			
		v1.5.3  01-04-2018	
			Se actualizan las sgtes. funciones postgres:
			.- 'get_info_empleado'
			.- 'inserta_marca'
			Se debe eliminar la funcion 'get_cencos_device'
			
		v1.5.4  09-04-2018	
			.- Crear- Empleados: Setear fecha "fin_contrato" con el valor "31-12-3000" automáticamente cuando se marca "contrato indefinido" = SI
			.- Crear- Empleados: Correccion en ingreso de rut "-k"
		
		v1.5.5  11-04-2018
			.- Modificar empleado: se corrije error al editar campos rut y num ficha. Y tambien se corrige 
			actualizacion de campo 'fecha término de contrato'
			
		v1.6.0  14-04-2018	
			.- Calculo de asistencia: ver caso cuando hay atraso y ausencia justificada. Dicha ausencia provoca que no se esté seteando el atraso.
			.- Crear empleado: que el N° Ficha se complete automáticamente a partir del campo RUT, pero que este campo sea igualmente modificable.
			.- Agregar columna 'empresa_id' character(12) en tabla 'usuario': 
				ALTER TABLE usuario ADD COLUMN empresa_id character varying(12);
			.- Admin usuario: Agregar columna 'empresa' al listar, crear y modificar usuarios.
			.- Agregar columna 'empresa_logo'
				ALTER TABLE empresa ADD COLUMN empresa_logo character varying(30);
			.- Actualizacion pagina de login
			
		v1.6.1  25-04-2018	
			.- Crear/modificar empleado: Se corrige seteo de rut y num ficha.
			Tabla empleado, PK = Rut (sólo con guion)
				Ejemplo de datos contenidos en tabla empleado

				empleado_1
				rut ---> 13055851-8
				cod_interno(num_ficha) --> 13.055.851-8

				empleado_2
				rut ---> 13055851-8B
				cod_interno(num_ficha) --> 13.055.851-8

				empleado_3
				rut ---> 13055851-8C
				cod_interno(num_ficha) --> 13.055.851-8
			
		v1.6.2  01-05-2018	
				.- Admin Marcas: Se agrega selector de fecha en campo 'Fecha Marca'.
				.- Calculo asistencia: combo empleado debe permitir selección múltiple.
				.- Calculo asistencia: Quitar combo Cargo y agregar combobox de empleados pertenecientes al cenco seleccionado. Agregar la opcion TODOS
		
		v1.6.3  15-05-2018	
				.- Crear/Modificar empleados: intercambiar labels de rut y num ficha en el formulario.
				
		v1.6.4  26-05-2018	
				.- Crear/Modificar empleados: Se agrega mensaje de alerta que indica si un empleado fue creado/mofificado
				correctamente o si ocurrió algún error.
				
		v1.6.5  20-06-2018
				.- Ausencias detalle: Se agrega validación que impide el ingreso de una ausencia que 
				produzca conflicto con otra ya existente en el Sistema. Se muestra un mensaje de alerta al usuario.
				.- Modificar empleado: Se permite la modificación de centro de costo del empleado.
				
		v1.6.6  21-06-2018
				.- Ausencias detalle: Si la ausencia ingresada/modificada es por Hora, se quita restricción 
					que impedía el ingreso de más de una ausencia por fecha.
				.- Filtro al obtener lista de autorizadores de ausencias: Si el estado de un empleado es 'No vigente' o su contrato ya expiró
					, éste deja de aparacer en los listados de autorizadores.
					
		v1.6.7  25-06-2018		
				.- Admin Marcas: Solo usuarios con perfil Admin pueden modificar todos los atributos de una marca. 
				Los usuarios Directores solo pueden modificar el Evento e ingresar el comentario. 
				
				.- Crear empleado: Al momento de crear un empleado se realiza conversión a mayúscula del rut y del num ficha.
				Asi se evita la duplicidad de rut con '-k' y '-K'.
				
		v1.6.8  28-06-2018		
				.- Admin Marcas: Se corrige comportamiento de formularios de creación y modificación de marcas.
				Sólo a los usuarios admin se les permite modificar fecha y hora de las marcas.
				Los usuarios Directores solo pueden modificar el Evento e ingresar el comentario. 
				Al crear una marca, en el campo 'Fecha Marca', siempre se muestra un datepicker para facilitar la selección de fecha.
				
		v1.6.8a  09-07-2018		
			.- Admin ausencias-detalle: Al actualizar ausencia, no se estaba guardando el campo "permite hora".
			
				
		v1.6.8b  11-07-2018
			.- Calculo de asistencia: se vuelve a la version que toma la asignacion de turnos rotativos desde el modelo actual (dias laborales y dias libres).
				
		v.1.7.0 05-07-2018
				.- Nuevo módulo "Turnos rotativos-asignacion". Permite asignar turnos rotativos a uno o mas empleados.
				Se pueden asignar turnos para períodos predefinidos: 1 día, 7 dias, 1 mes, 1 año o personalizado.
				Se pueden realizar asignaciones masivas a varios empleados a la vez.
				
				Ejecutar:
				ALTER TABLE turno ADD COLUMN rotativo boolean;
				ALTER TABLE turno ALTER COLUMN rotativo SET DEFAULT false;
					Se debe setear el turno id=27 con rotativo = true
					
				Crear acceso:
				nombre: asignacion_rotativos
				etiqueta: Turnos rotativos-Asignacion
				url: /mantencion/trotativo_asignacion_frameset.jsp
				
		v.1.7.1 15-07-2018
				Insert into mantencion_tipo_evento 
				crear sequencia: proceso_id_seq
				Ejecutar: 
					'create_sequence_v_1_7_1.sql'
					'insert_mantencion_tipo_evento_v_1_7_1.sql'
				
				Nuevo perfil de usuario: 'Empleado'. Username=rut_empleado.
				
				El nuevo perfil de usuario "Empleado", sólo puede visualizar las marcas.

				
				Se migran todos los empleados para que tengan un usuario y puedan revisar marcas y emitir reporte de asistencia.
				Sólo pueden ver información propia.
				
		v.1.7.2 02-08-2018
				.- Mostrar sólo empleados vigentes en las siguientes vistas:
					- Ausencia Detalle.
					- Admin Marcas.
					- Calculos Asistencia.
					- Asistencia Resultados.
					- Marcas Rechazos.
					- Reportes Asistencia y Reporte Marcas.

				.- Admin Ausencias (detalle). Filtrar combo de 'tipo ausencia': sólo mostrar las que están Vigentes	

				
		---------En produccion desde el 02-08-2018
		v.1.7.3 03-08-2018
			.- Modulo 'Adm Accesos Perfil": Se corrige carga de accesos según el perfil y módulo seleccionado.
			.- Módulo "Admin Usuarios": Se corrige paginación al listar usuarios.
			.- Asignacion turnos rotativos: se corrige seteo de rango de fechas segun duración seleccionada
			.- Crear/Modificar empleado: seteo de encoding UTF al parsear valores de campos de texto.
			
		v.1.7.4 07-08-2018
			.- Cálculo de asistencia: Se corrige seteo de atraso cuando hay ausencia por hora en la misma fecha.
		
		v.1.7.5 10-08-2018
			.- Reporte asistencia y reporte de marcas: se agrega la posibilidad de generar en Excel.
			
		v.1.7.6 12-08-2018
			.- Reportes asistencia: Se agrega nuevo reporte "Asistencia Resumido (CSV)". Que permite 
				generar en formato CSV un listado de todos los centros de costo de la empresa seleccionada.
				Este reporte sólo está disponible para usuarios con perfil de Administrador
				
			.- Reporte de marcas: se modifica ubicación de pie de página en cada página con datos.
			.- Actualizar reporte 'detalle_asistencia_marcas.jasper' y 'detalle_asistencia_marcas.jrxml'
			
		v.1.7.7 15-08-2018	
			.- Nuevo módulo que permite carga de usuarios desde archivo CSV.
				Ejemplo contenido archivo CSV para carga de uno o más usuarios.
				"username","password","nombres","paterno","materno","perfil_id","email","empresa_id","centro_costo_id"
				15759531-8,15759531-8,KARIN YOHANA,ROMERO,ORTIZ,7,ppfpaillaco@fundacionmicasa.cl,emp01,65
				22569152-5,22569152-5,ELSA EMPERATRIZ,RAMIREZ,DE OLIVARES,7,pie24sanjoaquin@fundacionmicasa.cl,emp01,29
				10548652-9,10548652-9,SAMUEL LUIS,PALMA,SALGADO,7,samuel.palma@fundacionmicasa.cl,emp01,29
				10548652-9B,10548652-9B,SAMUEL LUIS,PALMA,SALGADO,7,samuel.palma@fundacionmicasa.cl,emp01,33
				
				Si un rut tiene dos numeros de ficha, se debe crear un usuario para cada num ficha:
			
			.- Se crea módulo "Marcas asistencia". Para que los usuarios con perfil empleado vean sus marcas sin la necesidad
				de seleccionar empresa, departamento ni centro de costo.
			
			.- Se crea módulo "Informes asistencia ". Para que los usuarios con perfil empleado saquen informes de asistencia sin la necesidad
				de seleccionar empresa, departamento ni centro de costo.
			
		v.1.7.8 16-08-2018	
			.- Admin usuarios: Se agrega filtro 'Perfil usuario' para facilitar la búsqueda de usuarios.
			
		v.1.7.9 20-08-2018	
			.- Informe asistencia: Se agrega opción 'Todos', que permite generar reportes para todos los empleados
			de un centro de costo.

			Reporte asistencia -->PDF
			Un empleado  
			Todos los empleados de un centro de costo

			Detalle marcas -->PDF
			Un empleado  
			Todos los empleados de un centro de costo

			Asistencia resumido -->CSV
			Todos los empleados de un centro de costo

		v.1.8.0 02-09-2018	
			.- Proceso Cálculo de asistencia para todos los centros de costo de la empresa "Fundacion Mi Casa"
		
		v.1.8.1 06-09-2018
			.- Filtrar combo departamento. Sólo se deben mostrar los deptos definidos para el usuario.
			Sólo los usuarios con perfil de Administrador pueden ver todos los deptos/cencos.
			
		v.1.8.2 14-09-2018	
			.- Carga de usuarios desde archivo CSV: Se modifica formato del CSV, agregando columna 'depto_id'
			Ejemplo:
				"username","password","nombres","paterno","materno","perfil_id","email","empresa_id","depto_id","centro_costo_id"
				
			.- Carga empleados CSV: se mejora inserción masiva de empleados.( ejecución de sentencias insert, usando executeBatch())	 
			
		v.1.8.3 25-09-2018
			.- Se agrega opcion que permite ejecutar procesos de inmediato, ingresando los respectivos filtros.
			.- Se crean tablas: "filtro" y "proceso_filtro".
			
		v.1.8.4 02-10-2018
			.- Cálculo de asistencia: se modifica procedimiento para casos en que la marca de salida corresponde al
			día siguiente de la fecha de la marca de entrada.
			.- Las horas extras calculadas deben ser autorizadas para que se muestren en el reporte de asistencia.
			Lo anterior se realiza desde el módulo "Asistencia - Resultados"
			
		v.1.8.5 05-10-2018	
			.- Informe asistencia: Cuando se trate de marcas efectuadas al día siguiente, reemplazar el "*" por un "+1".
			.- Procesos: nuevo proceso que genera archivos con las marcas rechazadas por cenco.
			
		v.1.8.6 11-10-2018	
			.- Se corrige informe asistencia. Modificar plantilla .jasper
			.- Se corrige seteo de observacion en marca de salida.
			.- Cálculo asistencia: Si al buscar marcas para el día siguiente, si hay ambas marcas (entrada-salida)
			Ese dia no se aplica mostrar "+1" en el informe de asistencia.
			
		v.1.8.7 13-10-2018	
			.- Todas las bibliotecas css y js deben estar en el servidor, sin usar urls externas.
			.- Se modifica funcion: get_empleados_sin_marca_entrada_dia_json
			
		v.1.8.8 18-10-2018
			.- Ventana detalle ausencias: El combo 'tipo Ausencia' se ordena por alfabéticamente por nombre. 
			
		v.1.9.0 20-10-2018
			.- Eventos de insercion/modificacion/eliminacion de detalles de ausencia: Se agrega info adicional en el log de eventos del sistema, 
			con el fin de facilitar el seguimiento posterior. 
			.- Quitar despliegue de combos Empresa-Depto-Cenco". Ahora sólo se muestra sólo un combobox con la etiqueta "centro costo", indicando
			empresa-depto y cenco en cada elemento del combobox.
			Modulos modificados:
			.- Admin Empleados			
			.- Ausencias (detalle)		
			.- Admin Marcas			
			.- Asistencia Resultados
			.- Marcas Rechazos	
			
		v.1.9.1 28-10-2018
			.- Admin Empleados: Se corrije paginación al mostrar los resultados de búsqueda de empleados.
			.- Grillas de resultados: se cambia a lenguaje castellano los textos como "row count", "pages"...
			.- Admin Detalle turnos: Se agregan los atributos: Mins colacion y Holgura. Ambos atributos son eliminados
			como atributos del turno.
			
		v.1.9.2 03-11-2018	
			.- Se corrije error al modificar detalle ausencias.
			.- Admin centro costo: habilitar la columna "email notificaciones"
			
		v.1.9.3 05-11-2018	
			.- Admin Ausencias (detalle): Se corrige modificación de ausencias: Se agrega seteo de cambio de tipo de ausencia.
			Por ejemplo, pasar de "Vacaciones" a "Licencia Medica"			
			
		v.1.9.4 11-11-2018
			Procesos: Marcas rechazadas y Validacion de Marcas-->Se habilita envio por correo.
				Los archivos generados se envían al administrador del sistema o a cada director de centro de costo.
			Cambios en tabla proceso_filtro y filtro
			llenar datos de tabla filtro y proceso_filtro.
			
			ALTER TABLE filtro ADD COLUMN filtro_checkbox boolean;
			ALTER TABLE filtro ALTER COLUMN filtro_checkbox SET DEFAULT false;
			
		v.1.9.5 12-11-2018
			.- Cálculo asistencia: validacion de empleados sin turno asignado para un determinado día.
			.- Disminuir tamaño de fuente del nombre de usuario que se muestra en la parte superior del home del usuario conectado.
			
		v.1.9.6 13-11-2018	
			.- Admin de usuarios: se agregan las columnas 'fecha_creacion' y 'fecha ultima actualizacion'.
			.- Al cargar usuarios por archivo CSV se setea 'fecha_creacion'.
			Sqls alter:
				ALTER TABLE usuario ADD COLUMN create_datetime timestamp without time zone;
				ALTER TABLE usuario ADD COLUMN last_update_datetime timestamp without time zone;
			
			.- Update masivo en BD de produccion. Los usuarios con perfil 'Empleado' quedan con 'fecha creacion' = 2018-11-07
			El resto de los usuarios quedan con 'fecha creacion' y 'fecha ultima actualizacion'= 2017-04-01
			
		v.1.9.7 21-11-2018
			.- Calculos de asistencia: Se incorpora el nuevo modelo de asignacion de turnos rotativos.
			
		v.2.0.0 27-11-2018
			.- Nuevo proceso "Traspaso Historico" para la Fundacion Mi Casa.
				Este se encarga de traspasar aquellos registros con más de 6 meses de antiguedad.
				Se realiza traspasan las tablas: marca, detalle_asistencia, detalle_ausencia y mantencion_evento.
				Ejecutar los sgtes sql:
					detalle_asistencia_historica.sql
					mantencion_evento_historico.sql
					detalle_ausencia_historica.sql
					marca_historica.sql
					
					i.- ALTER TABLE mantencion_evento ADD COLUMN empresa_id_source character varying(12);
					ii.- update admingestionweb.mantencion_evento set empresa_id_source='emp01'

				.- Se setea atributo 'empresa_source' cada vez que se guarda un evento en el log.
			
			.- Nuevas vistas de historicos:
				Marcas
				Marcas rechazadas
				Ausencias - detalle
				Log de eventos
				Asistencia - resultados
				
			.- Cálculo de asistencia: se restringe calendario. Solo se puede seleccionar un período máximo de 45 días corridos.
		
		v.2.0.1 29-11-2018		
			.- Se agrega la columna 'holgura' a tabla 'turno_rotativo'.
			se modifican ambas columnas con valores por defecto.
			Sql: 
				ALTER TABLE turno_rotativo ALTER COLUMN minutos_colacion SET DEFAULT 30;
				ALTER TABLE turno_rotativo ALTER COLUMN holgura SET DEFAULT 0;
				
		v.2.0.2 01-12-2018
			.- 	Admin Turnos rotativos: agregar atributos 'holgura' y 'minutos de colacion'. Tambien se incorporan dentro
				del cálculo de asistencia.
			.- Cálculo asistencia: caso de empleado con más de una ausencia (horas justificadas) en el día.
				En este caso, a las horas presenciales se les deben restar las horas justificadas totales.
				Además, si la marca de entrada es posterior a su hora entrada teórica (turno) y tiene justificación, no aplica atraso.
			.- 	Admin Marcas: cuando se modifica el evento de una marca, el sistema borra los segundos de dicha marca, dejándolos en ceros.	
			
			
			******************************************************************************************************************
			******************************************************************************************************************
			Revisar calculo asistencia (seteo de horas presenciales):
			** Caso 1: Cenco Administracion Central (RM), rut [10906899-3] DANILO ERNESTO MORENO. 
			Los dias 26 y 27 de nov de 2018, tiene dos ausencias justificadas. 
			
			** Caso 2: Cenco Cenim San Antonio (V region), rut [16741587-3] VICTORIA GALAZ . 
			El dia 03 de dic de 2018, tiene una ausencias justificada de una hora (derecho a lactancia).

				La suma de hrs justificadas + hrs justificadas = horas totales segun turno.
				
			******************************************************************************************************************
			******************************************************************************************************************	
			
		v.2.0.3 01-12-2018
			Cálculo de asistencia: Error en seteo de hrs presenciales en casos con una sola ausencia por horas (justificación)
			Caso prueba: Cenco Cenim San Antonio (V region), rut [16741587-3] VICTORIA GALAZ . 
			El dia 03 de dic de 2018, tiene una ausencias justificada de una hora (derecho a lactancia).
			
		v.2.0.4 09-12-2018	
			.- Admin Marcas: Cuando se modifique una marca o se cree una nueva, 
				enviar un correo electrónico al empleado involucrado con su respectiva modificación o creación.
				Si existe alguna modificación en la marca, debemos mostrar en un modulo dicha modificación 
				con la marca real insertada en el sistema, que exista la posibilidad de 
				visualizar la original y la modificada. 
				--> crear tabla 'marca_modificada'
				--> crear secuencia 'corr_marca_modificada_seq'
			.- Se crea nuevo módulo 'marcas modificadas': permite consultar las marcas modificadas.	
				
			.- Modificar empleado: al setear "indefinido=SI", se deja fecha_fin_contrato=31-12-3000	
			
		v.2.0.5 10-12-2018	
			.- Admin marcas: Al insertar marca manual, se setea hashcode, utilizando MD5 generado a partir de la
				key=rut_empleado+fecha_hora+tipoMarca
					Por ejemplo: 999999k201812040930001
			.- Cuando se modifica una marca, el hashcode cambia.	

		v.2.0.6 16-12-2018		
			.- 	Nuevo reporte: "Informe Ausencias".
				Copiar 'detalle_ausencias.jasper' y 'detalle_ausencias.jrxml' a la carpeta donde se guardan los reportes.
			
		v.2.0.7 18-12-2018		
			.- 	"Informe Ausencias": se eliminan labels "dia normal" y "dia feriado"
			   Copiar 'detalle_ausencias.jasper' y 'detalle_ausencias.jrxml' a la carpeta donde se guardan los reportes.
			.- Cálculo de asistencia: se corrige seteo de horas no trabajadas cuando se trata de una ausencia "no remunerada".

		v.2.0.8 27-12-2018	
			.- Planilla asistencia: se corrige seteo de "total dias ausentes". Ahora se contabilizan todos los días
			que figuren como "Sin marcas"
			
		v.2.0.9 01-01-2019
			.- Admin Marcas: El botón "Crear nuevo registro" sólo se muestra cuando se seleccionan los campos: 
				'centro de costo', 'empleado' y 'dispositivo'. Con esto se evita error al guardar marcas.
				Además, al crear una marca, en el campo 'Empresa' se muestra el nombre de la empresa seleccionada.
				
		v.2.0.10 05-01-2019	
			.- Admin Calendario Feriados: Se permite ver los feriados del año anterior, año actual y año siguiente.
			.- Cálculo de asistencia: Se corrige obtención de feriados. Sólo se estaban considerando los feriados
			del año actual. Ahora se obtendrán todos los feriados
			.- Admin marcas: impedir el ingreso de fechas futuras.
			.- Se renombra módulo "Mantenedores" a "Administración"
			.- Nueva funcionalidad: "vista rápida empleados": Permite buscar empleados, usando un árbol organizacional.
				Esta 1a versión sólo permite buscar y seleccionar empleados. La idea es que se puedan emitir informes de asistencia o ver marcas, 
				ausencias...etc.
				
		v.2.0.11 10-01-2019		
			.- Admin Ausencias: 
				. indicar motivo error o rechazo.
				. Modificar ausencia: setear en vacio las hrs de inicio y fin cuando se selecciona 'Por hora'=NO
				. Al crear una nueva ausencia, el campo (combobox) 'Empleado' debe tomar el valor del filtro empleado seleccionado.
			
		v.2.0.12 11-01-2019	
			.- Admin Marcas: Mostrar alertas cuando hay marcas faltantes. Se muestra en rojo los dias en
			que falta una de las marcas.
			.- Se cambia imagen de la página de login.

		v.2.0.13 28-01-2019
			.- Calculo asistencia, para empleados con turno rotativo: Se corrige error al 
			rescatar horas de entrada/salida para c/turno_rotativo
			
		v.2.1.0 21-02-2019
			Optimización proceso de calculo de asistencia:
			.- Se implementan hebras y se migran sqls a funciones en base de datos.
			.- Al realizar Cálculo asistencia, se debe deshabilitar el botón "calcular"
			Se realiza tuning a parámetros de configuración de Postgres.
			.- Nueva tabla "calculo_asistencia_estado_ejecucion"
			.- Nueva tabla "estado_ejecucion"
			
			.- Recrear tabla "proceso_itinerario_ejecucion" (nuevas columnas depto y cenco)
			.- Nueva opción "Itinerario Procesos": Que permite ver la ejecucion de los procesos.
					ALTER TABLE proceso_itinerario_ejecucion ADD COLUMN depto_id character varying(3);
					ALTER TABLE proceso_itinerario_ejecucion ADD COLUMN cenco_id integer;
			.- Funciones a crear:
				get_ausencias_json 						
				get_empleado_json						
				get_empleados_json						
				get_marcas_json							
				get_marca_by_tipo_and_fecha_hora_json	
				get_marca_by_tipo_json					
				get_turno_rotativo_by_fecha_json		
				
		v.2.1.1 03-03-2019		
				Cambios en menú del sistema: Se reorganizan los ítems del menú dentro de nuevos módulos.
				.- Tabla 'modulo_sistema' (completa)
				.- Modulo_acceso_perfil	
				
		v.2.2.0	04-03-2019
				.- Nueva opción en menú "Asistencia". Llamada 'Cálculo Asistencia histórico"
				Que permitirá ejecutar cálculos de asistencia, usando las tablas de marcas y ausencias históricas (más de 6 meses)
				Ejecutar scripts de las sgtes nuevas funciones:
				.- get_marcas_hist_json
				.- get_ausencias_hist_json
				.- get_marca_hist_by_tipo_json
				.- get_marca_hist_by_tipo_and_fecha_hora_json
		
		v.2.2.1	09-03-2019
				.- Cálculo asistencia: correción casos en que existe una sola marca.
				
		v.2.2.2	13-03-2019
				.- Ausencias (Justificaciones) Historicas: Se deshabilita las opciones de crear, modificar y eliminar registros. 
				Esto debido a que la información histórica es sólo de consulta.
				.- Cálculo asistencia: caso de dias con ausencias x horas, no mostraba los segundos en las hrs presenciales totales.
				
		v.2.2.3	22-03-2019
				.- Calculo asistencia: se corrige seteo de hora marcas. Pues no se estaban mostrando los segundos.
				Tambien se muestran los segundos en el total de horas presenciales.
				Se modifica funcion 'get_marcas_json' y 'get_marcas_hist_json'
				
		v.2.2.4	27-03-2019		
				.- Calculo asistencia: Se corrige el seteo de campo 'observacion' respecto a "Feriado" o "Libre".
						.- Se habilita la posibilidad de efectuar cálculos hasta máximo 90 días 
		
		v.2.2.5	30-03-2019		
				.- Calculo asistencia: Se corrige el seteo de campo 'observacion' en aquellos casos cuando no hay 
				turno definido.		
				.- Reporte ausencia: Se quita restricción en campos de fecha.
				.- Administracion: Se agrega nueva funcionalidad 'Dashboard'
				.- Ausencias: Grafico de torta ausencias Mes.
				
		v.2.2.6	06-04-2019		
				.- Calculo asistencia: Se corrige cálculo, al obtener marcas. Error informado
				para un empleado del cenco DAM VICTORIA.
				
		v.2.2.7	14-04-2019		
				.- Cálculo asistencia: se corrige cálculo en los casos donde falta alguna de las marcas.
				.- Marcas históricas: Se agrega vista especial de las marcas faltantes.
		
		v.2.2.8	16-04-2019
				.- Proceso Cálculo Asistencia: Se corrige procedimiento de cálculo.
				
		****************************Requerimientos para la certificación del Sistema Web************		
		v.2.3.0	19-04-2019
				.- Se renombra módulo "Marcas Modificadas" a "Marcas-Eventos":
				.- Marcas Modificadas:
					Se agrega columna "tipo_evento" para indicar si es Modificacion o eliminacion de Marca.
				.- Admin Marcas			: Se agrega columna 'fecha_actualizacion' que indica cuando la marca fue modificada.
				.- Admin Marcas: Se agrega opcion que muestra los eventos realizados sobre la marca seleccionada.
				.- Cambios en base de datos: 
					.- Cambio de nombre tabla "marca_modificada" por "marcas_eventos"
					.- Cambio de nombre secuencia "corr_marca_modificada_seq" por "corr_marcas_eventos_seq"
					.- ALTER TABLE marcas_eventos ADD COLUMN tipo_evento character(1);
						COMMENT ON COLUMN marcas_eventos.tipo_evento IS 'Indica si es una Modificacion o eliminacion de marca';	
					.- Creacion de indices:
							CREATE INDEX empleado_idx_empresa ON empleado USING btree (empresa_id COLLATE pg_catalog."default");
							CREATE INDEX empleado_idx_departamento ON empleado USING btree (depto_id COLLATE pg_catalog."default");
							CREATE INDEX empleado_idx_empresa ON empleado USING btree (empresa_id COLLATE pg_catalog."default");
							
		v.2.3.1	21-04-2019
			.- Reporte de asistencia: Se agrega filtro de búsqueda “Turno”. 
				Además de poder filtrar por centro de costo y empleado, se agregará el filtro por Turno, 
				que permita generar el informe de asistencia de todos los empleados del centro de costo 
				seleccionado que tengan asignado el turno requerido. 
				Cabe señalar que se toma en cuenta el turno actual del empleado. 
	
		v.2.3.2	22-04-2019	
			.- Admin Marcas: Se agrega el nombre del turno como info adicional de c/empleado en el combobox.
			.- Se verifica el cierre de las conexiones de base de datos en todo el Sistema.
			
		v.2.3.3	25-04-2019	
			.- Nueva tabla 'parametro_sistema'
			.- Se modifica funcion 'get_turno_rotativo_by_fecha_json'. Arrojaba error en los cálculos de asistencia.
			.- Admin Marcas: Las inserciones/modificaciones, son guardadas en una nueva tabla llamada "notificacion".
			Se debe contruir una aplicación externa que lea los registros de esta tabla y envíe los emails según los datos 
			almacenados. Esta tabla manejará una columna 'enviado' {'SI','NO'} para indicar si la notificacion ha sido enviada o no.
			
			.- ejecutar: /database/create_table_notificacion_2_3_3.sql
						 /database/create_sequence_notificacion_2_3_3.sql
				.- INSERT INTO mantencion_tipo_evento(tipo_evento, nombre) VALUES ('NOT', 'Notificacion');
			
		v.2.3.4	29-04-2019
			.- Admin Marcas y Cálculo de asistencia: Se desbloquean los calendarios sólo para usuarios con 
			perfil Administrador.
			
		v.2.3.5 01-05-2019
			.- Dashboard: Se corrige despliegue en página.
			.- Reporte asistencia: Lista de turnos. Debe traer sólo los turnos asignados a uno 
			o mas empleados del CENCO seleccionado en el filtro de búsqueda.
			Para el perfil de usuario Admin, se muestran todos los turnos.
			
		v.2.3.6 04-05-2019	
			.- Ausencias (detalle): Se corrige error que se daba cuando sólo se ingresaba fecha de inicio.
			.- PgBouncer: se asigna valor al parametro "query_wait_timeout = 120"
			
		v.2.3.7 04-05-2019	
			.- Marcas Rechazadas: Se corrige error al mostrar las marcas rechazadas (incluye registro histórico).

		v.2.3.8 08-05-2019	
			.- Marcas Rechazadas: Al momento de filtrar las marcas rechazadas, el orden de los filtros será: Cenco, cod dispositivo, 
			fechas y el empleado seleccionado. 
			Sino selecciona un empleado, debe traer todos los empleados del cenco-reloj.
			
		v.2.3.9 10-05-2019	
			.- Se crean nuevos indices.
			   Ejecutar archivo indices_db.txt
			.- Admin ausencias - detalle: Se corrige despliegue del nombre del empleado en el combo al crear nuevo registro.
			.- Ejecutar: INSERT INTO mantencion_tipo_evento(tipo_evento, nombre) VALUES ('AUT', 'Autenticación');.
			.- Log de eventos: Se agrega registro de eventos de login y de desconexión de usuario en el sistema. Estos 
			pueden ser consultados desde el módulo 'Reportes' - 'Log de eventos'.
			.- Marcas rechazadas: Actuales e históricas. Se corrige ordenamiento por 'fecha hora'.
			.- Admin Ausencias-Justificaciones: SI se ingresa sólo una fecha (inicio/fin) la otra debe tomar el mismo valor.
			
		v.2.4.0 16-05-2019
			.- Calculo de asistencia: Se quita validacion de ejecucion de cálculo asistencia existente.
			
		v.2.5.0 19-05-2019
			.- Se actualiza API Jdbc para conexión a base de datos Postgres. Se usa 'postgresql-42.2.5.jar'
			.- Se modifica modo de conexión a la base de datos. Ahora de usa datasource definido en Wildflly.
			No usar pgbouncer.
			
			Postgresql conf:
				.- en archivo 'postgresql.conf':
				shared_buffers = 1024MB	
			
			Pasos a seguir:
				Dentro de Wildfly se debe hacer lo siguiente:
				1.- Crear la carpeta: '[wildfly_home]\modules\system\layers\base\org\postgresql\main'
				2.- Copiar el archivo 'postgresql-42.2.5.jar' dentro de la carpeta recién creada. 
				3.- Crear el archivo 'module.xml' dentro de la carpeta 'main' con las sgtes lineas:
				
					<?xml version="1.0" encoding="UTF-8"?>
					<module xmlns="urn:jboss:module:1.1" name="org.postgresql" >
						<resources>
							<resource-root path="postgresql-42.2.5.jar"/>
						</resources>
						<dependencies>
							<module name="javax.api"/>
							<module name="javax.transaction.api"/>
						</dependencies>
					</module>
				
				4.- Editar el archivo '[wildfly_home]\standalone\configuration\standalone.xml'.
					.- Buscar la linea que contiene '<subsystem xmlns="urn:jboss:domain:datasources:5.0">'.
					
					.- Dentro del bloque, se debe agregar el nuevo '<datasource>':
						<datasource jta="true" jndi-name="java:jboss/datasources/FemaseGestionDS" pool-name="FemaseGestionDS" enabled="true" use-java-context="true">
							<connection-url>jdbc:postgresql://localhost:5432/femasegestion</connection-url>
							<driver>postgresql</driver>
							<transaction-isolation>TRANSACTION_READ_COMMITTED</transaction-isolation>
							<pool>
								<initial-pool-size>5</initial-pool-size>
								<max-pool-size>100</max-pool-size>
								<prefill>false</prefill>
								<use-strict-min>true</use-strict-min>
								<capacity>
									<decrementer class-name="org.jboss.jca.core.connectionmanager.pool.capacity.SizeDecrementer">
										<config-property name="Size">
											1
										</config-property>
									</decrementer>
								</capacity>
							</pool>
							<security>
								<user-name>femase</user-name>
								<password>gestion</password>
							</security>
						</datasource>
						
					.- Dentro del bloque '<drivers>', se debe agregar lo siguiente:
						<driver name="postgresql" module="org.postgresql">
							<xa-datasource-class>org.postgresql.xa.PGXADataSource</xa-datasource-class>
						</driver>
						
				Tuneo postgres: 
				en el archivo postgresql.conf:
					idle_in_transaction_session_timeout = 3000
					initial pool size=5
					Max Pool Size = 100
					max_connections = 100			# (change requires restart)
				
				Cambios en el sistema:
				.- Admin Marcas: Eliminar campo ID al crear nuevo registro.
				.- Ausencias (detalle): Crear/Modificar registro. 
					En el diálogo para crear/modificar registro: Modificar campo '¿Ausencia por hora? Si/No' (radiobutton), quedando como:
					dos radiobuttons con las etiquetas 'Ausencia por todo el día' y otro con el label 'Ausencia por hora' (usar los mismos radiobuttons existentes.
				.- Admin Empleados: La columna 'Accion' debe ser la 1a columna que se muestra en la tabla de registros.
				.- Reporte de asistencia: Se ajusta diseño, optimizando el espacio.	
				.- Se agrega fav-icon al sistema web. Se usa circulo azul del Logo Femase.
				.- Se crea nuevo Mantenedor de "Tipos Marcas Manuales".
				.- Base de datos:
					1.- Crear nuevo acceso: acceso_nombre = "tipo_marca_manual", "Tipos Marcas Manuales", "/mantencion/tipos_marcas_manuales.jsp"
					1.1.- En 'Mantenedor de accesos por Perfil de usuario', 
						Para el perfil 'Administrador': asignar el acceso "Tipos Marcas Manuales" dentro del módulo 'Marcas asistencia'
					2.- Ejecutar:
						create_sequence_tipo_marca_manual_id_2_5_0.sql
						insert_into_v_2_5_0.sql
						create_table_tipo_marca_manual_v_2_5_0.sql
						alter_tabla_marca_v_2_5_0.sql
				
				Credenciales wildfly server de produccion (vps)
					admin/femase.2019
			
				
			v.2.5.1 03-06-2019	
				.- Crear/Modificar empleado. Insert/Update en tabla 'turno_asignacion'
				.- "Informe de modificaciones o alteraciones de los turnos de uno o mas trabajadores". 
					Requerido para la certificación. Exportación a CSV. Permite filtrar por centro de costo, empleado y/o rango
					de fechas.
				.- Admin Empleados: Crear/Modificar. Guardar empresa, depto y cenco en la tabla de Eventos del sistema.
				.- Admin Marcas. Crear/Modificar registro:
					* Combo "Evento": Dejar sólo las opciones 'Entrada' y 'Salida'.
					* Verificar que se guarde correctamente el campo 'tipo marca manual' en la tabla 'marca'.
					* Campo 'Comentario' se debe mostrar debajo del campo 'Tipo Marca Manual'. 
						Y sólo debe ser obligatorio en caso de que se seleccione el tipo marca manual='Otros'
					* Campo comentario sólo se debe habilitar cuando se selecciona Tipo Marca Manual = OTROS.
					
			v.2.5.2 05-06-2019
				.- Modificar sp 'getempleadosjson': Agregar campo de salida 'fecha_fin_ausencia'.
				.- Admin ausencias detalle. Ausencias x hora o por día. Diferenciar formularios en cada caso (ocultar / mostrar campos).
				.- Error en planilla de asistencia: Revisar hrs presenciales calculadas. 
					Empleado con marcas de Entrada 09:00:00 y de Salida: 18:30 (Turno es de 9 a 18:30hrs), arroja Hrs presenciales = '09:00:38'. 
					Tiene una ausencia por hora entre las 12 y las 13 hrs.
				.- Modificar Empleado: Muestra Rut no valido ('-0'). Se corrije fórmula para validar rut en todos los casos.	
				
			v.2.5.3 06-06-2019
				.- Admin Marcas: Se corrige error al eliminar marca ingresada manualmente.
				.- Admin Marcas: Crear Marca manual. 
					Se corrige error informado: Al crear una nueva marca, tipo marca manual “Otros” se habilitó el campo “comentarios”, 
					escribí algo, luego cambie de opinión y elegí el “Reloj Fuera de Línea”, le di guardar y me dice que el campo comentarios es obligatorio.
				.- Cálculo asistencia: Descontar tiempo de colación cuando hay una ausencia x todo el día.
				
			v.2.5.4 08-06-2019
					.- Admin Empleados: Cambios en filtro "Estado": 
						Campo filtro "Estado": El estado "Vigentes" debe aparecer seleccionado por defecto. Luego, No vigentes y luego "Todos"
					.- Admin Ausencias-detalle: Al momento de insertar una ausencia por hora y al elegir el día de inicio 
					por ejemplo hoy, debería insertar automáticamente la fecha de fin igual que la de inicio.
					.- Admin Ausencias-detalle: Ocultar el campo "Autorizada (Si/No)". Se debe asumir que todas las ausencias están autorizadas.
						Las ausencias creadas debe asumir autorizada='S'.
			
			v.2.5.5 09-06-2019	
				.- Admin Marcas: Insercion de marcas manuales. Ahora se usa sp 'inserta_marca_manual'.
				Si la marca no pudo ser insertada, se muestra mensaje de error.
				
			v.2.5.6 11-06-2019		
				.- Admin Marcas: Se corrige conexión a base de datos al momento de rescatar marcas faltantes.
				.- Corrección de error al calcular asistencia, al momento de restar minutos de colacion en un dia sin turno asignado.
				.- Se eliminan mensajes en jtable.js.
				
			v.2.5.7 12-06-2019	
				.- Funciones en BD: modificar nombre de columnas en el json resultante.
				.- Admin Marcas: Se corrige despliegue de columna ID (No se estaba mostrando).
				.- Cálculo asistencia para turnos rotativos: Se corrige procesamiento de fechas sin marcas.
				
			v.2.5.8 13-06-2019
				.- Login de usuario: Se corrige error al validar usuario y se mejora mensaje mostrado al usuario.
				
			v.2.5.9 16-06-2019	
				.- Informe de asignación de turnos: Se agregan filtros de búsqueda por turno normal.
				
			v.2.6.0 28-06-2019
				.- Asignacion ciclica de turnos: Nuevo modulo que permite asignar turnos a uno o mas empleados.
					1.- seleccionar centro de costo.
					2.- seleccionar uno o más empleados.
					3.- Ingresar fecha de inicio, número de días del ciclo(semanas) y la duración de la asignación (años)
					Se debe seleccionar la fecha de inicio, el num de ciclos y la duración (años) de la asignacion
					automatica.
					Ejecutar: ALTER TABLE acceso ADD COLUMN acceso_url character varying(70);
					
			v.2.6.1 06-07-2019
				.- Asignacion ciclica de turnos: Nuevo modulo que permite asignar turnos a uno o mas empleados.
					Implementacion completa. 
					Los turnos asignados reemplazan a los turnos existentes para cada una de las fechas incluidas
					dentro del ciclo definido.
					
			v.2.6.2 07-07-2019
				.- Asignacion ciclica de turnos: Se corrige seteo de dias 'sin turno asignado', en los casos que un día 
					sin turno asignado, reemplaza a un dia con turno definido.
				.- Log de eventos: Registrar las consultas de:
						. Marcas
						. Ausencias - detalle
						. Asistencia - Resultados
						. Empleados
						. Reporte de asistencia
						. Marcas historicas
						. Ausencias historicas
						
			v.2.6.3 08-07-2019
				.- Cálculo asistencia: Error con turno rotativo y sin marcas: Está mal el total de días ausentes.
				.- Corrección por error: 
					Para todo el mes de Junio 2019. Se ejecutó cálculo de asistencia para un empleado de FEMASE 
					con turno rotativo general, y sin marcas para el mes de junio. 
					La planilla de asisencia muestra correctamente el horario teórico según asignación, 
					pero los días que el horario de entrada es 23:00 y salida 07:00, dice que tuvo 16 hrs no trabajadas.
					Hay error pues lo correcto es 8hrs.
				.- Asignación cíclica de turnos: Al guardar la asignación, se debe mostrar mensaje, 
				indicando: “HORARIOS ASIGNADOS CORRECTAMENTE POR UN PERIODO DE X AÑOS"	
			
			v.2.6.4 12-07-2019
				.- Cambio gráfico en página de Login al Sistema.
				.- Admin Marcas: Se agregan filas de datos en la vista para alertar cuando no hayan marcas cuando por turno le correspondía trabajar. Mostrar en color rojo.
				.- Calculo de asistencia: hrs extras antes de la hora de entrada: No deben considerarse.
				.- Admin Marcas: Se agrega opción para bajar las marcas a archivo CSV.
				.- Turnos Normales: Asignación a cencos.
						- Crear tabla 'turno_centrocosto''
						- Crear módulo 'Asignacion de turnos a centros de costo' para permitir la asignación de cenco(s) a un Turno_x
						- Admin Centros de costo: Agregar link a la asignacion de turnos para el centro de csto seleccionado.
				.- Se redimensiona logo de Femase. Este logo se muestra cuando un usuario de la empresa Femase entra al Sistema.
				.- Reporte de asistencia.
					Sacar donde dice:
						 N = día Normal (no lo estamos ocupando).
						 FL = Día Festivo o Libre (tampoco lo ocupamos).

					Y reemplazarlos por:
						+1 = Marca Día Siguiente (hace referencia a una entrada o salida al día siguiente).
						* = Marca Manual o Modificada.
						Fecha Impresión (Actualmente solo dice Fecha).
						
		v.2.6.5 12-07-2019
			.- Admin Marcas: Cuando exista una ausencia por día, se debe mostrar "Ausencia', 
				y en campo 'comentario' Indicar el tipo de ausencia (justificación), por ejemplo: 'Vacaciones', 
				'Licencia Medica' o 'Permiso administrativo', etc. Solo ausencias por día.
			.- Admin Marcas: Mostrar marcas segun turnos rotativos, cuando la salida es al día siguiente.
				
				
		v.2.6.6 21-07-2019
			.- Admin Turnos: Se agrega filtro 'Empresa' (lista).
			.- Admin Marcas: Se corrige error al editar registro.
			.- Cálculo de Asistencia: No muestra los segundos en las marcas de entrada y salida.
			.- Admin Marcas: Se corrige despliegue de marcas de entrada y salida para turnos nocturnos.
			.- Asistencia-Resultados: Se corrige error al editar registro y autorizar hrs extras existentes.
				
		v.2.6.7 22-07-2019
			.- Admin Empleados: Se agrega filtro 'Turno'. Los turnos dependen del centro de costo seleccionado.
			.- Admin Empleados: Crear/Modificar empleado: Al seleccionar un centro de costo, se deben cargar los respectivos turnos. 
			.- Admin Empleados: Al Modificar empleado, cargar turno guardado.
			.- Informe Asistencia: Al seleccionar un centro de costo, se deben cargar los respectivos turnos.
			
		24-07-2019
			Se aumenta largo de columnas rut_empleado en las sgtes tablas:
				ALTER TABLE mantencion_evento ALTER COLUMN empleado_rut TYPE character varying(12);
				ALTER TABLE detalle_ausencia ALTER COLUMN rut_empleado TYPE character varying(12);
			
		v.2.6.8 25-07-2019
			.- Asistencia Resultados: Se mejora despliegue de mensaje al modificar registro (validacion de hrs extras autorizadas).
			.- Se mejora validación de sesión de usuario. El límite de tiempo de inactividad en el sitio es de 30 minutos. 
				Si el usuario no realiza ninguna actividad en el sistema, la sesión expira y se obliga al usuario a volver a autenticarse.
			Cada vez que el usuario ingresa a algún módulo del sistema, se agregan 30 minutos más a la sesión.
			.- Admin ausencias: Se modifica query usado al actualizar/eliminar una ausencia. Arrojaba error cuando una ausencia
				no tenía un 'rut autorizador' definido.
			.- Admin ausencias: Al editar ausencia existente 'Por Horas' no muestra las respectivas horas ingresadas.
				
		v.2.6.9 03-08-2019
			Observaciones a versión 2.6.6 (correo de Felipe del 29-07-19): 
			.- Se modifica funcion 'get_marca_by_tipo_and_fecha_hora_json'.
			.- Para empleado: Felipe Galindo, de FEMASE. Se inserta marca manual como entrada para el día 7 de junio a las 18:30 hrs. Se modifica registro para cambiar el evento de Entrada a Salida y el sistema muestra la primera marca manual. Como se refrescaba volví a modificar el registro y luego pinche el icono para que me muestre los eventos de modificación para esa marca, y esta muestra dos registros. La marca se modifico llegando el correo de esta, pero no realiza los cambios, quedándose en Entrada y por ello el Hash tampoco cambia. 
			.- Planilla de Asistencia: No muestra los segundos en las marcas de entrada y salida. (empleados con turno rotativo). EL ERROR SE PRODUCIA 0CUANDO NO HAY TURNO DEFINIDO PARA UN DIA. SE CORRIGE PARA QUE MUESTRE LIBRE O FERIADO.
			.- Admin marcas: al editar marca de salida, muestra 'Evento=Entrada', lo que es incorrecto.
			.- Admin. Marcas: Despliegue de marcas de entrada y salida para turnos nocturnos. Funciona correctamente, pero para el día sábado 15 de junio, falta la salida a las 22 hrs. Y en la planilla de asistencia también. (empleado Elias Sebastian Gonzalez, de FEMASE). CUANDO HAY MAS DE UNA MARCA DE SALIDA, EN LA PLANILLA DE ASISTENCIA SE MUESTRA Y CONSIDERA  SÓLO LA ULTIMA.
			.- Planilla de asistencia: Cuando hay atrasos, igualmente se están calculando hrs extras (cuando sorresponda).

			Observaciones a versión 2.6.8 (correo de Felipe del 31-07-19):
			.- Admin ausencias: "Al editar ausencia existente" del tipo 'Por Horas' no muestra las respectivas horas ingresadas.
			A pesar de que el sistema si muestra la hora de inicio y la hora de fin de la ausencia, estas se ven deshabilitadas. 
			
			.- Admin ausencias: Por un tema de espacio, se elimina filtro de busqueda 'Tipo Ausencia' y 'Autorizador'. 
			
			Observaciones a versión 2.6.7 (correo de Felipe del 29-07-19):
			.- Admin Empleados: Después de crear o modificar un empleado, se debe mantener el centro de costo seleccionado.
			
		v.2.7.0 11-08-2019	
			.- Asignación de turnos a Centros de costo: Agregar ID del turno en las listas que se muestran, para facilitar la búsqueda.
			.- Admin Ausencias - detalle: Habilitar el campo de filtro “Tipo Ausencia”.
			.- Marcas para turnos rotativos se ven todas, pero, marca por medio no se le ven los datos de ID y Hash.
			.- Planilla de asistencia, muestra los segundos “solo en las marcas de salida”, esto sucede para turnos rotativos.
				Hay que realizar recálculo de asistencia para que tomen los cambios realizados y así poder ver los segundos en ambas marcas.
			
				*** En producción desde el 11-08-2019 ***

		v.2.7.1 12-08-2019			
			.- Admin marcas: Cuando no hay marcas, sólo mostrar las ausencias por día si es que las hay.	
			.- Admin ausencias-detalle: Cuando se modifica una ausencia, no se debe pisar el valor existente en la columna 'ausencia_autorizada'.	
			
		v.2.7.2 15-08-2019
			.- Informe asistencia: Cuando se selecciona la opción 'Todos los empleados' de un centro de costo.
				Se muestra la fecha de ingreso de cada empleado en cada informe individual.
			.- Cálculo asistencia: Si una Licencia médica es por 2 semanas, los días feriado o sin turno, 
				se muestran como 'Licencia Medica' en el campo/columna 'Observacion' y con 'hrs hustificadas' en cero. 
				En estos casos debe mostrarse 'Libre' o 'Feriado'.
				Se debe recalcular asistencias para que los cambios se apliquen. 
			.- Al crear nuevo registro en Ausencia Detalle, por defecto debe aparecer seleccionada la opción “Ausencia por hora”.	
			.- Cuando hay licencia medica, siempre se muestra 'Licencia Medica' en la columna 'observacion'.
				El resto de las ausencias, se muestran con su respectivo nombre, y dependiendo si tiene turno o es feriado.
				
		v.2.7.3 18-08-2019
			.- Se corrige error: Se crea una ausencia “Licencia Médica”, para los días 18 al 31 de diciembre, el día 25 es “Feriado”, 
				pero está mostrando 9 hrs de justificación. Esto no se debe mostrar cuando es feriado o cuando corresponda a un día de descanso, 
				solo se debe mostrar el nombre de la ausencia en el campo observación.
			.- Nuevo módulo 'Vacaciones':
				* Crear nuevo acceso:
					nombre: vacaciones_info
					etiqueta: Vacaciones
					url: /mantencion/vacaciones.jsp
				* Asignar el nuevo acceso 'Vacaciones' al módulo "Administracion".
				* INSERT INTO mantencion_tipo_evento(tipo_evento, nombre) VALUES ('VAC', 'Vacaciones (Info)');	
				* 'Vacaciones': Permite consultar, ingresar, modificar y eliminar saldos de dias de vacaciones.
						También se permite la exportación a archivo CSV de la información existente.
			.- Ausencias - detalle: Mostrar columna 'saldo dias vacaciones'	
			
		v.2.7.4 21-08-2019	
			.- Carga de archivo CSV con los dias acumulados, progresivos y saldo de vacaciones de cada empleado.
			.- Cálculo de asistencia: A las hrs no trabajadas se deben descontar los minutos de colación. 	
			
		v.2.7.5 29-08-2019		
			.- Correcciones cálculo asistencia, 
			respecto a cálculo de 'horas trabajadas'. Considerando: hrs presenciales, hrs justificadas y minutos de colación.
			.- Asignacion turnos rotatativos: Se muestran los empleados de todas las empresas para permitir la asignacion de turno rotativo.
			Hasta ahora sólo dejaba asignar a los empleados de la FMC.
			
		v.2.7.6 31-08-2019			
			.- Admin marcas: Se agrega columna 'turno'.
			.- Admin turnos: Se agrega columna 'Rotativo?" (S/N)
			.- Admin marcas: se corrige despliegue de marcas para turnos rotativos.
			
			************** version 2.7.6 en producción-dummy **************
		v.2.7.7 05-09-2019
			.- Admin marcas: Se muestran correctamente los nombres de los días en cada fecha que se muestra.
			.- Admin marcas: Columna 'turno': cuando hay marcas con turnos rotativos, no muestra nada.
			.- Admin marcas: Se muestran las marcas existentes aún cuando no haya turno definido. En tal caso, se muestra 'Sin turno'
			.- Admin marcas: El mensaje 'Falta marca entrada/salida', sólo se muestra cuando hay turno definido.
			.- Cálculo asistencia: Si no tiene turno, no se efectúa cálculo de asistencia.
			
			.- Admin ausencias: se agrega nueva columna 'justifica horas' {S: Si, N: No}. 
				Esta columna permitirá, durante el proceso de cálculo de asistencia,  determinar
				si una ausencia existente justifica horas o no. 
				Por ejemplo: 'recuperacion horaria' y 'compensacion de tiempo' no deben setear hrs justificadas. 
					ALTER TABLE ausencia ADD COLUMN justifica_horas	character(1);
					ALTER TABLE ausencia ALTER COLUMN justifica_horas SET DEFAULT 'S'::bpchar;
			.- Admin Tipos de ausencias: Se agrega filtro de busqueda 'justifica horas'		
			.- Reporte asistencia: Agregar nueva columna 'total del dia'. detalle_asistencia.hrs_totales_dia.
			.- Reporte asistencia: Agregar totalera de nueva columna 'total del dia'.
			.- Actualizar plantilla del reporte de asistencia.
			.- Se agrega nueva columna a funcion 'get_ausencias_json'.
			.- Cálculo de asistencia: cuando existan ausencia con columna 'justifica_horas'='N' 
				(Por ej.: 'recuperacion horaria' y 'compensacion de tiempo') no se deben setear hrs justificadas.
			************** version 2.7.7 en producción-dummy **************	
				
		v.2.7.8 15-09-2019
			.- Nueva columna en tabla 'turno': 
				ALTER TABLE turno_rotativo ADD COLUMN turno_nocturno character(1);
				ALTER TABLE turno_rotativo ALTER COLUMN turno_nocturno SET DEFAULT 'N'::bpchar;
			.- Admin Marcas: Se modifica procedimiento para mostrar las marcas. En un solo Sql se trae toda 
				la información que permite mostrar las marcas o la data adicional (dias libres, feriados, marcas faltantes, Sin turno, etc)
			.- Se agrega acceso a 'reporte asistencia resumido CSV', para permitir que a cualquier perfil se le asigne dicho acceso.
				Este nuevo acceso debe quedar bajo el módulo 'Reportes/Informes'	

			************** version 2.7.8 en producción-dummy desde el 30-09-2019 **************		
			
		v.2.7.9 01-10-2019
			.- Admin tipo ausencias: se agrega nueva columna 'pagada_por_empleador' {S: Si, N: No}. 
				Esta columna permitirá, durante el proceso de cálculo de asistencia
				Si un tipo de ausencia tiene el atributo 'pagada_por_empleador' = 'N' (No) 
				entonces las hrs justificadas por la ausencia, 
				no deben ser consideradas en la columna 'horas_totales' que se muestra en las planillas de asistencia.
				
				Por ejemplo: 'Licencia Medica' no deben setear hrs totales.
				Ejecutar los sgtes sql:				
					ALTER TABLE ausencia ADD COLUMN pagada_por_empleador	character(1);
					ALTER TABLE ausencia ALTER COLUMN pagada_por_empleador SET DEFAULT 'S'::bpchar;
				Solo ejecutar en carga inicial:	
					update ausencia set pagada_por_empleador='S';
			.- Cálculo Asistencia: Se realizan correcciones respecto al seteo de la columna horas totales cuando hay ausencias.		
			.- Admin Centros de costo: se oculta columna 'Accion' al crear/modificar registros.		
			.- Ejecutar: 
						get_ausencias_json_2_7_9.sql
						get_ausencias_hist__json_2_7_9.sql
			.- Admin Dispositivos: Se agregan nuevas columnas:			
						ALTER TABLE dispositivo ADD COLUMN comuna_id integer;
						ALTER TABLE dispositivo ADD COLUMN direccion character varying(70);
						
						update dispositivo set comuna_id=-1;
			
			************** version 2.7.9 en producción-dummy desde el 05-10-2019 00:30am**************					
			
		v.2.8.0 06-10-2019
			.- Listado de comunas: se agrega el short_name de la región en el listado de comunas.
			.- Se agrega nuevo mantenedor 'Admin Regiones'
			.- Se agrega nuevo mantenedor 'Admin Comunas'
				Ambos mantenedores quedan dentro del menú 'Configuración Sistema'
				
			************** version 2.8.0 en producción-dummy desde el 06-10-2019 19:00hrs **************					
			
		************** version 2.8.0 en producción desde el 07-10-2019 22:00hrs *************
		v.2.8.1 08-10-2019
			.- Cálculo de asistencia: Se corrige error al sumar horas presenciales + hrs justificadas. 
				Error reportado para el rut: 
				
					Rut: 13711042-3, CAROLINA SASSO FUENTES. CENIM PEÑALOLEN MACUL
					Marca: 
					dia 7 oct.
					entrada: 09:20:04
					salida: 18:01:01

					Ausencia:
					Salida a terreno autorizada, Por horas.
					el 7 oct de 08:30 a 09:20hrs.
		
		************** version 2.8.1 en producción desde el 08-10-2019 22:00hrs *************
		v.2.8.2 09-10-2019
			.- Admin Marcas: Se corrige error al mostrar 'falta marca...".
			.- Admin Marcas: Se agrega despliegue de columnas 'id' y 'hashcode'.
			.- Admin Marcas: En la columna 'Mas info' se muestra 
				el feriado correspondientes: 'domingo' o feriados especiales ('fiestas patrias', 'navidad', 'dia del trabajador', etc).
			.- Admin marcas: Se corrige error al eliminar marcas. Ahora se pueden eliminar correctamente.	
			
			
		12-10-2019
			Revisar caso de cenim la cisterna.
				rut: 18442198-4
				Stephanie gutierrez poblete

				** Error: Para todo el mes de septiembre, no muestra todas las marcas.
				Sólo muestra datos hasta el domingo 8 de septiembre. EL resto de las marcas no aparecen.
				
				* Antecedentes del error:
				- El mes de agosto y octubre lo muestra correctamente.
				- Los días 10 y 12 de septiembre tiene ausencias por hora.
					dia 10-09 de 8:30  a 13:07 hrs 
					dia 12-09 de 14:48 a 18:00 hrs
				
				
				Admin marcas, no muestra correctamente las marcas de septiembre.
				Dia 12 de sep, tiene 2 entradas y 2 salidas.
				Y para los dias 18, 19 y 20, muestra 'Faltan ambas marcas', cuando debe mostrar 'Feriado'

		v.2.8.3 12-10-2019
			.- Admin marcas: se corrige join y casteo de fecha al rescatar las marcas. 
				Se estaba generando error al mostrar las marcas.(Ej: rut: 18442198-4 de cenim la cisterna)
			.- Admin Marcas: Cuando corresponda, en la columna 'Mas info' se muestra la ausencia correspondiente.	
				
			************** version 2.8.3 en producción desde el 12-10-2019 *************
		v.2.8.4 13-10-2019
			.- Reporte asistencia resumido: Se agrega cabecera con empresa, depto, centro de costo y rango de fechas seleccionado.
			.- Se crea nueva funcion 'get_empresadeptocenco_json'
			
			************** version 2.8.4 en producción desde el 14-10-2019 *************
			
		v.2.9.0 17-10-2019	
			.- Ausencias (detalle): La creación de justificaciones de inasistencia se realiza en un formulario separado
			de la vista donde se muestran las justificaciones existentes.
			A este formulario se accede, haciendo click en un nuevo botón en la pantalla de 'Ausencias-detalle'.
			
			************** version 2.9.0 en producción Dummy desde el 20-10-2019 *************
			
		v.2.9.1 22-10-2019
			.- Ausencias: Crear nuevo registro.
				.- Ausencia por hora: la fecha de inicio se debe copiar en fecha de fin.
				.- Achicar tamaño de campos horas y minutos. Y aumentar tamaño de fuente en ambos campos.
				.- Combo Motivo de ausencia: Mostrar sólo el nombre del motivo.
			.- Planilla asistencia: Se corrije sumatoria de total de días trabajados mostrador.
			.- Reportes de asistencia: Para todos los reportes de asistencia, se muestran sólo los empleados vigentes y 
				que no tengan articulo 22.
			.- Cálculo Asistencia: Ercilia Soto del proyecto ALEAH, 
				tiene licencia médica desde el 26/08-2019 hasta el 30/09/2019, y los turnos asignados son sólo los domingos.
				Ls horas justificadas no se ven reflejados en horas justificadas. Corregido.	
			************** version 2.9.1 en producción Dummy desde el 22-10-2019 *************	
		
		v.2.9.2 23-10-2019		
			.- ReqId: 20191023-001. Mensaje de duplicidad de rut. Mostrar mensaje: "Trabajador ya existe en el Centro de costo: XXX.
			.- ReqId: 20191024-0001. Ingreso Justificación. Campo fecha fin y tabulador.
			.- ReqId: 20191024-0003: Ingreso Justificación. Asistencias por hora: Validación de horas y minutos vacios.
			.- ReqId: 20191024-0004: Reporte de asistencia Resumida. Se agrega filtro de incluir sólo empleados vigentes y sin articulo 22.
			.- ReqId: 20191024-0005: Reportes de asistencia: Se quita filtro 'Formato', pues siempre se asume PDF.
			
			************** version 2.9.2 en producción Dummy desde el 25-10-2019 *************	
		v.2.9.3 28-10-2019
			.- ReqId: 20191028-001. Informe asistencia: Del combo 'Tipo': Eliminar opción 'Asistencia Resumido CSV'.
			.- ReqId: 20191028-002. Reportes - 'Reporte asistencia resumido'. Eliminar combo 'Empleado'.
			.- ReqId: 20191028-003. Reportes - 'Reporte asistencia resumido'. 
				Generar reporte sólo para el centro de costo seleccionado. Si no selecciona cenco, se debe generar el reporte para toda la empresa.
				Se agregan mensajes de validación.
			.- Crear función: get_empresa_json
			
			************** version 2.9.3 en producción Dummy desde el 29-10-2019 *************	
		v.2.9.4 31-10-2019
			.- ReqId: 20191030-001. Reporte Asistencia Resumido.
				.- Eliminar combo 'Formato' (Pdf/CSV)
				.- Centrar mensajes de validación
				.- Observación: Cuando se selecciona sólo la empresa, en el resultado no incluye todos los centros de costo. 
					Respuesta: Sólo se incluyen los empleados que tengan detalle de asistencia dentro del rango de fechas seleccionado. 
					Si en un centro de costo ningún empleado tiene datos de asistencia, dicho centro de costo no se muestra en el reporte resumido.
			.- ReqId 20191030-002: Admin Marcas. Se muestra correctamente columna 'comentario'.
			.- ReqId 20191030-003: Asistencia Resultados. Las hrs:minutos extras se obtienen de la diferencia entre
				  la hora real de salida vs la hora salida teórica.
				
			************** version 2.9.4 en producción Dummy desde el 31-10-2019 *************	
			
		v.2.9.4i 02-11-2019
			.- ReqId: 20190422-0001. *CERTIFICACION* Informe Hrs extras. 
				Nuevo item dentro del menú 'Reportes/Informes'. 
			Ejecutar: INSERT INTO mantencion_tipo_evento(tipo_evento, nombre) VALUES ('IHE', 'Informe Horas Extras'); 	
			
			************** version 2.9.4 en producción desde el 02-11-2019 *************	
		v.2.9.5 02-11-2019
			.- ReqId 20191102: Admin marcas. Se corrige error al mostrar marcas en dias feriados o sin turno.
			.- ReqId: 20190503-0001. CERTIFICACION* Informe días festivos trabajados.
			.- ReqId 20191103-001: Cálculo asistencia. Considerar como hrs extras lo trabajado antes de la hora de entrada.
			.- ReqId: 20190422-0001. *CERTIFICACION* Informe Hrs extras. Se agrega columna 'hh:mm atraso'.
			.- ReqId 20191103-002: Cálculo asistencia. Se crea nueva columna para guardar las hh:mm correspondiente
				a salidas anticipadas efectivas. Estas aplican cuando la hora de salida es inferior a la hora de salida teórica.
				Ejecutar sql:
					ALTER TABLE detalle_asistencia ADD COLUMN hhmm_salida_anticipada character varying(8);
				
			.- ReqId: 20190728-0001. CERTIFICACION: Reporte de Jornada.
			.- La consulta de cada reporte, queda registrada en el log de eventos del sistema.
			.- ReqId 20191103-004: Reporte asistencia. Agregar datos de la empresa: comuna y región
				Ejecutar sqls:
					ALTER TABLE empresa DROP COLUMN region_id;
					ALTER TABLE empresa ADD COLUMN comuna_id integer;
					INSERT INTO mantencion_tipo_evento(tipo_evento, nombre) VALUES ('IJO', 'Informe de Jornada');
					INSERT INTO mantencion_tipo_evento(tipo_evento, nombre) VALUES ('IDF', 'Informe de dias festivos trabajados');
					
				Actualizar plantilla reporte de asistencia.
				
				.- Ejecutar todos los querys dentro del archivo 'alter_insert_2_9_5.sql'.

				************** version 2.9.5 en producción desde el 04-11-2019 *************	
		v.2.9.6 07-11-2019		
			.- ReqId 20191105-005: Informes certificación: 
				Nueva columna turno. En columna fecha, mostrar dia de la semana. Y excluir empleados con articulo22
			.- ReqId 20191105-002: Cálculo asistencia: Se corrige descuento de minutos de colacion. Daba error cuando se
			   tomaba más de 59 minutos.
			.- ReqId 20191105-001: Cálculo asistencia. Manejo de vacaciones.
				A.- Empleada 'Daniela Castro', del PPF CASTRO registra vacaciones del 28 de octubre al 08 de Noviembre, 
					y en el informe de asistencia por persona, los feriados se cambian a vacaciones. 
					Dato: Esos días hay turno asignado y además es feriado. En tal caso se debe mostrar FERIADO.
				B.- Para un día con vacaciones: Las hrs justificadas no se ven afectadas por la resta de minutos de colación.
			.- ReqId 20191112-001: Admin Feriados. En la lista de meses, se muestran los nombres de cada mes.	
				
			************** version 2.9.6 en producción Dummy desde el 12-11-2019 *************
		v.2.9.7 17-11-2019		
			.- ReqId 20191104-001: Crear justificación de inasistencia. Mostrar  ultimas 10 ausencias creadas.
			.- ReqId 20191121-001: Cálculo Asistencia: Al total de hrs justificadas para las ausencias remuneradas, no se le deben restar los minutos de colación.
			
			************** version 2.9.7 en producción Dummy desde el 21-11-2019 *************
		v.2.9.8 04-12-2019
			.- Marcas rechazos, cambios: 
				.- Modificar función 'inserta_marca_manual', actualmente usada dentro del Sistema Web (Admin Marcas --> 'crear nuevo registro')
					OK
				
				Tabla 'codigo_error_rechazo'
				20191204-001: Admin Cod Error rechazos nuevo mantenedor (CRUD).
					Crear nuevo acceso. Luego asignarlo dentro del módulo 'Configuracion Sistema'.
					OK
					
				20191204-002: Crear trigger en tabla ausencia.	
					Crear trigger en la base de datos, para que cada vez que se cree un nuevo registro en tabla 'ausencia'
				    se inserte un registro en esta tabla.
					OK
					
				Tabla 'marca_rechazo':
				20191204-003: Modificar módulo 'marca_rechazo': Agregar enlace con tabla 'codigo_error_rechazo' (join con columna 'motivo_rechazo')
					OK
								
				Cambios en base de datos:
					Ejecutar: INSERT INTO mantencion_tipo_evento(tipo_evento, nombre) VALUES ('CER', 'Codigos error rechazos');
					Ejecutar: 	ausencia_insert_trigger_2_9_8.sql
								new_inserta_marca_manual_2_9_8.sql	
		v.2.9.9 12-12-2019
			20191212-001: Cálculo asistencia. Los atrasos siempre deben quedar registrados. Aún si hay justificación horaria ingresada.
			
					
		v.3.0.0 15-12-2019	
			.- 20191123-002: Reportes de asistencia (Certificación): 
				Reportes para la certificación: de Asistencia: 
					Crear nuevo módulo de menú llamado 'Reportes Asistencia' (Certificación). 
					Dentro estarán los siguientes ítems:
					.- Reporte de Asistencia. ok
					.- Reporte de Jornada. ok
					.- Reporte de día domingo y festivos. ok
					.- Reporte de modificaciones y/o alteraciones de turnos.
					.- Reporte de exceso de jornada.

					EXPORTACION SOLICITADA
					Debe ser posible exportar los reportes en formato Excel y Word o XML.
					CSV también.

				Eliminar accesos asignados al perfil 'Fiscalizador' (sólo del módulo 'Reportes/Informes')	
				Ejecutar: delete from modulo_acceso_perfil where perfil_id=4 and modulo_id=2;
					Crear nuevos accesos:
					nombre				etiqueta							url
					asistencia_cert		Reporte de Asistencia (Cert)		/reportes/certif_asistencia.jsp
					
				Cambio en definicion de los accesos a los reportes:
					Informe horas extras		--> nuevo nombre: 'exceso_jornada_cert', 	nueva etiqueta: 'Reporte de Exceso de Jornada', url: /reportes/certif_informe_hrs_extras.jsp
					Informe festivos trabajados	--> nuevo nombre: 'festivos_cert'			nueva etiqueta: 'Reporte domingos y festivos'	url: /reportes/certif_informe_festivos_trabajados.jsp
					Informe de jornada			-->	nuevo nombre: 'jornada_cert'			nueva etiqueta: 'Reporte de Jornada'			url: /reportes/certif_informe_jornada.jsp
					Informe asignacion turnos	--> nuevo nombre: 'asig_turnos_cert'		nueva etiqueta: 'Reporte modif/alteracion turnos'	url: /consulta/asignacion_turnos.jsp
				
				Nuevo acceso:
					Informe asistencia (simple)	--> nuevo nombre: 'asistencia_cert', 	nueva etiqueta: 'Reporte de Asistencia (simple)'	url: /reportes/certif_asistencia.jsp
					
				Ejecutar: 
					INSERT INTO mantencion_tipo_evento(tipo_evento, nombre) VALUES ('IAS', 'Reporte de Asistencia (simple)');
					INSERT INTO mantencion_tipo_evento(tipo_evento, nombre) VALUES ('IDF', 'Reporte domingos y festivos');
					INSERT INTO mantencion_tipo_evento(tipo_evento, nombre) VALUES ('IHE', 'Reporte de Exceso de Jornada');
					INSERT INTO mantencion_tipo_evento(tipo_evento, nombre) VALUES ('IJO', 'Reporte de Asistencia (simple)');
				
			.- 20191216-001: Crear Justificación de inasistencia. Se impide el ingreso de más de una 
				inasistencias por hora, con hora inicio y fin ya existentes.	
				
			.- ReqId 20191122: Validar unicidad de emails de usuarios y empleados. Deben ser únicos.	
		
		************** version 3.0.0 en producción Dummy desde el 28-12-2019 *************		
		
		v.3.0.1 29-12-2019
			20191229-001: Reportes asistencia- certificación. Agregar formato de salida XLS y XML
					Nuevo Reporte de modificación/alteración de turnos.
					Nuevo acceso:
					Informe asistencia (simple)	--> nuevo nombre: 'asig_turnos_cert', 	nueva etiqueta: 'Reporte modif/alteracion turnos'	url: /reportes/certif_inf_modif_alteraciones_turnos.jsp
					INSERT INTO mantencion_tipo_evento(tipo_evento, nombre) VALUES ('IMT', 'Reporte de Modificacion/alteración de turnos');
					
					Asi deben quedar los accesos sobre 'alteracion de turnos':
					asig_turnos_view	Consulta modif/alteracion turnos	/consulta/asignacion_turnos.jsp
					asig_turnos_cert	Reporte modif/alteracion turnos		/reportes/certif_inf_modif_alteraciones_turnos.jsp
					
				Observaciones recibidas el 28-12-2019:	
				.- Crear ausencias-justificaciones: Corrección en validacion de ausencias por hora. Y se elimina mensaje de alerta.
				.- Corrección en validación de unicidad de emails tanto para usuarios como para empleados.
				.- Crear empleado: Actualmente ya se guardan los ruts y cod_internos siempre en mayuscula.
		
		v.3.0.2 08-01-2020
			.- 20200107-005: Admin Empleados. Error al actualizar, arroja mensaje de que el mail ya existe.
			.- 20191123-001: Crear justificación inasistencia: Después de crear una nueva justificación, se deben mantener los datos previamente seleccionados: centro de costo, empleado, fechas, hras, etc.
			.- 20200111-001: Admin marcas. Error al modificar marca y pasar de entrada a salida o viceversa.
			
			
			
		v.3.0.3 12-01-2020	
			.- 20200107-005: Admin Empleados. Se valida unicidad de email. Sólo se permite un email repetido
				cuando se trata del mismo empleado (caso de rut 'xxxxxxx-1' y 'xxxxxxx-1B'). 
			.- Crear justificación de inasistencia: Se agrega turno en combo de empleado. Se disminuye tamaño
				de letra del combo empleado.
			
			************** version 3.0.3 en producción Dummy desde el 12-01-2020 *************
		
		v.3.0.4 17-01-2020
			.- 20200117-001: Se corrige validación de unicidad de Email en admin empleados. Y se agrega filtro empresa_id.
	
		************** version 3.0.4 en producción Dummy desde el 17-01-2020 *************
		
		v.3.0.5 19-01-2020
			.- ReqId: 20190524-0001. Nuevo Módulo de vacaciones.
				ALTER TABLE vacaciones ADD COLUMN dias_especiales integer;
				.- Se modifica módulo de carga de dias de vacaciones por archivo CSV.
				Las columnas que debe contener el CSV son:
					'empresa_id'	
					'rut_empleado'	
					'dias_acumulados'	
					'dias_progresivos'	
					'saldo_dias'	
					'dias_especiales'	
					'ini_ult_vacaciones'	
					'fin_ult_vacaciones'

				.- Crear nuevo acceso: 
					nombre: upload_vacaciones
					etiqueta: Carga dias Vacaciones
					Url: /cargamasiva/upload_info_vacaciones.jsp
		
		************** version 3.0.5 en producción Dummy desde el 23-01-2020 *************
		
		v.3.1.0 26-01-2020
			.- ReqId: 20190524-0001. Nuevo Módulo de vacaciones.
			
				.- Crear funciones para consultar, insertar, eliminar y actualizar registros de la tabla 'vacaciones'.
				.- Crear módulo para administrar los días de vacaciones. Permitir búsqueda de empleados por centro de costo o la búsqueda específica de un empleado.
				.- Carga de archivo CSV con los dias acumulados, progresivos y saldo de vacaciones de cada empleado.
				.- Ingresar justificacion de inasistencia: Validar dias de vacaciones solicitados versus
				 el saldo existente en tabla 'vacaciones'.
				.- Ingresar justificacion de inasistencia: Calcular num dias de vacaciones, usando fecha inicio y fecha fin ingresadas. 
					Considerado el turno y excluyendo los festivos. 
					Sólo se contabilizan los días en que el empleado tiene turno, y sólo los días entre lunes y viernes.
				.- Ingresar justificacion de inasistencia: Impedir que se autorice un n° de días de vacaciones mayor al saldo en días que el empleado tiene disponible en el momento.
				 	Cuando se soliciten un número de dias mayor al saldo de dias del empleado, se muestra un mensaje.
					
		************** version 3.1.0 en producción Dummy desde el 31-01-2020 *************
		
		v.3.1.1 14-02-2020
			.- 20200107-004: Justificación de inasistencia. Se agrega validación de rango de fechas ingresado (inicio y fin).
			.- 20200107-002: El informe de festivos y domingos muestra sólo días festivos.
			.- 20200107-003: El informe de modificación de turnos funciona ok.
				Prueba realizada: Admin empleados, Modificar empleado. Se cambia el turno. Luego el cambio de turno se verifican en:
					- Usuario perfil Admin 			--> Reportes/Informes: Consulta modif/alteracion turnos.
					- Usuario perfil Fiscalizador 	--> Reportes/Informes: Reporte modif/alteracion turnos.
					
		v.3.1.2 16-02-2020	
			.- 20200216-001: Ausencias-detalle. Se restringe creacion/modificación de datos. Se filtra por perfil de usuario.	
			.- 20200107-001: Reportes de certificacion: Se corrige error con empleados con turnos rotativos.
			
		v.3.1.3 22-02-2020	
			* 20200223-001: Se habilita ejecución de procesos programados (estaba deshabilitada)
			
			* 20200223-002: Admin Parametros. Nuevo mantenedor
						INSERT INTO mantencion_tipo_evento(tipo_evento, nombre)
							VALUES ('PRM', 'Admin Parametros de Sistema');
			
			* 20200223-003: Admin Centros de costo. Se agrega atributo 'zona extrema' {'S','N'}.
						Nota: PPF FUTALEUFU: es el unico Centro de costo definido como zona extrema
			
			* 20200223-004: Admin justificaciones. Al ingresar/modificar una vacación se guarda nuevo atributo 'dias_efectivos'. 
					Este indica los días efectivos de vacaciones solicitados (solo los días con turno asignado).
						
			* 20200223-005: Admin Vacaciones. 
				Nuevos atributo: Número actual de cotizaciones a la fecha.
					- Agregar nuevo atributos al mantenedor de vacaciones (crear y modificar).
					- Incorporar nuevo atributo a la carga de datos vía archivo CSV.
						Nuevo formato de CSV para cargar info de vacaciones:
							empresa_id,rut_empleado,dias_acumulados,dias_progresivos,saldo_dias,dias_especiales,ini_ult_vacaciones,fin_ult_vacaciones,num_cotizaciones_actual
							
			* 20200224-001: Corregir error al calcular hrs presenciales cuando hay varias marcas de entrada/salida.
				Se deben parear todas las marcas existentes y así calcular las horas presenciales correctamente.
			
				Ejecutar los sgtes sql:
					create_table_parametro.sql
					insert_into_parametro.sql
					alter_table_centros_costo.sql
					alter_table_detalle_ausencia.sql
					alter_table_vacaciones.sql
				
			* .- Modificar acceso 'carga dias vacaciones': renombrar a 'Carga info Vacaciones'	
			
			* 20200226-001: 
					Crear módulo 'Vacaciones' (icon_id: 'fas fa-suitcase'). 
					Items dentro: Info vacaciones, Asignación vacaciones, Solicitud vacaciones, Calendario vacaciones, Reporte vacaciones.
					
		v.3.1.4 28-02-2020
			.- Cálculo asistencia histórico: Se agrega pareo de todas las marcas, tal como se hace con las marcas más recientes.
			
			v.3.1.4i 29-02-2020
				20200229-001: Agregar info a tabla eventos: Sistema operativo y navegador
				
		v.3.1.5 04-03-2020
			20200304-001: Admin marcas, Cuando se modifique el tipo de evento, 
				se debe guardar texto en campo 'comentario': 'CAMBIO DE ENTRADA POR SALIDA' o viceversa.
			
			20200304-002: Admin marcas, Cuando se modifique la hora de una marca, se debe guardar texto en campo 'comentario': 'HORA MODIFICADA'.
			
			20200304-003: Admin marcas, Cuando se modifique la fecha de una marca, se debe guardar texto en campo 'comentario': 'FECHA MODIFICADA'.
			
			20200304-004: Planilla de asistencia. Mostrar asterisco en las marcas con campo comentario <> de vacío.
			
			Nota: en la planilla de asistencia, se muestra un (*) cuando el valor de marca.comentario es <> ''.
			
		v.3.1.6 06-03-2020
			.- 20200306-001: Error al insertar vacaciones. Error al parsear fechas.
			
			.- Se habilita opción dentro del menú 'Vacaciones' --> 'Ingresar Vacaciones'. Este muestra formulario
				para insertar sólo vacaciones.
			
			.- Se deshabilita la inserción de vacaciones desde el formulario de 'Ingreso de justificacion de inasistencia'.
			
			.- 20200305-001: Info Vacaciones. Se corrige error cuando se dejan campos en blanco (crear/modificar)
			
			Cambio en base de datos:
				- ALTER TABLE parametro ADD COLUMN param_value double precision;
				- ALTER TABLE vacaciones ADD COLUMN dias_zona_extrema integer;
					COMMENT ON COLUMN vacaciones.dias_zona_extrema IS 'Dias legales de vacaciones asignados en caso de pertenecer a una zona extrema de pais.';
				- ALTER TABLE vacaciones ADD COLUMN comentario character varying(200);
				
			.- Agregar nuevo parametro:
				code: factor_vacaciones
				label: Numero de dias de vacaciones por mes
				valor: 1.25
				
			.- 20200308-001: Vacaciones - Info Vacaciones. 
				Se implementa botón 'Calcular Saldo Vacaciones', para un empleado o para todos los empleados de un centro de costo en particular.
				Si un empleado no tiene datos en Info Vacaciones, igual se calcula saldo de vacaciones y se deja un comentario, indicando
				que falta información. El cálculo considera todos los dias de vacaciones tomadas por el empleado, 
				considerando dias especiales y dias por zona extrema. 
				En la vista se agregan las columnas: comentario, dias por zona extrema 
 				
			.- Vacaciones - Ingresar vacaciones: Temporalmente, se deshabilita la validación de saldo dias de vacaciones.
			
		v.3.1.7 15-03-2020
			.- Calcular saldo vacaciones: Se corrige error con parseo de dias por zona extrema.
				
			20200307-001: Al insertar vacaciones, se debe guardar la fecha de inicio y fin de las vacaciones recién ingresadas.
			20200308-001: Vacaciones - Info Vacaciones. Se implementa botón 'Calcular Saldo Vacaciones'. 
					Para un empleado o para todos los empleados de un centro de costo en particular.
			20200309-001: Ingreso de vacaciones. El cálculo de días efectivos de vacaciones NO DEBE considerar el turno del empleado. 
							Sólo debe contabilizar de lunes a viernes (no contabilizar días feriados).
			20200309-002: Cálculo de saldo vacaciones: Si detalle_ausencia.dias_efectivos_vacaciones =0---> Se deben calcular los días efectivos a partir de detalle_ausencia.fecha_inicio y detalle_ausencia.fecha_fin. (sólo considerar de lunes a viernes)(no contabilizar días feriados).
			20200313-001: Cálculo días de vacaciones. Factor zona extrema debe ser 1.67 días por mes. El factor para días normales es 1.25 por mes de antiguedad en la empresa.
			20200314-001: 'Vacaciones' - 'Info Vacaciones': En el combo de centro de costo, agregar marca de zona extrema cuando corresponda.
			20200315-001: Generar nuevo reporte 'Vacaciones'
			20200315-002: Vacaciones - Info Vacaciones. Bajada de archivo CSV, actualizar campos incluidos.
			20200315-003: Cálculo días vacaciones. El número (valor) de meses de antigüedad se aproxima al número entero inferior.
			
			Otros cambios:
			Ejecutar:
				delete from parametro where param_code='n_dias_zona_extrema';
				get_vacaciones_json_3_1_7.sql
				view_empleado_3_1_7.sql
			
				.- En 'Configuracion Sistema'-'Admin parametros': insertar nuevo registro:
					code: factor_vac_zona_extrema
					label: Numero de dias de vacaciones por mes (zona extrema)
					valor: 1.67
			
				Nuevo reporte de vacaciones:
					vacaciones.jasper
					vacaciones.jrxml
		 
				.- Módulo: Configuracion Sistema - Accesos: Modificar Url de acceso_id=vacaciones_reporte. 
					Nueva Url: vacaciones/reporte_vacaciones.jsp
			
			En esta nueva versión se puede ejecutar cálculo de días de vacaciones 
			desde el módulo 'Vacaciones - Info Vacaciones' (para un empleado o para todos los empleados de un centro de costo específico). 

			Dentro del procedimiento de cálculo, se obtienen todas las vacaciones YA TOMADAS por el empleado (a la fecha actual).
			La suma total de todos los días efectivos de vacaciones tomados, 
			se descuenta del 'número de días acumulados' del empleado, 
			dando como resultado el SALDO_DIAS a favor del empleado.

			A saber:
			.- Factor para días normales de vacaciones = 1.25 días por mes
			.- Factor para días zona extrema de vacaciones = 1.67 días por mes
			
		v.3.1.8 17-03-2020
			
			Ejecutar:
				create_table_afp_3_1_8.sql
				insert_into_tabla_afp.sql
				alter_table_vacaciones_3_1_8.sql
				get_vacaciones_json_rango_meses.sql
			
			Actualizar: 
				vacaciones.jasper
				vacaciones.jrxml

			20200317-001: Info Vacaciones. Agregar campo 'Fecha emisión certificado vacaciones progresivas'.	
			20200317-002: Info Vacaciones. Agregar campo 'AFP emisora'. Con los datos de la tabla 'afp'.
			20200317-003: Nueva tabla 'AFPs'.
				20200317-003: Nueva tabla 'AFP'. 
				En BD:  - crear tabla 'afp'.
						- agregar nueva columna 'afp_code' a tabla 'vacaciones'.
			
			20200319-001: Calculo saldo vacaciones: Se recalcula num de cotizaciones en base a la fecha de emisión del certificado de vacaciones progresivas emitido en la respectiva AFP.
			20200319-002: Cálculo saldo vacaciones. No está descontando correctamente los días de vacaciones tomadas. Había un error en la función que obtiene las vacaciones tomadas por el empleado ('get_vacaciones_json')
			20200319-003: Cálculo saldo vacaciones. Error al hacer cálculos consecutivos de vacaciones. El 1er cálculo arroja todo correcto, pero un 2do cálculo no descuenta los días de vacaciones tomadas.	
			20200319-004: Info Vacaciones: Agregar nueva columna'días adicionales'. Estos se suman a los días a favor que posee el empleado.	
			20200319-005: Cálculo saldo vacaciones. Agregar opción 'Todos' al combo 'Empleado'. Si se selecciona 'Todos' se debe hacer el cálculo para todos los empleados del centro de costo seleccionado.		
			20200319-006: Vacaciones - Reporte Vacaciones: Filtro fechas, Debe ser: 'Año/Mes Inicio' y 'Año/Mes Fin'.
			20200319-007: Vacaciones - Reporte Vacaciones. En el detalle de cada vacación, mostrar columna 'dias efectivos'.
			20200319-008: Vacaciones - Reporte Vacaciones. Al final del reporte, agregar línea que muestre: días progresivos, días especiales, zona extrema (Si/No), días adicionales, total días acumulados, dias de vacaciones tomadas y saldo disponible.	
			
			20200320-001: Reporte Vacaciones. Calcular dias efectivos de vacaciones.
			
			20200321-001: Cálculo días vacaciones. Guardar en la tabla 'vacaciones' el total de días acumulados y el total de días efectivos de vacaciones tomadas por el empleado.
			20200321-002: Reporte Vacaciones. Al generar reporte de vacaciones. Ejecutar cálculo de días de vacaciones.
			
		v.3.2.0 23-03-2020	
			.- 20200323-001: Implementar menú de acceso rápido a los módulos principales del sistema. 
				El despliegue se basa en los accesos de cada usuario.
				Ejecutar: 
					alter_table_modulo_3_2_0.sql
				
				Agregar informacion en la tabla 'modulo_sistema'	
			
			.- 20200323-002: Admin Módulos Sistema. Agregar nuevas columnas: acceso_rapido, titulo, sub titulo e imagen.
		
		v.3.2.1 24-03-2020
			20200324-003: Mejoras a vista de acceso rápido.
						- Quitar sombra a sub titulos
						- Los links con accesos, deben ser de color blanco.
							
			20200324-001: Cálculo días de vacaciones. Para obtener el núm de meses se debe considerar el 1er día del mes en curso.
			
			20200324-002: Cálculo de días de vacaciones. 
						Se debe truncar a un valor entero (sin aproximar) el resultado de la división de núm de días por 30.	
			
			20200324-004: Cálculo días de vacaciones. 
						Implementar log histórico de info vacaciones, el que se actualizará cada vez que se haga un cálculo de dias de vacaciones.
		
			20200325-001: Al insertar-modificar registros desde 'Info Vacaciones', se deben guardar todos los datos en log_eventos.	
									
			20200325-002: Info Vacaciones - Log Historico. Implementar vista con filtros de búsqueda: 
						Cenco, empleado y rango de fecha del evento.			
					
					
					Crear nuevo acceso:
						nobre: vacaciones_info_log	
						etiqueta: Info Vacaciones Hist
						url: vacaciones/info_vacaciones_log.jsp
					Asignar nuevo acceso al perfil Administrador.
					
			Ejecutar an la BD:
					.- create_table_vacaciones_log_3_2_1.sql
					.- INSERT INTO afp(afp_code, afp_name, afp_status) VALUES ('UNO', 'AFP Uno', 1);
				
			.- No se ha implementado un Mantenedor de AFPs. 	
			.- Reporte de vacaciones: Se corrige seteo de rango de fechas. 	
		
			
		v.3.2.2 02-04-2020
			.- 20200402-001: Ingresar vacaciones. No descuenta dias de vacaciones correctamente.
				Se realizan pruebas, ingresando vacaciones y luego, ejecutando 'cálculo saldo vacaciones'. 
				El saldo de días de vacaciones arroja valor correcto.
				
			.- 20200402-002: Con cada cálculo de días de vacaciones realizado, el n° de cotizaciones aumenta sin motivo.
				num_actual_cotizaciones = parametro(min_meses_cotizando) + dif_meses (fecha certificado , fecha_actual)
				Sólo cuando un empleado tenga más de 120 cotizaciones, el encargado de recursos humanos, 
				le ingresará la fecha del certificado AFP en el sistema.
				Sino cumpme con el minimo de 120, No se debe ingresar el certificado.
			
			.- Se cambia vista de accesos rápidos (menú horizontal).
			
			.- 20200326-002: Crear/Modificar Empleado. Campos RUN y Num ficha. 
				Se disminuye tamaño de campo 'Num ficha'.
				Campo 'Num ficha' queda en modo sólo lectura.
				Se agrega campo junto a 'Num ficha', éste sólo acepta un sólo caracter y su valor siempre se guarda en mayuscula.
			
			.- Crear/Modificar empleado: 
				- Se cambia label de campo RUT, ahora dice RUN.
				- Se eliminan espacios en blanco para todos los campos de texto del formulario.
			
			**************Versión 3.2.2 en producción Dummy desde el 04-04-2020
		v.3.2.3 06-04-2020	
			.- 20200406-001: Crear/Modificar empleados. 
				Se agregan los sgtes datos en Log de eventos: fecha inicio, fecha fin contrato, articulo22, estado, idComuna.
			
			**************Versión 3.2.3 en producción Dummy desde el 06-04-2020
		v.3.2.4 10-04-2020
			
			20200409-004; Cálculo dias vacaciones : SI info_vacaciones.dias_especiales='S', entonces-->usar factor 'dias_especiales' (2.5 días por mes)
			20200409-003: Crear nuevo parámetro 'factor dias especiales', Con valor=2.5 (30 días en un año)
			20200409-001: Columna vacaciones.dias_especiales. Cambiar a tipo character (1). {'S': Si, 'N': No}. Valor por defecto = 'N'
			20200409-002: Al ingresar vacaciones, SI info_vacaciones.dias_especiales='S' entonces: los días efectivos son días corridos. 
				Los feriados entre lu-vi también se cuentan.
			20200411-001: Cálculo días vacaciones. Agregar seteo de últimas vacaciones ingresadas.
			20200411-003: Ingresar vacaciones. Agregar marca 'dias especiales' al combo 'Empleado'.
			20200411-002: Info Vacaciones. Agregar link a Ingreso de vacaciones.
			20200409-006: Reporte vacaciones. Probar con un caso de un cenco zona extrema. Ver linea de totales.
			20200409-005: Reporte vacaciones. Revisar los totales, mejorar y agregar nueva información en la línea de totales.
				La línea de totales, ahora muestra: 
					.- dias adicionales 
					.- dias progresivos  
					.- dias zona extrema (excluyente) 
					.- dias especiales (excluyente)
					.- dias normales (excluyente)
					
				'Total(+)' (la suma de dias adicionales + dias progresivos + dias zona extrema + dias especiales + dias normales) 
				'Total asignadadas (-)' (dias de vacaciones asignadas según rango de fechas seleccionado)
				'Total disponible (=)' Corresponde a la resta entre 'Total(+)' y 'Total asignadadas (-)'
			
			.- Carga CSV con info vacaciones: Formato actualizado es:
				empresa_id,rut_empleado,dias_acumulados,dias_progresivos,saldo_dias,ini_ult_vacaciones,fin_ult_vacaciones,num_cotizaciones_actual
				
			.- reporte vacaciones: se recalcula, para el rango de fechas seleccionado:
				 - dias de vacaciones tomadas (asignadas)
				 - dias de vacaciones acumuladas al 1er dia del mes seleccionado en fecha fin del rango. 
			
			Cambios en base de datos:
			Modificacion tablas: vacaciones y vacaciones_log
				columna: dias_especiales. De Integer a character varying(1)
			
			Ejecutar SQLs:
			--dias especiales. Char(1)
			
			--1
			ALTER TABLE vacaciones DROP COLUMN dias_especiales;
			ALTER TABLE vacaciones_log DROP COLUMN dias_especiales;
			
			--2
			ALTER TABLE vacaciones ADD COLUMN dias_especiales character varying(1);
			ALTER TABLE vacaciones ALTER COLUMN dias_especiales SET DEFAULT 'N'::character varying;
			COMMENT ON COLUMN vacaciones.dias_especiales IS 'Indica si hay que aplicar factor dias_especiales';	
			
			--3
			ALTER TABLE vacaciones_log ADD COLUMN dias_especiales character varying(1);
			ALTER TABLE vacaciones_log ALTER COLUMN dias_especiales SET DEFAULT 'N'::character varying;
			COMMENT ON COLUMN vacaciones_log.dias_especiales IS 'Indica si hay que aplicar factor dias_especiales';

			--dias adicionales INT (no ejecutar)
			--ALTER TABLE vacaciones ADD COLUMN dias_adicionales integer;
			--ALTER TABLE vacaciones_log ADD COLUMN dias_adicionales integer;
			
			--4	
			ALTER TABLE parametro DROP CONSTRAINT parametro_pk;

			--5
			ALTER TABLE parametro
			ADD CONSTRAINT parametro_pk PRIMARY KEY(empresa_id, param_code);	
			
			--6
			--nuevo parametro para la FMC 	
			INSERT INTO parametro(empresa_id, param_code, param_label, param_value, create_datetime) 
			VALUES ('emp01', 'factor_vac_especiales', 'Número de dias de vacaciones por mes (especiales)', 2.5, current_timestamp);
			
			--7
			--parametros para FEMASE
			INSERT INTO parametro(empresa_id, param_code, param_label, param_value, create_datetime) VALUES ('emp03', 'factor_vac_especiales', 'Número de dias de vacaciones por mes (especiales)', ,2.5, current_timestamp);
			INSERT INTO parametro(empresa_id, param_code, param_label, param_value, create_datetime) VALUES ('emp03', 'factor_vac_zona_extrema', 'Numero de dias de vacaciones por mes (zona extrema)', 1.67, current_timestamp);
			INSERT INTO parametro(empresa_id, param_code, param_label, param_value, create_datetime) VALUES ('emp03', 'factor_vacaciones', 'Numero de dias de vacaciones por mes', 1.25, current_timestamp);
			INSERT INTO parametro(empresa_id, param_code, param_label, param_value, create_datetime) VALUES ('emp03', 'min_meses_cotizando', 'Indica minimo de meses para vacaciones progresivas', 120, current_timestamp);
			INSERT INTO parametro(empresa_id, param_code, param_label, param_value, create_datetime) VALUES ('emp03', 'n_meses_add_vac_prog', 'Indica cada cuentos meses se debe sumar 1 día de vacaciones progresivas', 36, current_timestamp);
			
		v.3.2.6 14-04-2020
			20200413-001: Cálculo días vacaciones. Se asignan, automáticamente 120 días de vacaciones. ERROR Corregido
			
			20200413-002: Reporte Vacaciones: Separar un poco la columna 'dias efectivos' de la columna 'Autorizada por'.
			
			20200413-004: Reporte Vacaciones. Fecha desde= Fecha Inicio Contrato. Fecha Fin: fecha_actual
			
			20200413-005: Cálculo días vacaciones y Reporte Vacaciones. Días asignados: debe considerar todas las vacaciones existentes a la fecha.
				nueva funcion en BD: get_all_vacaciones_json
			
			20200416-001: Cálculo días vacaciones. 
				Días acumulados se calculan por mes vencido a partir de la fecha de inicio de contrato del empleado.
			
			20200418-001: Cálculo vacaciones. Cálculo de días efectivos. 
				Sólo se deben recalcular los días efectivos de aquellas vacaciones que no tengan días efectivos seteados.
			
			20200413-006: Menú vacaciones: agregar ítem 'Consulta vacaciones ingresadas' (simil ausencias detalle que sólo muestre las vacaciones).
				Ver/Modificar/Eliminar vacaciones.
			
			20200417-001: Ausencias-detalle. Filtro de búsqueda, no debe mostrar 'Vacaciones'.
			
			20200417-002: Ausencias-detalle. Al editar registro, el combo Motivo Ausencia no debe mostrar 'Vacaciones'
			
			20200413-007: Vacaciones - Ingreso Vacaciones: El botón 'Volver' debe llevar a 'Consulta vacaciones ingresadas'
			
			20200415-001: Reporte de vacaciones. Label debe ser 'Fecha emisión'. Labels desde y hasta se deben eliminar
			
			20200414-001: Reporte Vacaciones. Agregar leyenda en el formulario previo a generar el reporte. 
				Que indique q la info es a la fecha actual.
			
			Nuevo acceso:
				nombre: adm_vacaciones
				etiqueta: Administración Vacaciones
				url: vacaciones/admin_vacaciones.jsp
				
			.- Usando el módulo 'usuarios' - 'Adm Accesos Perfil'--> Reordenar los accesos del módulo 'Vacaciones'. De la siguiente forma:
				.- Administración vacaciones
				.- Ingresar vacaciones
				.- Info vacaciones & cálculo
				.- Reporte vacaciones
				.- Info vacaciones hist
				.- Solitud de vacaciones
				.- Calendario vacaciones
				
		v.3.3.0 20-04-2020
				.- Se crea Base de datos DUMMY en el servidor de producción.
				.- El WAR Dummy siempre debe apuntar a esta nueva base de datos.
				
				Nuevo acceso (que va dentro del módulo 'Administracion'):
					nombre: asig_marcacion_virtual
					etiqueta: Asignacion Marcacion Virtual
					url: mantencion/marcacion_virtual_asignacion.jsp
		
				.- En la base de datos:
					CREATE TABLE marcacion_virtual
					(
					  empresa_id character varying(12) NOT NULL,
					  rut_empleado character varying(13) NOT NULL,
					  fechahora_asignacion timestamp without time zone,
					  username character varying(12) NOT NULL,
					  comentario character varying(200),
					  CONSTRAINT marcacion_virtual_pk PRIMARY KEY (empresa_id, rut_empleado)
					)
					WITH (
					  OIDS=FALSE
					);
					ALTER TABLE marcacion_virtual
					  OWNER TO femase;
					COMMENT ON TABLE marcacion_virtual
					  IS 'Tabla para guardar los empleados que estan autorizados para realizar marcas virtuales o remotas.';
			
				.- INSERT INTO mantencion_tipo_evento(tipo_evento, nombre) VALUES ('AMV', 'Marcacion Virtual');
				
				20200419-002: El nombre del datasource a usar, se lee del archivo properties.
				
				20200419-003: Nuevo módulo 'Asignacion Marcación virtual'. 
						Permitiendo la autorización para que los empleados realicen sus marcas de entrada/salida remotamente, usando el Sistema Web.
		
		v.3.3.1 22-04-2020		
				20200422-001: La conexión a la base de datos a usar en los reportes JasperReport, 
				deben apuntar a producción o la BD de Dummy.

		v.3.4.0 26-04-2020
				1.- Requerimientos Generales:
				1.1.- Se habilita página para que los empleados, previamente autorizados, puedan realizar marcas virtuales. 
				1.2.- Admin Tipos Marcas Manuales: crear nuevo registro 'Marcación virtual'.
				1.3.- Al insertar marca virtual: se procede de la misma forma que la inserción de marcas manuales desde
					el Administrador de Marcas: se guarda registro en tabla de notificacion de marcas.
				1.4.- Se usa la gelolocalización para obtener la ubicación aproximada del usuario logeado al sistema web.
					Las coordenadas entregadas por 'Firefox' son más exactas a las devueltas por el navegador 'Chrome'
				
				2.- Requerimientos específicos:
				20200423-001: 'Asignacion Marcacion virtual'. Agregar campos fecha1, fecha2.... fecha7. Para guardar las fechas en las que se exigirá marca virtual al empleado.
				20200424-001: 'Asignación Marcación virtual': Agregar exportación a CSV.				
				20200419-004: Marcación virtual para los empleados autorizados para aquello. En el Home del Web se mostrará una página para que marquen entrada/salida.
				20200424-002: Marcación virtual empleados. Mostrar combobox con los relojes definidos según centro de costo del empleado, Mostrar el nombre y dirección de cada reloj.
				20200424-003: Página de marcación virtual. Mostrar últimas marcas registradas.
				20200423-002: Guardar la ubicación del usuario conectado. Usar funcionalidad de los navegadores. La ubicación se guarda en log de eventos y en la tabla 'marcas'.
										
				3.- Cambios en la base de datos:
				.- Crear nueva funcion 'inserta_marca_virtual'. Debe guardar geolocalizacion de la marca.
				.- 	ALTER TABLE marca ADD COLUMN latitud character varying(35);
						COMMENT ON COLUMN marca.latitud IS 'Solo se usa para marcacion virtual';
					ALTER TABLE marca ADD COLUMN longitud character varying(35);
						COMMENT ON COLUMN marca.longitud IS 'Solo se usa para marcacion virtual';	

					ALTER TABLE marca_rechazo ADD COLUMN latitud character varying(35);
						COMMENT ON COLUMN marca_rechazo.latitud IS 'Solo se usa para marcacion virtual';
					ALTER TABLE marca_rechazo ADD COLUMN longitud character varying(35);
						COMMENT ON COLUMN marca_rechazo.longitud IS 'Solo se usa para marcacion virtual';	

					ALTER TABLE marca_historica ADD COLUMN latitud character varying(35);
					COMMENT ON COLUMN marca_historica.latitud IS 'Solo se usa para marcacion virtual';
					ALTER TABLE marca_historica ADD COLUMN longitud character varying(35);
					COMMENT ON COLUMN marca_historica.longitud IS 'Solo se usa para marcacion virtual';		
			
			Se deben aplicar los cambios '.sql' a partir de la versión 3.3.0.
			Para produccion se debe habilitar ssl <security-constraint>
			************** Versión 3.4.0 en producción Dummy desde el 26-04-2020
			
			***************************************************************************
			************** Versión 3.4.0 en producción desde el 27-04-2020
			***************************************************************************
		v.3.4.1i 29-04-2020
			.- Marcas virtuales: se corrige seteo de hora de las marcas virtuales. Se usa la hora del servidor.
			
		v.3.4.2 28-04-2020
			20200424-006: Vista 'Ausencias-detalle'. Ocultar columna 'Saldo días vacaciones'	
			20200428-001: Info Vacaciones. Cuando se ingresa la fecha de certificado el campo N° Cotización debe setearse en 120. 
			20200428-002: Reporte Vacaciones.  Se deben considerar todas las vacaciones asignadas (pasadas y futuras)
			20200428-003: Menú vacaciones: Al Administración vacaciones'. Agregar campos: Saldo, si es Especial y si pertenece a Zona Extrema.
				Además, se oculta columna 'Autorizado SI/NO'. 
				Se verifica saldo de vacaciones al modificar una vacación existente.
			20200428-004: Admin Vacaciones. Mostrar fecha y hora de ingreso de la vacación. Ahora sólo muestra la fecha.
			20200428-005: Ingresar Vacaciones. Después de guardar los datos, debe mostrar los días efectivos tomados.
			20200429-001: Asignación marcación virtual. Agregar atributo 'Registrar Ubicación' {´S´':Si, 'N':No}
			
		***************************************************************************
		************** Versión 3.4.2 en producción desde el 29-04-2020
		***************************************************************************	
			
		v.3.4.3 30-04-2020
			.- Ejecutar todos los .sql para la versión 3.4.3.
			.- Actualizar reporte Jasper Report de vacaciones.
			.- Crear nuevo acceso (que va dentro del módulo 'Configuracion Sistema'):
					nombre: admin_afp
					etiqueta: Admin AFPs
					url: mantencion/afps.jsp
				Luego, asignar este acceso al Perfil 'Administrador'
		
			20200428-002: Reporte Vacaciones. Se deben considerar todas las vacaciones asignadas (pasadas y futuras)
			20200428-001: Info Vacaciones. Cuando se ingresa la fecha de certificado el campo N° Cotización debe setearse en 120. Este campo no debería ser modificable por los usuarios de menor rango que los Admin y Super Admin.
			20200428-004: Admin Vacaciones. Mostrar fecha y hora de ingreso de la vacación. Ahora sólo muestra la fecha.
			20200428-003: Menú vacaciones: agregar ítem 'Administración vacaciones'. Falta campo Saldo, si es Especial, si pertenece a Zona Extrema, sacar Autorizado SI/NO. Verificar saldo al modificar la fecha Fin para quitar o agregar días de vacaciones ( solo si la cantidad de saldo es mayor que cero.)
			20200428-005: Ingresar Vacaciones. Después de guardar los datos, debe mostrar los días efectivos tomados.
			20200429-001: Asignación marcación virtual. Agregar atributo 'Registrar Ubicación' {´S´':Si, 'N':No}
			20200424-006: Vista 'Ausencias-detalle'. Ocultar columna 'Saldo días vacaciones'
			20200428-007: Cálculo días progresivos. Ver caso de empleado con certificado AFP ingresado y num cotizaciones=159. El cálculo debe arrojar 1 día de vacaciones progresivas.
			20200430-001: Tabla Marca: Agregar columna 'correlativo'
						Checklist:
							Crear columna 'marca'.'correlativo' tipo integer
							Actualizar el correlativo de todas las marcas existentes.
							Crear Trigger en tabla 'marca'. Que se activa cada vez q se hace insert en la tabla, seteando el respectivo correlativo.
							Modificar metodo MarcasDAO.insert, agregando el correlativo
							Admin Marcas. Agregar nueva columna 'correlativo' en la vista de resultados y en el archivo CSV que se exporta.
							Función 'get_marcas_json'. Agregar columna 'correlativo'
							Función 'get_all_marcas_json'. Agregar columna 'correlativo'
							Marcas Historicas: agregar columna 'correlativo'. Que corresponderá al correlativo de la tabla 'marca'
							Función 'get_all_marcas_hist_json'. Agregar columna 'correlativo'
							Incorporar columna 'correlativo' al insertar a marcas históricas.
							
			20200430-002: Tabla Notificación: Agregar columnas: marca virtual ('S', 'N'), registra ubicación ('S', 'N'), comentario, latitud y longitud.
			20200502-003: Admin Vacaciones. Arroja error al eliminar una vacación existente. La elimina Ok, pero muestra error.
			20200502-002: Ingreso vacaciones. Debe mostrar correctamente los días efectivos tomados. (en el mensaje que se muestra inmediatamente después de guardar la nueva vacación)
			20200413-004: Cálculo vacaciones.  Cuando persona es zona extrema y especial. Debe Predominar el atributo 'vacaciones especiales'
			20200502-004: Info Vacaciones. Para perfil de usuario <> a Admin o Super Admin: Las columnas: Empresa, Empleado, n° cotizaciones y días progresivos NO deben ser editables y no deben aparecer al editar registro.
			20200502-005: Info Vacaciones: Ocultar botón "nuevo registro'. Los nuevos registros sólo pueden ser creados vía archivo CSV (carga masiva)
			20200502-006: Carga masiva de Info Vacaciones. Se modifica formato de carga. Ahora es: empresa_id,rut_empleado,dias_progresivos,afp,fecha_certif_afp,dias_especiales,dias_adicionales
			20200502-007: Implementación de Admin de AFPs. Dentro del menú 'Configuración Sistema'
			20200502-008: Reporte Vacaciones. Mostrar Titulo de la empresa del empleado. Ahora sólo funciona para Fundación Mi Casa.
			20200502-009: Info Vacaciones Hist.
						Checklist:
							Ocultar columna 'comentario.
							Mostrar fecha inicio y fin últimas vacaciones
							Mostrar registros en forma descendente, según fecha de cálculo.
			
			
		***************************************************************************
		************** Versión 3.4.3 en producción desde el 02-05-2020
		***************************************************************************			
		
		v.3.4.4 05-05-2020, adiazr
			20200504-001: Cálculo Horas presenciales y total del día. Empleados con turno rotativo nocturno.
				Se agrega columna 'turno_nocturno' en la salida de la funcion 'get_turno_rotativo_by_fecha_json'
				
				Aplicar cambios en BD de produccion a partir de la version 3.4.4
		
		***************************************************************************
		************** Versión 3.4.4 en producción Dummy desde el 05-05-2020
		***************************************************************************			
		v.3.4.5 08-05-2020, adiazr
			20200326-001: Planilla de asistencia. Implementar totales por semana.
			
			Nuevo reporte jasper report de asistencia: 'asistencia_semanal', con totales por semana. 
			 Este reporte lee los datos desde un archivo CSV.
			Procedimiento a usar: se mantienen los mismos filtros usados en Informe de Asistencia.
			Se obtienen los registros de asistencia de acuerdo a los filtros.
			Se define el día domingo como el día de corte para calcular totales por semana.
			Por cada fecha incluida en el reporte.
			{
				Si el dia es = Domingo --> Calcular totales de la semana 
			}
			Calcular linea de totales de horas (va al final del reporte)
			
			Crear CSV con los datos.
			
			.- Crear nuevo acceso (que va dentro del módulo 'Reportes/Informes'):
					nombre: info_asistencia_semana
					etiqueta: Informe Asistencia Semanal
					url: reportes/reporte_asistencia_semanal.jsp
				Luego, asignar este acceso al Perfil 'Administrador'
				
		***************************************************************************
		************** Versión 3.4.5 en producción Dummy desde el 11-05-2020
		***************************************************************************				
			
		v.3.4.6 13-05-2020, adiazr
			20200512-001: Vacaciones. Observaciones según correo del 12-may-2020
				.- Vacaciones - Info vacaciones: eliminar botón 'nuevo registro'. 
					Se debe crear un proceso que copie los empleados a la tabla vacaciones. 
					Todo empleado de la empresa debe tener un registro en la tabla vacaciones. 
					R: Se crean nuevos procesos JOB para cargar todos los empleados faltantes en la tabla 'vacaciones'.
					Estos se crean usando el admin de procesos:
					Nombre: CargaVacaciones
					Job: para Fundacion Mi casa --> CargaVacacionesFMCJob
					Job: para Femase 			--> CargaVacacionesFemaseJob
					
					Agregar columna a tabla 'vacaciones':
						ALTER TABLE vacaciones ADD COLUMN fecha_carga_inicial timestamp without time zone;
					
				.- Vacaciones-Info Vacaciones: se agrega nueva columna 'fecha carga inicial' (fecha y hora)
				
				.- Vacaciones - Info vacaciones histórico: Agregar RUN + nombre completo del empleado, actualmente sólo se ve solo el RUN. 
						RESPUESTA: Por razones de espacio, se muestra: [RUN]+Nombre empleado. En una sola columna.
				.- Carga masiva Info Vacaciones: Revisar funcionalidad. Sólo hace insert o reemplaza datos en caso 
					de existir registro en tabla 'vacaciones'?. 
						RESPUESTA: Esta funcionalidad es reemplazada por los nuevos procesos 'CargaVacacionesFMCJob y CargaVacacionesFemaseJob'		
				.- Vacaciones - Info Vacaciones: Sólo los admin y super admin deben poder modificar valor de campos: n° cotización, AFP y fecha certificado AFP.
				.- Vacaciones - Reporte vacaciones: Si la hoja 1 no caben todas la vacaciones, no se debe mostrar líneas de totales, 
					se debe dejar para la ultima hoja a mostrar, al igual que se hace con los reportes de asistencia.
				.- Vacaciones - 'Administración vacaciones': Reemplazar “RUN Autorizador”, por “Autorizador” ya que, el RUN no se ve, solo sale el nombre.4
				.- Asignación marcación virtual: Los campos de las fechas 4 y 5, se despliegan hacia abajo lo que dificulta ingresar las fechas. 
					RESPUESTA: Se disminuye tamaño de ventana y de fuente al editar registro.
				.- Vacaciones - Cálculo días progresivos. Error en cálculo de dias progresivos para empleado con certificado AFP ingresado y num cotizaciones=159. El cálculo debe arrojar 1 día de vacaciones progresivas. Continua error.
					RESPUESTA: Necesito todos los datos para replicar este caso.
				.- Admin Empleados: Cuando se inserta un empleado, se debe insertar un registro en la tabla 'vacaciones'. RESPUESTA: Se crea trigger para ésto.
					
			20200514-001: Asignación marcación virtual empleados. Filtro empleados vigentes
				Se agrega filtro de empleado, empresa, depto y centro de costo vigentes.
				
			20200513-001: Admin empleados.  Los nombres de los campos de N° Ficha y RUN están cambiados.
			
			20200512-003: Validación de correos en el Sistema: empleados.
				Sub tareas:
				- Crear tabla 'proveedor_correo'
				- Crear Administrador de tabla 'proveedor_correo'
				- Agregar lista de proveedores en formularios de creacion de empleados
				
						
			.- Se crea nueva tabla para definir los servicios de correo más conocidos. Por ejemplo: 
				fundacionmicasa.cl, femase.cl, gmail.com, hotmail.cl, hotmail.com
				
				-- Ejecutar los sgtes sql:
					trigger_insert_vacaciones_3_4_6.sql
					view_empleado_3_4_6.sql
					create_tabla_proveedor_correo_3_4_6.sql
					insert_tipo_evento_3_4_6.sql
					
			.- Crear nuevo acceso:
				Nombre	: adm_provee_correo
				Etiqueta: Admin Proveedores Correo
				Url		: mantencion/proveedores_correo.jsp
					Este acceso debe asignarse al perfil 'Administrador', Dentro del módulo 'Configuración Sistema'
					
		v.3.4.7 19-05-2020, adiazr			
			.- Se revisa uso de conexion a base de datos. 
			
			.- 20200511-001: Reporte Asistencia Semanal. Corrección de Observaciones
			
			.- 20200521-001: Marcación Virtual. Mostrar causa de error en caso de q tenga ausencia u otra validación al realizar marca virtual.
			
			.- 20200516-001: El perfil de usuario 'Administrador' sólo puede administrar su respectiva empresa (asignada al usuario ). 
							
				Setear perfil Administrador con 'admin empresa0 ='Si'			
				Crear nuevo atributo a la tabla de 'perfil_usuario'. Atributo 'admin_empresa' = 'S': Si, 'N': No
				Con este atributo se puede determinar si un usuario con perfil_usuario X tendrá acceso a todos los centros de costo de su empresa.
				Perfil 'Super Administrador' --> debe tener 'Admin Empresa= = 'S'.
				
				Con el usuario 'admin': Usando el módulo 'Adm Accesos', 
					asignar al perfil de 'Super Administrador', los sgtes accesos:
						Configuracion sistema: 'Adm Accesos Perfil'
						Sesion: Cerrar Sesion y Cambiar clave
				
				*** Se crea nuevo perfil de usuario: Super Admin que administre todas las empresas existentes.	
				Este nuevo perfil debe tener acceso a todos los módulos que no son por empresa.	 (ver planilla)				
				El perfil Admin, sólo debe tener acceso a los módulos que funcionan según una empresa. (ver planilla)			
				
		***************************************************************************
		************** Versión 3.4.7 en producción Dummy desde el 23-05-2020
		***************************************************************************						
		v.3.4.8 25-05-2020, adiazr
			.- 20191221-001: Revisar validaciones en función inserta_marca.
				Se modifican las sgtes funciones:
					inserta_marca
					inserta_marca_virtual
					new_inserta_marca_manual
				Definir nuevos códigos de rechazo: 
					2000: Cod. Empresa Inválido	
					2001: Cód. Dispositivo Inválido	
					
				new_inserta_marca_manual_3_4_8.sql
				inserta_marca_virtual_3_4_8.sql
				inserta_marca_3_4_8.sql
					
		v.3.4.9 31-05-2020, adiazr
			En esta versión:

			20200526-001: Observaciones a versión 3.4.6. Correo 26-05-2020
			1.- Vacaciones - Reporte vacaciones: En la hoja 1 se muestra las línea de totales, y en la hoja 2 se vuelve a mostrar la línea de totales. Se adjunta planilla de vacación.

			2.- Vacaciones - Cálculo días progresivos. Cáalculo tras cálculo aumenta el Nro de cotizaciones. Empleado de Femase SSTT y Mantención. Felipe Galindo (17122165-K). Fec Inicio contrato: 28-07-2018. Certif de AFP Habitat del 02-01-2017

			3.- Asignación marcación virtual empleados. Al buscar la info de TODOS o de un trabajador en especifico, la búsqueda no se realiza.
			RESPUESTA: La empresa, depto y cenco deben estar en estado VIGENTE.

			20200526-002: Observaciones a versión 3.4.7. Reporte asistencia Semanal. Correo 26-05-2020
			.- Turno normal y rotativo. Casos sin turno, sin marcas, etc.
			RESUELTO. Se aplica mismo procedimiento usado en el reporte de asistencia.

			.- El campo TEORICAS de totales de totales, no muestra la suma de las horas teóricas de cada semana.
			RESUELTO.

			.- Marcación Virtual. Revisar retorno de validaciones hechas por sp 'inserta_marca_virtual'.
			Validar fecha contrato caducada. Luego setear fecha fin de contrato futura...vuelve a mostrar 'fecha caducada'.
			RESPUESTA: No se pudo replicar dic5ho resultado.

			.- Marcación virtual. Probar cuando estado_contrato es NO VIGENTE.
			RESPUESTA: Se verifica correcto funcionamiento de la validación. El Sistema muestra '"1006- Rechazo Empleado No Vigente"'

			.- Marcación virtual. Probar cuando el empleado tiene ausencia por el dia.
			RESPUESTA: Se verifica correcto funcionamiento de la validación. El Sistema muestra "2-Rechazo Licencia Médica".

		***************************************************************************
		************** Versión 3.4.9 en producción Dummy desde el 04-06-2020
		***************************************************************************
			
		v.3.5.0 05-06-2020, adiazr	
			.- 20190908-003. Reporte de feriados: Si un empleado tiene turno un feriado, no debe ser considerado en el reporte de dias trabajados feriados.
			.- 20191105-004: Cálculo de asistencia. No funciona el manejo de minutos de holgura.
			.- 20200604-001: Agregar tags 'No Caché' en los jsp y en los servlets.
			.- 20200606-001: Admin empleados y relación con tabla usuario y perfil 'Empleado'.
			
		***************************************************************************
		************** Versión 3.5.0 en producción Dummy desde el 07-06-2020
		***************************************************************************		
		v.3.5.1 11-06-2020, adiazr	
			.- 20200604-001: Vacaciones - Cálculo días progresivos. Se corrige cálculo.
			.- 20200604-002: Reporte Vacaciones: Se corrige como se muestra línea de totales.
			.- 20200604-003: Reporte Vacaciones. Filtros de búsqueda: donde dice INFORME VACACIONES (A LA FECHA). Sólo debe decir INFORME DE VACACIONES.
			.- 20200604-004: Asignación marcación virtual empleados. Los empleados con fecha de contrato caducada o cuyo estado sea NO VIGENTE, no deben mostrarse en el combo.
			.- 20200604-005: Reporte Asistencia Semanal. Error en columna 'Observación'. Aplicar mismo procedimiento para el seteo de la columna 'Observación' usado en reporte de asistencia.
			.- 20200604-006: Reporte Asistencia Semanal. Los días feriado no debe contabilizar Hrs teóricas.
			.- 20200604-007: Marcación Virtual. Se revisan mensajes de rechazo de marcas: Empleado vigente/no vigente, Con fecha contrato vigente/caducada.
			.- 20200604-008: Admin Empleados- Búsqueda por Rut. Al buscar por rut, se deben quitar los puntos y guión.
			.- 20200607-001: Reporte de domingos y festivos. Mostrar sólo los días feriados, y se agrega la columna 'observacion'
			.- 20200607-002: Cálculo de Asistencia. Caso de aplicación: Se tiene el turno de 8:30 a 18:30hrs, donde se definió 10 minutos de holgura. 
					Si el empleado marca a las 08:40, No hay atraso. 
					Los minutos de atraso comienzan a correr a partir del minuto (mins_holgura + 1) 
			.- 20200607-003: Error al crear empleado. Falta crear columna en tabla vacaciones.
			
			Actualizar en BD: 	
				'inserta_marca_virtual_3_5_1.sql'
				'tabla_vacaciones_add_column_3_5_1.sql'
			
		***************************************************************************
		************** Versión 3.5.1 en producción Dummy desde el 15-06-2020
		***************************************************************************		
		v.3.5.2 16-06-2020, adiazr
			.- Cambios de titulos en páginas de administracion.
			.- Usando el admin de perfiles de usuario, se debe setear el atributo que indica si el perfil_x es admin de empresa o no.
			.- 20200626-002: Reporte de domingos y festivos. Se corrigen observaciones.
			.- 20200626-001: Admin Empleados. Cambiar label filtro de busqueda. 'Rut' por 'RUN'.
			.- 20200606-004: Menú del Sistema: Cambio de labels. Marcas Asistencia por Registros Asistencia y Asistencia por Cálculo Asistencia. 
			.- 20200606-004: Menú del Sistema: Ordenar alfabéticamente. (ascendente).
		
		***************************************************************************
		************** Versión 3.5.2 en producción desde el 27-06-2020
		***************************************************************************		
		
		v.3.6.0 29-06-2020, adiazr
			.- Cambio de colores en vistas.
			.- Cambio de layout en página de ingreso al sistema.
			.- Ejecutar: 3_6_0_alter_tables.sql
			
		v.3.6.1 02-07-2020, adiazr
			.- INSERT INTO mantencion_tipo_evento(tipo_evento, nombre) VALUES ('CAD', 'Empleados con contrato caducado');	
			.- Crear nuevo acceso.
				nombre: emp_caducados
				etiqueta: Contratos Caducados
				url: vistas/contratos_caducados.jsp
			.- Con usuario 'superadmin'. 'Adm Accesos-Perfil', 
				Asignar el acceso 'Contratos caducados' a los perfiles 'Director', 'Director General' y 'Director TR'.
			.- 20200702-001: Top Frame. Dejar en blanco color de letra en textos.
			.- 20200702-002: Login al sistema. Sacar lineas que aparecen arriba del logo Femase.
			.- 20200702-003: Asignación Marcación Virtual. Probar con Cenim Ovalle. con página de 10, 
				Probar cambios de datos y que estos se vean reflejados en el listado de empleados.
			.- 20200703-001: Crear Nuevo módulo 'Contratos caducados' o próximos a caducar.
				Módulo sólo visible para perfil Admin y perfil Director. 
				Se debe mostrar en la página de inicio (home), siempre y cuando el perfil del usuario sea Admin o Director.
				La vista es muy similar a la de Admin Empleados, se mantienen los filtros de búsqueda.
				Sólo se deben mostrar los empleados que cumplan con lo sgte:
				.- CONTRATO INDEFINIDO = NO
				.- Artículos 22 = NO
				.- Estado = VIGENTE
					Incluir botón para modificar datos del empleado. 
					Mostrar diálogo que permita modificar sólo los sgtes campos: Estado, Fecha fin contrato y contrato indefinido (S/N). 

		v.3.6.2 07-07-2020, adiazr
			.- 20200707-002: Contratos caducados. 
				Al entrar se deben mostrar todos los empleados pertenecientes al o los cencos del usuario conectado.
			.- 20200707-001: Los intentos fallidos de login al Sistema deben quedar guardados en el log de eventos del Sistema.
			.- 20200708-001: Modificar página de cambio de clave
			
			https://www.focusoncode.com/reset-password-form-validation-with-jquery/
			
		v.3.6.3 16-07-2020, adiazr
			.- 202000716-002: Admin. Asignación Marca Virtual. Agregar columna 'Marca Móvil: SI – NO.'
			OJO: Cambios en base de datos, modificar owner al instalar en server de producción.
					
		***************************************************************************
		************** Versión 3.6.3 en producción desde el 16-07-2020
		***************************************************************************		
		v.3.6.4 17-07-2020, adiazr
			.- 20200722-001: Admin dispositivos móviles.
			.- 20200724-001: Asignación marcación virtual. Agregar nueva columna 'movil_id'
		
			.- INSERT INTO mantencion_tipo_evento(tipo_evento, nombre) VALUES ('DMO', 'Admin Dispositivos moviles');
			.- Crear nueva columna a tabla 'marcacion_virtual' (movil_id)
			.- Crear nuevo acceso:
				nombre: adm_moviles
				etiqueta: Admin Dispositivos Móviles 
				url: mantencion/admin_dispositivos_moviles.jsp
		
		***************************************************************************
		************** Versión 3.6.4 en producción Dummy desde el 25-07-2020
		***************************************************************************			
		v.3.6.5 26-07-2020, adiazr
			.- 20200727-002: Asignacion marcacion virtual. Quitar atributo 'android id' del combo de dispositivo móvil.
			.- 20200727-001: Admin Dispositivos móviles: 
					- Al cambiar el estado de un móvil, este estado también se modifica en la tabla 'dispositivo'.
					- No se visualiza datos en la columna 'correlativo'.
			
		v.3.6.6 30-07-2020, adiazr	
			.- 20200730-002: Asignacion Marcacion virtual. No se debe insertar el rut TODOS en la tabla marcacion_virtual.
			.- 20200730-001: Admin Dispositivos móviles. En filtro 'Estado', dejar texto 'Todos' en reemplazo de 'Cualquiera'. Y que el primer estado a mostrar sea “VIGENTES”.
		
		***************************************************************************
		************** Versión 3.6.6 en producción Dummy desde el 30-07-2020
		***************************************************************************	
		
		v.3.6.7 01-08-2020, adiazr		
			.- Crear nuevo módulo: 'Auditoria'.
				Nombre		estado	orden	iconId			acceso Rapido	Titulo		SubTitulo	Img
				Auditoria	Vigente	81		fas fa-bars		No				Auditoría	Auditoria	
				
				Crear acceso 'Log de errores' con los sgtes datos:
				nombre			etiqueta	url
				ver_log_error	Log Errores	consulta/log_error.jsp
				
				Dentro de este módulo deben estar los accesos:
				Log Errores
				Log Eventos
				
				Luego, ambos accesos deben ser asignados al perfil de usuario Super Administrador
				Renombrar acceso 'Log Eventos' por "Eventos de Sistema"
				
		***************************************************************************
		************** Versión 3.6.7 en producción Dummy desde el 05-08-2020
		***************************************************************************		
				
		v.3.6.8 16-08-2020, adiazr		
				20200801-001: Vacaciones- Calendario
				
				20200817-002: Modifica ausencias. Impedir que se pueda modificar una ausencia cuya fecha fin sea posterior a la fecha actual (fechas pasadas).
				
				ejecutar create_index_det_ausencia_3_6_8.sql
					
				Modificar acceso 'Calendario vacaciones' con los sgtes datos:
				nombre				etiqueta				url
				vacaciones_calend	Calendario vacaciones	vacaciones/gantt_viewer/main_frameset.jsp
				
				
		***************************************************************************
		************** Versión 3.6.8 en producción Dummy desde el 21-08-2020
		***************************************************************************
		v.3.6.9 21-08-2020, adiazr
			.- 20200821-001: Calendario Vacaciones: Se verifica que se están mostrando sólo los empleados con estado vigente y con fecha contrato vigente.
			.- 20200821-002: Calendario Vacaciones: Cambio API de visualización
			
		v.3.7.0 27-08-2020, adiazr	
			
			- 20200826-001: Revisar mensajes de retorno al insertar marcas: desde admin marca o al insertar marca virtual.
			.- Ejecutar sql:
				new_inserta_marca_manual_3_7_0.sql
				inserta_marca_virtual_3_7_0.sql
			
			- 20200826-002: Corregir manejo de caracteres especiales en los mensajes que se muestran en los mantenedores
			- 20200826-003: Asignación Marca Virtual. Si “Marca Virtual = NO” no guarda los datos ingresados.
			- 20200826-004: Asignación Marca Virtual. Después de modificar un registro
				Cambiar color de fila que se muestra después de modificar un registro. (Ahora muestra color rojo).
				Los datos no se refrescan automáticamente, sólo cuando se hace clic en el botó7n 'Consultar datos'.
				
		***************************************************************************
		************** Versión 3.7.0 en producción Dummy desde el 29-08-2020
		***************************************************************************		
		v.3.7.1 11-09-2020, adiazr
			20200911-001: Asignación Marca Virtual: al asignar Marca Móvil = SI y Marca Virtual = NO y sus fechas--> Aparece Marca Virtual = NO, 
				pero al actualizar el registro mediante el botón “CONSULTAR DATOS”, Marca Virtual queda en SI.
		
				Crear nueva columna:
					ALTER TABLE admingestionweb.marcacion_virtual
					ADD COLUMN admite_marca_virtual character varying(1) COLLATE pg_catalog."default" DEFAULT 'N'::character varying;

					COMMENT ON COLUMN admingestionweb.marcacion_virtual.admite_marca_virtual
					IS 'Indica si el empleado esta autorizado para realizar marcacion virtual';
			
			20200911-002: Asignación Marca Virtual. Después de guardar los datos, se muestra fila en color verde, 
				pero al hacer click en botón Consultar Datos: se están refrescando los datos.
			
		***************************************************************************
		************** Versión 3.7.1 en producción Dummy desde el 14-09-2020
		***************************************************************************		
				
		v.3.7.2 15-09-2020, adiazr		
			20200915-001: Contratos caducados. Hay error al guardar fecha fin de contrato. Se corrige formato fecha y se agrega datepicker al campo 'fecha fin de contrato'	
		
		***************************************************************************
		************** Versión 3.7.2 en producción Dummy desde el 15-09-2020
		***************************************************************************
		
		v.3.7.3 17-09-2020, adiazr
			20200915-003: Contratos caducados. Si se selecciona contrato indefinido = SI. ---> se setea la fecha de fin de contrato a 31-12-3000
		
		***************************************************************************
		************** Versión 3.7.3 en producción Dummy desde el 17-09-2020
		***************************************************************************
		
		v.3.7.4 18-09-2020, adiazr
			20200914-001: Implementar nuevo módulo que permita ver la ubicación de las marcas virtuales según los datos de localización almacenados en las marcas.
			Crear nuevo acceso:
				Nombre				Etiqueta				Url
				ubicacion_marcas	Marcas GPS 				consulta/localizacion_marcas.jsp
				
			Luego se debe asignar el nuevo accesso al perfil 'administrador' y 'director', dentro del módulo 'Marcas de asistencia'.
				
		***************************************************************************
		************** Versión 3.7.4 en producción Dummy desde el 20-09-2020
		***************************************************************************
		
		v.3.7.5 21-09-2020, adiazr
			.- 20200921-001: Marcas virtuales, al marcar virtual, se debe setear tipo_marca_manual=4. (Otros)
			.- 'Marcas GPS': 
				- Mostrar sólo aquellas registros que tengan latitud y longitud con un valor válido.
				- Filtrar por aquellas marcas con tipo_marca_manual = 4
		
		v.3.7.6 23-09-2020, adiazr
			20200923-001: Marcas GPS, no se deben mostrar las marcas con campos latitud y longitud con valor 'null'.
			
		v.3.7.7 05-10-2020, adiazr
			20201005-001: Admin Usuarios. Quitar validación de e-mail al modificar un usuario.
			
		***************************************************************************
		************** Versión 3.7.7 en producción Dummy desde el 05-10-2020
		***************************************************************************	
		v.3.7.8 08-10-2020, adiazr
			.- Admin Usuarios. Quitar validación de e-mail al crear un usuario.
			
		10-10-2020: Pasar a producción. Versión actual en producción: 3.6.3 	
			
		***************************************************************************
		************** Versión 3.7.8 en producción Dummy desde el 11-10-2020
		***************************************************************************	
		
		v.3.7.9 08-10-2020, adiazr
			20201011-001: Carga de archivo con vacaciones (ausencias)
			
			Con el usuario 'superadmin':
			Crear nuevo acceso:
				Nombre							Etiqueta				Url
				upload_vacaciones_vacaciones	Carga Vacaciones 		cargamasiva/upload_vacaciones.jsp
				
			Luego se debe asignar el nuevo accesso sólo al perfil 'Super Administrador', dentro del módulo 'Carga desde archivo'.
		
		v.3.8.0 08-10-2020, adiazr
			20201014-001: Url del item menú 'cambiar clave' no está correcta.
			20201014-002: Admin usuarios. No modifica el valor de campo 'clave'.
			
		***************************************************************************
		************** Versión 3.8.0 en producción Dummy desde el 15-10-2020
		***************************************************************************	
		v.3.8.1 27-10-2020, adiazr
			20201021-01: Admin usuarios: No se guardan correctamente los caracteres especiales en los campos: Nombres, Paterno, Materno y Nombre usuario.
		
		
		3.8.2 05-11-2020, adiazr
			20201109-001: Cálculo Asistencia. Para el perfil Director, habilitar cálculo de asistencia hasta 6 meses atrás.
		
		3.8.3 12-11-2020, adiazr
			.- Corrección de error en carga de empleados por archivo CSV.
		
		3.8.4 14-11-2020, adiazr
			.- 20201116-001: Error en cálculo días de vacaciones. Error al calcular meses de antigüedad. 
				Además, no debe calcular días progresivos cuando el empleado no ha presentado certificado de la AFP.
					
		3.8.5 17-11-2020, adiazr
		.- 20201114-001: Carga empleados CSV. Mejoras-correcciones.
				- Debe insertar a todos los individuos quienes estén presenten en el archivo CSV  existan o no en la base de datos.
				- Debe rechazar a los existentes en BD e insertar a los nuevos, notificando los insertados y rechazados.
				- Debe insertarlos además, en la tabla usuario con perfil Empleado a los trabajadores con cargo distinto de Director, identificar a los Directores e insertarlos con perfil Director.
				- Debe insertar a los empleados nuevos, en todas la tablas que tengan relación, como lo es Vacaciones.
				- Se valida empresa, depto, cenco, cargo y turno
	
		3.8.6 18-11-2020, adiazr
			.- Se corrige error al ingresar a 'Turnos' - 'Asignación Cíclica turnos'.
		
		****************************************		
		v.3.9.0 05-11-2020, adiazr
			Requerimiento: Solicitud de vacaciones.
				
				Con usuario 'superadmin', Crear accesos con los sgtes datos:
				nombre							etiqueta								url
				solic_vac_admin					Solicitud Vacaciones (Admin)			vacaciones/sol_vacaciones_admin.jsp
				solic_vac_aprueba_rechaza		Solicitud Vacaciones (Aprobar/Rechazar)	vacaciones/sol_vacaciones_aprobar_rechazar.jsp
				
				Luego, el acceso 'solic_vac_admin' 				debe ser asignado al perfil de usuario 'Administrador'. Dentro del módulo 'Vacaciones'
				     Y el acceso 'solic_vac_aprueba_rechaza' 	debe ser asignado al perfil de usuario 'Director'. Dentro del módulo 'Vacaciones'
				
				Asignar el acceso 'Solicitud de Vacaciones' al perfil usuario 'Empleado', módulo Vacaciones. 
				
				En BD:
					INSERT INTO mantencion_tipo_evento(tipo_evento, nombre) VALUES ('SVA', 'Solicitud de vacaciones');
					
				.- Actualizar logo de empresa FMC en tabla 'empresa'. Set: 
					update admingestionweb.empresa set empresa_logo = 'LOGO_FMC-png_2020.png' where empresa_id='emp01';
		
		v.3.9.1 28-11-2020, adiazr
			20201125-001: Turnos rotativos asignación masiva. Agregar horario en combobox.
			20201118-001: Carga de vacaciones por CSV: Agregar validaciones de empresa y RUN empleado. Y guardar RUN autorizador.
			20201126-001: Admin Marcas. calendario fechas al Inserta marca SÓLO debe permitir fechas hasta 6 meses hacia atrás.
		
		***************************************************************************
		************** Versión 3.9.1 en producción Dummy desde el 05-12-2020
		***************************************************************************	
		
		v.3.9.2 08-12-2020, adiazr
			.- 20201207-001: Ingreso Solicitud de vacaciones: Crear módulo independiente que permita ingresar solicitudes de vacaciones.
				Nuevo acceso:
					Nombre					etiqueta						Url
					new_solic_vacaciones	Ingresar Solicitud Vacaciones	vacaciones/ingresar_solicitud_vacaciones.jsp
					
				Luego Asignar el acceso 'Ingresar Solicitud Vacaciones' al perfil usuario 'Empleado', módulo Vacaciones.
				
			.- Modificar acceso 'vacaciones_solic'. El label debe ser 'Solicitud vacaciones (Historial)'	
			.- 20201213-001: Admin Marcas. El campo 'fecha marca' no debe ser editable. Sólo se puede seleccionar una fecha, usando el calendario.	
			
		***************************************************************************
		************** Versión 3.9.2 en producción Dummy desde el 13-12-2020
		***************************************************************************	
			
		v.3.9.3 29-12-2020, adiazr	
			1.- Se modifica query que valida traslape de fechas en ausencias ingresadas.
			
			2.- Modificar acceso: Donde dice 'Solicitud vacaciones (Historial)', debe decir 'Solicitud vacaciones Propias'
			
			3.- Modificar reporte vacaciones.jasper y vacaciones.jrxml
			
			4.- 20201213-001: Validación de traslape de fechas de ausencias.
			
			5.- 20201216-001: Ingresar Solicitud Vacaciones.
				5.1- Formulario ingreso Solicitud Vacaciones: Cambiar label botón, debe decir "Enviar"
				5.2- Pág Mensaje después de Ingresar Solicitud. Debe mostrar: Nombre del jefe directo del empleado, Mail del jefe directo, Rango de fechas solicitadas y días efectivos solicitados.
				5.3- Calendario fechas: Sólo debe permitir seleccionar desde la fecha actual en adelante. Impedir seleccionar fechas pasadas.
				5.4- Empleado con cargo = Director, debe enviar solicitud a Gerencia en Admin Central (Cargo Jefe Técnico Nacional, ID 69 )
				5.5- Empleado con cargo <> Director: debe enviar solicitud a su jefe directo (Cargo Director, ID 22).
				
			6.- 	20201216-002: Solicitud Vacaciones. Ingreso como Director.
				6.1- Texto 'Solicitudes Vacaciones Vigentes": Cambiar por un color más claro.
				6.2- Después de hacer click en el link de notificaciones pendientes: Mostrar página con el listado de empleados con solicitudes pendientes para que el Director pueda aprobar/rechazar. Sin filtros de búsqueda.
				6.3- Módulo 'Aprobar/Rechazar': No se deben mostrar las solicitudes ingresadas por el propio Director.
				6.4- Módulo 'Solicitudes de vacaciones Propias': Sólo debe mostrar opción para 'Cancelar'
			
			7.- 20201217-001: Aprobar/Rechazar Solicitud vacaciones: Cambiar título a página. Debe ser "Aprobar/Rechazar Vacaciones"
			
			8.- 20201217-002: Aprobar/Rechazar Solicitud vacaciones. Columna 'saldo vacaciones' ¿está mostrando valor correcto?
			
			9.- 20201217-003: Aprobar/Rechazar Solicitud vacaciones. Columna 'dias solicitados' No corresponde según fecha inicio y fin ingresadas.
			
			10.- 20201217-004: Aprobar/Rechazar Solicitud vacaciones (usuario perfil Director). Al editar registro.
				10.1- Acción: combobox sólo debe mostrar: Aprobar y Rechazar
				10.2- Tras pinchar el botón 'Guardar', este cambia a 'Guardando', y se queda pegado ahí.. . Luego al pinchar 'Cancelar' se cerró la ventana de Editar Registro.
				10.3- El motivo rechazo debe ir al final, y debe  ser un poco más grande.
			
			11.- 20201221-001: Crear perfil usuario 'Jefe Técnico Nacional'
			
			12.- 20201221-002: Crear cargo 'Jefe Técnico Nacional'
			
			13.- 20201221-003: Tabla usuario: crear columna RUN_usuario
				13.1- Mostrar en Admin Usuarios.
				13.2- Agregar columna en formulario de creación usuario.
				13.3- Agregar columna en formulario de modificación usuario.
			
			14.- 20201226-001: Cargar manualmente calendario de feriados desde 1997.2017
			
			15.- 20201228-001: Vacaciones empleados dados de baja
				15.1- Admin vacaciones: Se deben mostrar todas las vacaciones ingresadas que sean mayor o igual que la fecha de inicio de contrato.
				15.2- Reporte vacaciones: Se deben mostrar todas las vacaciones ingresadas que sean mayor o igual que la fecha de inicio de contrato. Se debe modificar el query definido en reporte .jasper
			
			16.- 20201228-002: En Info Vacaciones, columna "asignadas[-]" (vacaciones tomadas): 
				Incluir sólo las vacaciones cuya fecha es >= 'fecha inicio contrato'. Con esto solo se obtendrás los días efectivos de las vacaciones ingresadas que sean mayor o igual que la fecha de inicio de contrato.
			
			***************************************************************************
			************** Versión 3.9.3 en producción desde el 04-01-2021
			***************************************************************************
			
		v.3.9.4 09-01-2021, adiazr
			.- 20210106-003: Insertar Ausencia por hora: Debe validar ausencia Conflicto.
				Se separan los métodos para validar ausencias por dia y por hora.
			.- 20210106-001:  En caso de haber conflicto: Indicar la fecha y qué ausencia es la que tiene conflicto.
			.- 20210106-005: Pág Mensaje después de Ingresar Solicitud Vacaciones:
				- Muestra en CERO los días solicitados.
				- Muestra 2 veces el nombre del jefe.
				- Muestra 2 veces el mail del jefe.
			.- 20210106-008: Solic Vacaciones Propias: No se está guardando valor en la columna 'Motivo Rechazo'.	
			.- 20210106-009: Al aprobar una Solic Vacación:  No se están guardando los campos 'RUN AUTORIZADOR' y 'DIAS EFECTIVOS'.
			.- 20210106-007: Aprobar/Rechazar Solic de vacaciones: Al editar, el como Acción no muestra 'Aprobar/Rechazar' (Muestra acción 'Ninguna')
			.- 20210106-004: Modificar acceso: Donde dice 'Solicitud vacaciones Propias', debe decir 'Vacaciones Solicitadas'
					Ejecutar: update admingestionweb.acceso set acceso_label='Vacaciones Solicitadas' where acceso_nombre='vacaciones_solic';
			
				Ejecutar alter en BD Dummy y en producción (la razón: para que pueda funcionar el reporte de vacaciones en ambos ambientes):
					alter_detalle_ausencia_3_9_4.sql
										
			.- 20210115-001: Invocar nueva función 'setsaldodiasvacacionesasignadas' al insertar vacación.
					Nueva función 'setsaldodiasvacacionesasignadas'.
					Esta función se debe invocar cuando:
					.- Se ingresa una vacación.
					.- Se acepta una solicitud de vacaciones.
					
			.- 20210114-001: Nuevas columnas en la tabla detalle_ausencias. Agregar estas nuevas columnas en:
					- Admin Vacaciones.
					- Reporte Vacaciones.
					
					- Actualizar reporte vacaciones (.jasper). Ojo que las nuevas columnas en detalle_ausencia deben crear en dummy y en producción.
					
					
			.-  20210116-001: Nueva columna a tabla 'ausencia'. Nombre: 'nombre_corto'. 
					Esta columna debe estar visible en el mantenedor de Ausencias (Tipos)
					Ejecutar en la BD: alter_ausencia_3_9_4.sql
					
			***************************************************************************
			************** Versión 3.9.4 en producción desde el 17-01-2021
			***************************************************************************		
		v.3.9.5 19-01-2021, adiazr
			.- 20210119-001: Validar ausencias conflicto: Si se quiere insertar una ausencia por hora, y ya existe una ausencia por dia, 
				se debe impedir que se ingrese la ausencia por hora.
			
			.- 20210119-008: Solicitud de Vacaciones. Se crea columna 'dias_efectivos_solicitados'	
			
			.- 20210119-002: Solicitud de vacaciones: No concuerdan los días solicitados informados al insertar la solicitud versus los días que se muestran en 
				la vista de Solicitudes enviadas o en la vista para Aprobar/Rechazar Solicitudes. 
				Los días solicitados deben ser siempre los mismos.
			
			.- 20210119-003: Solicitud de vacaciones. Si hay conflicto con una vacación existente, la Solicitud debe quedar como RECHAZADA 
				y con motivo rechazo = 'Conflicto con ausencia existente: Vacación entre las fechas yyyy-MM-dd y yyyy-MM-dd.
			
			.- 20210119-004: Solicitud Vacaciones: Agregar campo para guardar un mensaje al aprobar una solicitud. 
				Se cambia etiqueta de columna 'mensaje rechazo' por 'Nota/Observacion'.
				De esta forma se puede agregar comentario tanto al rechazar como al aprobar una solicitud de vacaciones.
				
			.- 20210119-005: Una solicitud de Vacaciones que ha sido APROBADA, debe aparecer en el listado de vacaciones en Admin Vacaciones.
			
			.- 20210119-006: Admin Vacaciones. El orden de las columnas debe ser:  “Días acum. Vac asignadas”, “Días efectivos” y “Saldo vac asignadas”.	

			.- 20210119-007: Reporte Vacaciones. El nombre no es el correcto. Debe ser 'Saldo Días Asignados'. Y dice 'Días asignados'.
				Actualizar reporte Jasper.
			
			.- 20201231-001: Carga Masiva CSV. Todas las cargas CSV deben quedar registradas en el log de eventos.
			
		v.3.9.6 21-01-2021, adiazr	
			20201228-003: Filtros por fecha al buscar empleados: Marcas, ausencias. No debe mostrar aquellos registros anteriores a la fecha de inicio de contrato del trabajador.
						
			20201228-003: Admin empleados - Editar Empleado: Para perfil de usuario “Director” y “Director TR”, 
				se debe bloquear la edición del campo 'fecha inicio de contrato'.
			
			20210122-001: Ingreso Solicitud vacaciones: Impedir que se seleccionen fechas pasadas.
			
			20201127-002: Carga masiva empleados. Crear usuario con perfil Director y otro con perfil Empleado
			
			20210122-01: Ingreso de Ausencia: Impedir el ingreso de una ausencia por día cuando ya existe una ausencia por hora para ese día.
			
			.- Ejecutar sql: alter_solicitud_vacaciones_3_9_6.sql
			
			.- Se modifica pagina de ingreso al Sistema (Login)
			
		***************************************************************************
		************** Versión 3.9.6 en Dummy producción desde el 23-01-2021
		***************************************************************************
		v.3.9.7 11-02-2021, adiazr		
			.- Informe Asistencia Semanal: Se corrige error al generar reporte para TODOS los empleados: Dejaba fuera del reporte algunos empleados. 
		
		***************************************************************************
		************** Versión 3.9.7 en Dummy producción desde el 11-02-2021
		***************************************************************************
		
		***************************************************************************
		************** Versión 3.9.7 en Producción desde el 23-02-2021
		***************************************************************************
		
		v.3.9.8i 10-03-2021, adiazr		
			.- 20210310-001: Ingresar vacaciones desde módulo 'Ingresar Vacaciones'. Corregir valor en columna 'dias_solicitados' que se muestra en Admin Vacaciones.
				Se corrige funcion getFechas de la clase Utilidades.
			.- 20210310-002: Admin Vacaciones - Modificar vacación existente. Se corrige validación de saldo vs dias solicitados.
			.- 20210313-001: Ingresar vacación: Los errores de validaciones deben quedar registradas en el log de eventos.
			.- 20210313-002: Admin vacaciones: Al modificar vacación existente: Los errores de validaciones deben quedar registradas en el log de eventos.
			.- 20210313-005: Ingresar Solicitud de vacación: Mostrar saldo de días disponibles a la fecha y alertar en caso de saldo insuficiente.
			.- 20210313-005: Ingresar Solicitud de vacación: Agregar página de confirmación donde se muestren los días efectivos que se están solicitando y el saldo de días resultante post aprobación de las vacaciones.
		
		***************************************************************************
		************** Versión 3.9.8i en Producción desde el 14-03-2021
		***************************************************************************	
		v.3.9.9 20-03-2021, adiazr
			20210316-001: Admin Vacaciones. Al modificar fechas de una vacación existente, no se está actualizando la columna 'saldo vacaciones asignadas'.
			20210316-002: Reporte de Vacaciones. Verificar la columna 'saldo vacaciones asignadas'.
			20210316-003: Ingresar Solicitud de vacaciones. En la página de ingreso de solicitud, se debe cambiar el texto "DIAS A FAVOR" por "SALDO DIAS DISPONIBLES"
			20210316-004: Página de vista previa antes del ingreso de una Solicitud de vacaciones. Mejorar la vista de los datos
			20210316-005: Página después de  ingresar de una Solicitud de vacaciones. Mejorar la vista de los datos.
			20210316-006: Página después de ingresar Solicitud de vacaciones: El hipervínculo VOLVER lleva a una página de Error.
			
		***************************************************************************
		************** Versión 3.9.9 en Producción desde el 24-03-2021
		***************************************************************************	
		v.3.9.9i 20-03-2021, adiazr
			.- Se deshabilita el módulo de 'Ingresar Vacaciones'.
				- Botón en 'Info Vacaciones' y se quita el acceso 'Ingresar Vacaciones' a los perfiles de Director.
	
		***************************************************************************
		************** Versión 3.9.9i en Producción desde el 28-03-2021
		***************************************************************************
		v.4.0.0	29-04-2021, adiazr
			20210429-001: Info Vacaciones y cálculo. Corregir error al calcular días de vacaciones progresivas.
				
		***************************************************************************
		************** Versión 4.0.0 en Producción Dummy desde el 01-05-2021
		***************************************************************************
		v.4.0.1	08-05-2021, adiazr
			20210507-001: Solicitud vacaciones. Al aceptar/rechazar una solicitud de  vacaciones, y al insertar registro en tabla 'notificacion' 
				no se están seteando los campos 'Inicio vacaciones', 'Termino vacaciones' ni 'Dias solicitados'
		
		***************************************************************************
		************** Versión 4.0.1 en Producción Dummy desde el 11-05-2021
		***************************************************************************
		
		v.4.0.2	15-05-2021, adiazr
			20210511-001: Info Vacaciones & Cálculo. Columnas 'inicio' y 'fin' última vacación, debe mostrar la última vacación cuya fecha inicio sea mayor a la fecha de inicio del contrato del empleado.
			20210511-002: Reporte Vacaciones. Texto del reporte donde dice “NO HAY DATOS” por “No ha hecho uso de sus vacaciones”.
				Archivos modificados: vacaciones.jrxml y vacaciones.jasper
			
		***************************************************************************
		************** Versión 4.0.2 en Producción Dummy desde el 16-05-2021
		***************************************************************************
		
		***************************************************************************
		************** Versión 4.0.2 en Producción desde el 17-05-2021
		***************************************************************************
		
		v.4.0.3	16-05-2021, adiazr
			
			20210511-003: Traspaso histórico de marcas, ausencias, marcas rechazos, cálculos de asistencia y log de eventos.
				N° 1. Traspaso histórico automático: Cuando a un trabajador se le cambie la fecha de inicio de contrato.
				N° 2: Traspaso histórico manual: Bajo demanda por medio de un modulo.

				Crear nuevo acceso dentro del módulo 'Procesos', jsp: procesos/ejecutar_traspaso_historico.jsp
				Nombre: traspaso_historico
				Etiqueta: Traspaso a historicos
				Url: procesos/ejecutar_traspaso_historico.jsp
				
				Luego asignar este nuevo acceso al Perfil de usuario Administrador - Modulo procesos.
			
			Ejecutar SQL: 'alter_tablas_historicas_v4_0_3.sql'
			
				.- Eliminar FK 'marca_histo_fk_dispositivo' de tabla 'marca_historica'.
				.- Eliminar FK 'detalle_ausencia_hist_fk2' de la tabla 'detalle_ausencia_historica'.

			20210522-001: Quitar restricción de fechas al realizar búsquedas de registros históricos.
				En todas las vistas de registros históricos:
				.- Quitar restricción de fechas al realizar búsquedas
				.- Quitar label 'Más de 6 meses de antiguedad'
			20210522-002: Quitar restricción de fechas al realizar búsquedas de registros: 
				Marcas, Ausencias, Log de eventos (auditoría), Marcas rechazadas y Cálculos de asistencia.
			
			***************************************************************************
			************** Versión 4.0.3 en Producción Dummy desde el 23-05-2021
			***************************************************************************
		
		v.4.1.0	29-05-2021, adiazr
			20210527-001: Cambio en tablas de Feriados (base de datos).
			20210527-002: Modificar Administrador de feriados.
			20210527-003: Uso de tabla 'calendario_feriados'. Se debe considerar que ahora la tabla puede contener más de un registro por fecha.
			20210527-004: Usar el nuevo SP (creado por Ramón) para obtener la info completa de una fecha.
			20210609-001: Traspaso automático a tablas históricas. Gatillado cuando se modifica la fecha de inicio de contrato de un empleado.
			
			***************************************************************************
			************** Versión 4.1.0 en ambiente Dummy desde el 12-06-2021
			***************************************************************************
			
		v.4.1.1	22-06-2021, adiazr	
			20210622-001: Carga masiva de vacaciones: usar 'empl_rut' al guardar el run_autorizador.
				Se corrige el seteo del RUN autorizador de vacaciones, seteando el RUN sin puntos.
			
			20210622-002: Traspaso automático a tablas históricas. Gatillado cuando se modifica la fecha de inicio de contrato de un empleado
				Antes de hacer las pruebas, se limpiaron todas las tablas históricas, dejando cero registros en ellas.
				Luego se tomó un empleado y se le modificó la fecha de inicio de contrato = 23-06-2021, gatillando el traspaso a históricos.
				El resultado fue el esperado: los registros fueron movidos a las respectivas tablas históricas, coincidiendo
				los registros antes y después de realizar el traspaso a históricos.
				
				Cabe señalar que el procedimiento que mueve los registros a la tabla 'mantencion_evento_historico', 
				sólo filtra por fecha y por empresa_id, no por RUN empleado.
			
		v.4.1.2	26-06-2021, adiazr
			20210626-001: Traspaso histórico. Mejoras:
				.- Traspaso ausencias: Filtrar por columna 'fecha_inicio'
				.- Traspaso detalle_asistencia, Filtrar por columna 'fecha_hora_calculo'
				.- Al ejecutar traspaso histórico manual: Mejorar mensaje en caso de error por registros duplicados u otro.
				
			***************************************************************************
			************** Versión 4.1.2 en ambiente Dummy desde el 26-06-2021
			***************************************************************************	
				
		v.4.1.3	07-07-2021, adiazr	
			20210706-001: Usuario Perfil Director-->Aprobar/rechazar solicitud de vacaciones. No se despliegan opciones en el combo 'Acción'.
				Obs: Todos los usuarios con perfil de usuario DIRECTOR o DIRECTOR TR, deben tener un RUN definido. Este RUN es requerido porque es el Run que autoriza solicitudes de vacaciones.
		
			***************************************************************************
			************** Versión 4.1.3 en ambiente Dummy desde el 07-07-2021
			***************************************************************************	
		
		v.4.1.4	21-07-2021, adiazr
			.- 20210725-001: Invocar funcion de Ramon, dentro de un rango de fechas. Para evitar tener que invocar a la función por cada fecha una a una.
			.- Corregir error cuando un usuario no tiene centros de costos asociados y se rescatan los turnos de cada centro de costo.
			.- Corregir error al registrar en el log de auditoría un intento fallido de login de usuario.
			.- Corregir error en servlet de Marcacion Virtual.
			.- Aumento largo columna tabla 'mantencion_evento'.'browser_name' a largo 500. Motivo: arrojaba error al registrar autenticación desde un dispositivo móvil.
				Ejecutar: 4_1_4_alter_tabla_mantencion_evento.sql
			.- Al consultar marcas, acciones a realizar: Por defecto se asume "Fecha desde" = 1er dia del mes en curso y "Fecha hasta" = fecha actual. Asi se evita error cuando no se selecciona alguna de las fechas.
		
		v.4.1.5	01-08-2021, adiazr
			.- 20210812-001: Revisar admin marcas, para que muestre correctamente los días feriados.
			.- 202107-30-003: Al ingresar con usuario perfil Jefe Tecnico Nacional, no se muestra el globo de notificación de solicitud de vacaciones ...
			.- 20210813-001: Listado de solicitudes de vacaciones pendientes de aprobar: Mostrar el cargo de cada empleado. (como info adicional)
			.- 20210801-001: Al entrar al Sistema con un usuario con perfil Director, No permite ingresar una solicitud de vacaciones.
				- Usuario con perfil de usuario Director ingresa Solicitud de vacaciones
				- Al ingresar una solicitud de vacaciones, se debe mostrar el cargo del destinatario de la solicitud (Director / Jefe Técnico Nacional)
				- La solicitud de vacaciones va dirigida al Jefe Técnico Nacional.
				- Usuario con perfil de usuario 'Jefe Técnico Nacional', consulta/aprueba/rechaza la solicitud de vacaciones ingresada por el usuario Director.
		
			.- 20210730-004: Página de login: Tras cerrar la WEB sin cerrar sesión y cerrar el navegador y luego al entrar a la página de login, se muesrtra el mensaje 'Usuario null o clave no válidos'
		
		v.4.2.0	14-08-2021, adiazr
			.- 20210722-001: Incluir decimales en columnas de la tabla 'vacaciones'.
				Actualizar reporte_vacaciones (archivo Jasper Report): Para que considere valores Double en vez de Integer. Se aumenta el ancho de los campos donde se muestran los días.
			.- 20210817-001: Cálculo vacaciones progresivas. Incluir validaciones y cambios en fórmulas.
		
			***************************************************************************
			************** Versión 4.2.0 en produccion desde el 27-08-2021
			***************************************************************************	
		
		v.4.2.1	27-08-2021, adiazr
			.- 20210827-001: Admin feriados no permite eliminar feriados.
			.- 20210827-002: Admin marcas, muestra dia feriado cuando no lo es. Debe validar la región/comuna del empleado que se está consultando.
			.- 20210827-003: Al ingresar como Jefe Técnico Nacional no se muestra la notificación de solicitudes de vacaciones pendientes.
			.- 20210827-004: Al entrar como usuario Perfil Director, muestra solicitud de vacaciones del mismo usuario director solicitadas con su perfil Empleado.
			.- 20210827-005: Un usuario con perfil Director o Jefe Tecnico, no puede solicitar vacaciones. Para hacerlo, debe ingresar con su respectivo perfil Empleado.			
			
		v.4.2.2	31-08-2021, adiazr
			.- Usuario perfil Jefe Tecnico Nacional sólo debe ver las solicitudes de vacaciones de empleados con cargo ID=22 (Director)
			.- Se modifica la función 'setsaldodiasvacacionesasignadas': 
				Arrojaba un error de parseo y posterior redondeo de decimales.
			.- Vista de 'Admin Vacaciones': Ahora se muestran los decimales en las columnas: "Dias acum. vac asignadas" y "Saldo vac asignadas".

			***************************************************************************
			************** Versión 4.2.2 en produccion desde el 07-09-2021
			***************************************************************************	
	
		v.4.2.3	05-09-2021, adiazr
			.- 20210904-001: Ingresar Solicitud de vacaciones.
				Al ingresar una nueva solicitud se debe mostrar el detalle de los días disponibles: días normales, especiales, zona extrema y progresivos.
			.- 20210911-001: Se cambia pagina de login.
				
				
			***************************************************************************
			************** Versión 4.2.3 en ambiente Dummy desde el 11-09-2021
			***************************************************************************	
			
		v.4.2.4	02-10-2021, adiazr
			.- El administrador de marcas, cuando se visualizan las marcas y existe un feriado Nacional, este no se muestra, 
				se puede ver que muestra “Faltan Ambas Marcas”.
				Si se está mostrando correctamente el feriado por región.
		
		v.4.2.5	07-10-2021, adiazr
			.- Admin Marcas: Se corrige error al visualizar marcas de empleado con turno rotativo.
			
		v.4.2.6	23-10-2021, adiazr
			.- 20211020-001: Admin empleado, al modificar: Agregar nuevo campo: 'fecha desvinculación'.	
				Ejecutar en la BD: alter_v4_2_6.sql
			
			***************************************************************************
			************** Versión 4.2.6 en ambiente Dummy desde el 31-10-2021
			***************************************************************************
			
			
			***************************************************************************
			************** Versión 4.2.6 en Produccion desde el 17-11-2021
			***************************************************************************
			
		v.4.2.7	21-11-2021, adiazr	
			.- 20211112-001: Cambios a Solicitud de vacaciones propias.
				- Incluir “Nota/Observación” de una vacación aprobada o rechazada en cuerpo de mail de notificación
				- Eliminar botón de modificar registro en perfil EMPLEADO.
			
			***************************************************************************
			************** Versión 4.2.6 en Produccion desde el 21-11-2021
			***************************************************************************	
			
		v.4.3.0	05-12-2021, adiazr	
			.- 20211016-001: Desglose Vacaciones: Vacaciones básicas anuales (VBA) y Vacaciones progresivas (VP)
			
				.- Se modifica la funcion 'get_all_vacaciones_json'
				.- Se modifica reporte Jasper de Vacaciones: 'vacaciones.jasper' y 'vacaciones.jrxml'
			
			.- 20211016-001: Desglose Vacaciones: Vacaciones básicas anuales (VBA) y Vacaciones progresivas (VP)
				- Admin Vacaciones: Mostrar las nuevas columnas: dias_efectivos_vba, dias_efectivos_vp, saldo_vba_pre_vacaciones, saldo_vp_pre_vacaciones, saldo_vba_post_vacaciones, y saldo_vp_post_vacaciones.
				- Info Vacaciones & Cálculo: Mostrar las nuevas columnas “saldo_dias_vba” (Saldo dias vacaciones básicas anuales) y “saldo_dias_vp” (Saldo dias vacaciones progresivas)
				- Reporte de Vacaciones: En c/registro de vacaciones, mostrar las nuevas columnas: dias_efectivos_vba, dias_efectivos_vp, saldo_vba_pre_vacaciones, saldo_vp_pre_vacaciones, saldo_vba_post_vacaciones, y saldo_vp_post_vacaciones.
			
			.- 20220105-003: Reporte de vacaciones: Quitar la ejecución del cálculo de vacaciones cada vez que se genere un reporte de vacaciones.
			.- 20220107-001: Notificacion por ingreso de solicitud de vacaciones cuando un Director solicita vacaciones, debe notificar al Jefe Tecnico Nacional
			
		Para pruebas
				usuario director	: 15711051-9 
				usuario director TR	: jbanares
				Usuario			clave		Nombre							Cenco						Perfil		Cargo		art22
				-------------	--------	-------------------------		------------------------	---------	---------	--------------
				amoreno			am1972		Adriana Marjorie Moreno			PIE 24 HRS SAN BERNARDO		Director	Director	NO			
				cantillanca		ca1984		Carola Magdalena Antillanca		PPF MARIQUINA				Director	Director	NO				
			
			***************************************************************************
			************** Versión 4.3.0 en Dummy desde el 09-01-2022
			***************************************************************************
			
		v.4.3.1	22-01-2022, adiazr
			.- 20220118-001: Admin Vacaciones. Corregir labels de las dos últimas columnas. Donde dice 'Pre' Debe decir 'Post'
			.- 20220118-002: Cálculo de vacaciones, Se muestra error. Analisis: El error se produjo porque las fechas
				de una vacación existente, no estaban en la tabla 'calendario_feriados'. Este problema lo tendremos 
				con aquellas vacaciones más antiguas. Se requiere insertar más registros a la tabla calendario en la BD.
			.- 20220118-003: Reporte vacaciones.
				Columna Saldo VP post, sus valores están alineados a la izquierda, el resto están a la derecha, esto se debe corregir.	
				Se modifica: 'vacaciones.jasper'.
			.- 20220118-004: Al solicitar vacaciones, Vista Previa: No se muestran las nuevas columnas.

			
			***************************************************************************
			************** Versión 4.3.1 en Dummy desde el 23-01-2022
			***************************************************************************	
		
		v.4.3.1R2	25-01-2022, adiazr
			.- Al ingresar a Solicitud de vacaciones: se quita la ejecución de cálculo de vacaciones al momento de
				que un trabajador ingresa al módulo para ingresar una 'Solicitud de Vacaciones'. 
			.- 20220124-001: Vista previa solicitud de vacaciones: mostrar desglose de días.
			.- 20220124-002: En el desglose de vacaciones, muestra valor negativo en saldo VP post vacaciones.
			
			***************************************************************************
			************** Versión 4.3.1R2 en Dummy desde el 25-01-2022
			***************************************************************************
		
		v.4.3.2	23-01-2022, adiazr
			.- 20220105-002: Nuevo módulo de "cálculo vacaciones desvinculados".
				.- Renombrar módulo "Info Vacaciones & Cálculo", debe decir "Cálculo de Vacaciones"
				.- Crear nuevo módulo "Cálculo Vacaciones (desvinculados)"
						Nombre: "calculo_desvincula2"	
						Etiqueta: "Cálculo Vacaciones (desvinculados)" 
						Url: "vacaciones/calculo_vacaciones_desvincula2.jsp"
			
			.- 20220128-001: Al entrar a solicitar vacaciones: Mostrar saldos correctos de Dias disponibles y de días progresivos.
	
			.- Cambios en Base de datos:
				.- Modificar funcion 'validafechaferiado'. Se quita filtro de empleado.estado=1 (empleados vigentes)
					Motivo del cambio: la funcion ahora se usa para empleados vigentes y no vigentes.
				.- Modificar vista 'view_empleado': Agregar la columna 'fecha_desvinculacion'.


			***************************************************************************
			************** Versión 4.3.2 en Dummy desde el 30-01-2022
			***************************************************************************
						
		v.4.3.3	23-01-2022, adiazr	
			.- 20211224-001: Sistema no muestra rechazos con RUN 1-9. 
				Se revisa el query que se usa para obtener los empleados con marcas rechazadas y:
				.- Se detecta que se hace un JOIN con la tabla 'empleado' para filtrar que la fecha del rechazo sea >= que la fecha inicio de contrato del empleado.
					Este filtro se eliminó.
					
			.- 20220301-001: Calculo vacaciones Desvinculados.
					Se corrige seteo de fecha efectiva en el caso de desvinculados. Además, al calcular saldo de vacaciones, aclarar que: 40 x 1.25 = 50. Y no 60 como se indica en el documento de pruebas.
			
			.- 20220301-002: Al solicitar vacaciones. El saldo VBA está incorrecto

			.- 20220301-004: Al volver a solicitar vacaciones, sigue descontando dias de VP, siendo que estos estaban en cero.
				
			***************************************************************************
			************** Versión 4.3.3 en Dummy desde el 06-03-2022
			***************************************************************************	
			
		v.4.3.4	10-03-2022, adiazr	
			.- 20220307-001: Vacaciones Desvinculados: Agregar columna 'fecha desvinculación' en la vista.
			.- Corrección error en desglose de días de vacaciones al ingresar solicitud de vacaciones.
			
		***************************************************************************
		************** Versión 4.3.5 en Dummy desde el 10-03-2022
		***************************************************************************		
		
		v.4.3.6	12-03-2022, adiazr
			.- Se corrige cálculo de vacaciones. Seteo de columna 'vacaciones'.'saldo_dias_vp'.
				Clase: cl.femase.gestionweb.business.VacacionesBp. Nuevo metodo: 'getDiasVP'. Se aplica fórmula sugerida en correo de Felipe Galindo del dia 16-03-2022. Específicamente, se 
				aplica fórmula sugerida por Ramón.
				
			Modificar funcion 'get_all_vacaciones_json': 
				Se agregan las columnas 'detalle_ausencia'.'saldo_vba_post_vacaciones' y 'detalle_ausencia'.'saldo_vp_post_vacaciones'.
				Ejecutar el Sql: 'v4_3_5_alter_funcion_get_all_vacaciones_json'
    
		v.4.3.7	17-03-2022, adiazr.
			.- Se corrige cálculo de saldos de vacaciones VP al ingresar solicitudes de vacaciones.
			(Según documentos de pruebas "Pruebas de software VERSION 436 A" y "Pruebas de software VERSION 436 B") 
			
		v.4.3.8	23-03-2022, adiazr.
			.- Corregir error al calcular vacaciones de empleado que no registra ninguna vacacion en el Sistema.
			
			
		***************************************************************************
		************** Versión 4.3.8 en Dummy desde el 24-03-2022
		***************************************************************************	
		
		v.4.3.9	27-03-2022, adiazr
			.- 20220324-001: Traspaso a tablas históricas: Se traspasan a histórico los registros con mas de 6 meses de antiguedad.
				Agregar campos faltantes a las tablas históricas 'detalle_ausencia', 'marca'
				- Ejecutar 'alter_4_3_9.sql'.
			
			.- 20220331-001: Ingreso manual de vacaciones: Actualizar columnas faltantes, invocando a las funciones 'setsaldodiasvacacionesasignadas()' y 'setsaldodiasvacacionesasignadas_vba()'
			.- 20220331-002: Cálculo Vacaciones. Corregir en la vista columna 'Asig(-)': Esta corrección ya fue realizada. Después de ejecutar un nuevo cálculo de vacaciones, se corrije el valor, quedando con valor = 99.
			.- 20220331-003: Reporte de Vacaciones: muestra el saldo de VP cuando dicho saldo ya esta usado, o sea, en cero.
				- Modificar reporte de vacaciones, archivo: 'vacaciones.jasper'.
				
		***************************************************************************
		************** Versión 4.3.9 en Producción desde el 06-04-2022
		***************************************************************************	

		v.4.4.0	07-05-2022, adiazr
			.- Módulo de Dias administrativos.
				Ahora los Permisos Administrativos sólo podrán pedirse, vía Solicitud de Permiso Administrativo. La que debe ser aprobada por el Jefe Directo.
				Por lo tanto, debe inhabilitarse el ingreso de justificación de inasistencia del tipo 'Permiso Administrativo'
	
			Cambios en base de datos:
				.- Insertar nuevo parámetro en tbla 'parametro', 'numero máximo de dias de PA anuales'	Ejecutar ---> 4_4_0_insert_new_parametro_maximo_dias_PA.sql
				.- Insertar nuevo tipo de evento 														Ejecutar ---> 4_4_0_insert_new_tipo_evento.sql
				.- Crear nueva secuencia: 'solicitud_permiso_administrativo_solic_id_seq'				Ejecutar ---> 4_4_0_new_sequence.sql
				.- Crear nueva tabla: 'permiso_administrativo'							   				Ejecutar ---> 4_4_0_new_table_PA.sql
				.- Crear nueva tabla: 'solicitud_permiso_administrativo'				   				Ejecutar ---> 4_4_0_new_table_solic_PA.sql
				.- Crear nueva columna 'dias_solicitados' en la tabla 'detalle_ausencia'   				Ejecutar ---> 4_4_0_new_column_detalle_ausencia.sql
				.- Aumento largo columnas en tabla 'acceso'												Ejecutar ---> 4_4_0_alter_table_acceso.sql
				
				.- Crear nuevo módulo 'Permisos Administrativos': (hacerlo desde el sistema, con usuario 'sa')
					Nombre: Permisos Administrativos (PA)
					Estado: Vigente
					Orden: 150
					icon id: fas fa-clipboard
					Acceso rápido: No
					Título: Permisos Administrativos
					Sub título: Gestion de Permisos Administrativos
					Img: permisos_administrativos.png
					
				.- Poblar tabla 'permiso_administrativo' con todos los empleados vigentes. 
						Insertar datos para el anio 2022. Ejecutar 										---> 4_4_0_poblar_tbl_permiso_administrativo.sql
				
				.- Desde el Sistema - Procesos: Agregar nuevos registros (uno para la FMC y otro para Femase)
				
						Entrar con usuario Administrador (FMC)
						empresa				label									nombreJob
						------				---------------------					-----------
						Fundacion Mi Casa	Reseteo Dias Administrativos FMC		ReseteoDiasAdministrativosFMCJob
						
						Entrar con usuario Administrador (Femase)
						Femase				Reseteo Dias Administrativos Femase		ReseteoDiasAdministrativosFemaseJob
				
				.- Desde el Sistema - como usuario Superadmin- Renombrar el acceso_cod='adm_procesos', debe decir: 'Admin Procesos/Ejecutar'
				
				.- Se crea nuevo proceso (Job) que resetea los dias de permiso administrativo para el año en curso. 
					Insertando registros en la tabla 'permiso_administrativo', 
						con: dias_disponibles=6 y dias_utilizados=0 para todos los empleados vigentes de la empresa.				
					
				.- Copiar nuevo reporte de permisos administrativos.	
					
			Crear nuevos accesos, que luego estarán dentro del módulo 'Permisos Administrativos'.
				nombre						etiqueta													url
				------------------------	----------------------------------------------------	----------------------------------------------	
				admin_pa					Administración de PA				permisos_administrativos/admin_pa.jsp
				report_pa					Reporte de PA						permisos_administrativos/reporte_pa.jsp
				calendar_pa					Calendario de PA					permisos_administrativos/gantt_viewer/main_frameset.jsp
				solic_pa_admin				Solicitud PA (Admin)				permisos_administrativos/sol_pa_admin.jsp
				pa_solicitados				PA Solicitados					permisos_administrativos/solicitud.jsp
				ingresar_pa					Ingresar Solicitud PA				permisos_administrativos/ingresar_solicitud_pa.jsp
				solic_pa_aprueba_rechaza	Solicitud PA (Aprobar/Rechazar)	permisos_administrativos/sol_pa_aprobar_rechazar.jsp
				resumen_pa					Resumen PA						permisos_administrativos/resumen_pa.jsp
				
			Definición de accesos por Perfil de usuario:	

			Perfil: Administrador
				Accesos módulo 'Permisos Administrativos':
					Administración de PA
					Reporte de PA
					Solicitud PA (Admin)
					Resumen PA
					
			Perfil: Director
				Accesos módulo 'Permisos Administrativos':
					Reporte de PA
					Solicitud PA (Aprobar/Rechazar)
					Ingresar Solicitud PA
					PA Solicitados
					Calendario de PA
					
			Perfil: Empleado
				Accesos módulo 'Permisos Administrativos':		
					Ingresar Solicitud PA
					PA Solicitados
					
			Perfil: Jefe Técnico Nacional
				Accesos módulo 'Permisos Administrativos':		
					Solicitud PA (Aprobar/Rechazar)
					
					
		***************************************************************************
		************** Versión 4.4.0 en Dummy desde el 04-06-2022
		***************************************************************************		
		
		v.4.4.1	10-07-2022, adiazr
				.- 20220701-001: Solicitud de vacaciones: No está considerando el caso de 'dias especiales' cuando se calculan los dias efectivos solicitados. 
				En este caso, los dias efectivos serán dias corridos entre la fecha inicio y fin de las vacaciones solicitadas.
				
				.- 20220725-001: Solicitud Permiso PA: Modificar funcionamiento de los campos de rango de fechas, según el tipo de jornada seleccionado.
			
		***************************************************************************
		************** Versión 4.4.1 en Dummy desde el 01-08-2022
		***************************************************************************
			
		v.4.4.2	10-07-2022, adiazr		
				
				.- Ingreso de solicitud de permiso administrativo: Al aprobar una solicitud de PA de mediodia, la ausencia quedó guardada
				como por día. Lo correcto es que se inserte como ausencia x hora.
				
				.- Consulta sobre carga masiva de vacaciones: En la carga masiva de vacaciones por archivo CSV, no se invoca ninguna de las funciones utilizadas dentro del sistema.
					Esto porque la carga masiva de vacaciones quedó desactualizada.
			
				.- 20220725-01: Asignación de turnos rotativos a centro de costo. Basarse en el módulo "Asignación Turnos - Centros de costo"
					.- Renombrar items dentro del menú 'Turnos': Donde dice 'Asignacion Turnos-Centros de costo', debe decir 'Turnos-Centros de costo'.
					.- Crear nuevo item dentro del menú 'Turnos' llamado 'Turnos rotativos-Centros de costo' (nueva funcionalidad). Asignar este nuevo acceso
					 al perfil de usuario Administrador
					.- En 'Turnos rotativos-asignacion' y en 'Asignacion ciclica Turnos' se muestra el ID de c/turno.
					
					Cambios en base de datos: 
					- Crear nueva tabla llamada 'turno_rotativo_centrocosto'. Ejecutar script: 'create_table_4_4_2.sql'
			
			
		***************************************************************************
		************** Versión 4.4.2 en Produccion desde el 09-08-2022
		***************************************************************************
			
		v.4.4.3	15-08-2022, adiazr	
				20220813-01: Solicitud permiso administrativo (PA). Horarios según turno en el caso de PA por mediodía.
				
					Cambios en base de datos: Agregar nuevas coumnas en la tabla "solicitud_permiso_administrativo". Estas columnas se usan
					cuando un permiso administrativo es por mediodia.
						hora_inicio 
						hora_fin
				
		***************************************************************************
		************** Versión 4.4.3 en Dummy desde el 16-08-2022
		***************************************************************************		

		***************************************************************************
		************** Versión 4.4.3 en Produccion desde el 24-08-2022
		***************************************************************************

		v.4.4.4	17-08-2022, adiazr
			.- Eliminar acceso al módulo de Permisos administrativos en caso de que un usuario 
					con perfil 'Empleado' tenga turno rotativo.
				Requerimiento: los permisos administrativos, solo deben estar visibles para los empleados 
					con turnos normales, se debe dejar fuera a los empleados con turnos rotativos.
			
			.- 20220831-01: Agregar filtros de búsqueda en módulos de administración.
			
			.- 20220908-01: Permisos administrativos: reseteo semestral
				Se crea nuevo Job que permite inicializar el número de días de Permisos Administyrativos disponibles para cada semestre.
				Este Job debe ejecutarse manualmente (por ahora) dos veces al año, como sigue: el 01-enero y el 01-julio de cada año.
			    Para cada semestre se tiene un máximo de 3 días administrativos. (parámetro configurable en Base de datos)
			
			*****
			Cambios en base de datos: Ejecutar los siguientes archivos .sql para esta versión.
				- 4_4_4_insert_parametros.sql
				- 4_4_4_alter_table_permiso_administrativo.sql
				- 4_4_4_update_proceso.sql
				- 4_4_4_alter_table_proceso.sql
				- 4_4_4_insert_parametros.sql
				- 4_4_4_alter_table_proceso_ejecucion.sql
				- 4_4_4_add_column_tbl_solicitud_pa.sql
			
			***************************************************************************
			************** Versión 4.4.4 en Dummy desde el 19-09-2022
			***************************************************************************
			
			***************************************************************************
			************** Versión 4.4.4 en Producción desde el 23-09-2022
			***************************************************************************
			
				
			
		v 4.4.5 08-10-2022
			.- 20220704-001: Nueva fecha de inicio de contrato. Empleados: Continuidad laboral.
				Cambios en base de datos: Ejecutar '4_4_5_alter_tabla_empleado.sql'
				
			***************************************************************************
			************** Versión 4.4.5 en Dummy desde el 01-11-2022
			***************************************************************************	
			
		v 4.4.6 13-11-2022	
			.- Modificar texto que se muestra cuando un trabajador intenta ingresar una solicitud e vacaciones y no tiene dias de vacaciones disponibles.
			.- 20221125-001:Nuevas funciones VBA y VP. Al editar un registro de la tabla 'vacaciones' y 
				al calcular vacaciones se deben utilizar las funciones creadas por Ramon (FEMASE).
			.- 20221220-01: Habilitar botón 'Cancelar' Solicitud de vacaciones y solicitud de PA.
			
			.- 20230107-01: Restringir selección de fechas al ingresar solicitud de Permiso Administrativo. 
				Cuando se ingresa una solicitud de permiso administrativo sólo se debe permitir la selección de fechas dentro del semestre en curso.
				
			
			***************************************************************************
			************** Versión 4.4.6 en Dummy desde el 28-12-2022
			***************************************************************************
			
			
			***************************************************************************
			************** Versión 4.4.6 en Produccion desde el 27-01-2023
			***************************************************************************
		
		v 4.4.7 31-01-2023
			.- Admin Empleados, modificar: Se modifica label "Nueva Fecha de inicio contrato" por "Nueva Fecha de inicio contrato para continuidad laboral".
		
			***************************************************************************
			************** Versión 4.4.7 en Produccion desde el 31-01-2023
			***************************************************************************
			
		v 4.4.8 01-02-2023
			.- 20230131-01: Permisos administrativos AM/PM. Considerar minutos de colación al calcular hrs del PA de mediodia.
			
			***************************************************************************
			************** Versión 4.4.8 en Produccion desde el 03-02-2023
			***************************************************************************
			
		v 4.4.9 15-01-2023	
			.- 20230203-02: Admin Empleado:  El campo de fecha para continuidad laboral, debe estar bloqueado cuando continuidad laboral = NO. 
				Actualmente tanto para SI y NO la fecha para continuidad laboral puede ser manipulada.
			
			.- 20230216-001: Error creación de 2 personas para un mismo centro de costo. 
					Se solicita que el sistema valide la creación de más de una persona por CENCO.
					El Sistema debe impedir que se cree un empleado que ya existe para el mismo centro de costo. 
					Premisa: No se debe permitir crear un epleado que ya existe para el mismo centro de costo, para otro centro de costo si.
							Un trabajador puede existir en más un CENCO, pero no para un mismo CENCO
					Probar con: 17122165-K, 17122165-KB, 17122165-KC
			
			.- 20230217-001: Vacaciones - Cálculo de vacaciones: Al editar registro, corregir parametro de entrada de la función 'set_fecha_base_vacacion_progresiva' (Se estaba 
			entregando un espacio en blanco en vez de un null) 
			
			.- Se modifica tipo de datos de la columna 'vacaciones.dias_adicionales' de int a double. Esto corrige error editar registro del módulo 'Cálculo de Vacaciones'.
			.- Se modifica Reporte de Vacaciones, para que soporte valores con decimales (int to double)
			
			***************************************************************************
			************** Versión 4.4.9 en Dummy desde el 20-02-2023
			***************************************************************************
			
			
		v4.5.0 20-02-2023	
			.- 20221220-01: Reporte de modificaciones y/o alteraciones de turnos.
					Fuentes modificados:
						Servlet	: src/java/cl.femase.gestionweb.servlet.reportes.ReporteModifAlterTurnos
						Jsp		: web/reportes/certif_inf_modif_alteraciones_turnos.jsp
				- Generar archivo de salida en PDF.
				- Selección más de un trabajador del combo
				- Seleccionar a TODOS los trabajadores del combo
				
			.- 20221220-02: Reporte Asistencia Simple
					Fuentes modificados:
						Servlet	: src/java/cl.femase.gestionweb.servlet.reportes.ReporteAsistencia
						Jsp		: web/reportes/certif_asistencia.jsp
				- Generar archivo de salida en PDF.
				- Selección más de un trabajador del combo
				- Seleccionar a TODOS los trabajadores del combo
				
			.- 20221220-03: Reporte Festivos y Domingos
					Fuentes modificados:
						Servlet	: src/java/cl.femase.gestionweb.servlet.reportes.ReporteDiasFestivosTrabajados
						Jsp		: web/reportes/certif_informe_festivos_trabajados.jsp
				- Generar archivo de salida en PDF.
				- Selección más de un trabajador del combo
				- Seleccionar a TODOS los trabajadores del combo
			
			.- 20221220-04: Reporte de Jornada
					Fuentes modificados:
						Servlet	: src/java/cl.femase.gestionweb.servlet.reportes.ReporteJornada
						Jsp		: web/reportes/certif_informe_jornada.jsp
				- Generar archivo de salida en PDF.
				- Selección más de un trabajador del combo
				- Seleccionar a TODOS los trabajadores del combo
			
			.- 20221220-05: Reporte de exceso de Jornada
					Fuentes modificados:
						Servlet	: src/java/cl.femase.gestionweb.servlet.reportes.ReporteHorasExtras
						Jsp		: web/reportes/certif_informe_hrs_extras.jsp
				- Generar archivo de salida en PDF.
				- Selección más de un trabajador del combo
				- Seleccionar a TODOS los trabajadores del combo
				
		v4.5.1 01-03-2023.
			.- 20230127-01: Al eliminar un registro de vacaciones: No hacer delete, sólo dejar las columnas en cero.
			.- 20230310-01: Modificación modulo turnos cíclicos: Permita definir el numero de ciclos de forma personalizada.
				* Ejecutar: 4_5_1_create_table_turno_rotativo_ciclo.sql
				* Ejecutar: 4_5_1_create_sequence_turno_ciclo.sql
				* INSERT INTO mantencion_tipo_evento(tipo_evento, nombre) VALUES ('TRC', 'Ciclos, turnos rotativos');
				Con usuario perfil 'superadmin', realizar lo sgte:
				* Crear nuevo item que irá dentro del Menú "Turnos":
					nombre: adm_ciclos
					Labell: Admin Ciclos Turnos Rotativos
					Url: mantencion/ciclos_turnos_rotativos.jsp
				* Asignar nuevo item creado al perfil de usuario 'Administrador".
		
			.- Crear registros desde el CRUD de ciclos de turnos rotativos para ambas empresas (FMC y Femase):
				1 semana (7 dias), 8 dias (8 dias), 2 semanas (14 dias), 3 semanas (21 dias)
		
			***************************************************************************
			************** Versión 4.5.1 en Produccion desde el 10-03-2023
			***************************************************************************


		v4.5.2 07-03-2023.
			.- 20230406-01: Error al aprobar solicitud de vacaciones. El rut del autorizador es con -K pero lo toma con -k lo que arroja error de llave foránea.
			.- 20230406-02: Ingreso de Permiso Administrativo por mediodia cuando existe una ausencia x hora.
	
	
			***************************************************************************
			************** Versión 4.5.2 en Dummy desde el 07-04-2023
			***************************************************************************
			
			***************************************************************************
			************** Versión 4.5.2 en Producción desde el 17-04-2023
			***************************************************************************

		v4.5.3 25-04-2023
			.- En el módulo de búsqueda de empleados (árbol):
				Se muestran emmpleados vigentes y no vigentes.
				Si un empleado está como 'No Vigente', se muestra el texto ' - [NV]' a continuación del nombre.	
				
				
				Agregar 2 campos. Uno para el nombre y el otro para el apellido 		-- No se hará 
				Y además debe encontrar a todos los trabajadores Vigentes y NO Vigentes.

			***************************************************************************
			************** Versión 4.5.3 en Dummy desde el 30-04-2023
			***************************************************************************
			
			***************************************************************************
			************** Versión 4.5.3 en Producción desde el 03-05-2023
			***************************************************************************

		v4.5.4 17-05-2023
			.- 20230517-01: Solicitud de Vacaciones: Verificar el seteo correcto de 'Nota/Observación' en la tabla 'notificación.
			.- 20230517-02: Solicitud de Permisos Administrativos: Verificar el seteo correcto de 'Nota/Observación' en la tabla 'notificación.
		
			***************************************************************************
			************** Versión 4.5.4 en Producción desde el 26-05-2023
			***************************************************************************
		v4.5.5 28-05-2023
			.- Ajuste de tablas históricas.
				Ejecutar Sql:
					ALTER TABLE IF EXISTS admingestionweb.detalle_ausencia_historica
						ADD COLUMN dias_solicitados double precision;
						
					ALTER TABLE IF EXISTS admingestionweb.detalle_ausencia_historica
						ADD COLUMN saldo_post_pa double precision;	
					
					
			.- Verificación y pruebas de proceso de traspaso a tablas históricas de los registros con más de 6 meses de antiguedad.
			
			.- Deshabilitar Proceso "Traspaso Historico FundacionMiCasa". En su reemplazo, se accede directamente
				a la opción "Traspaso a históricos" bajo el el módulo "Procesos".
			.- Con usuario Superadmin: Modificar acceso del menu 'Procesos' - 'Traspaso a historicos'. Nueva URL: 'procesos/traspaso_historicos.jsp'
			.- Quitar llave foranea 'marca_rechazo_hist_fk_dispositivo' de la tabla 'marca_rechazo_historica'.	
			
			.- PENDIENTE: En el traspaso histórico: 
				Cada vez que se envían datos el servidor y vuelve a la vista, debe activarse el TAB donde estaba el usuario: 'Ultimo registro', 'Vista previa' o 'resultado'
			
			
			.- Verificar funcionamiento correcto del cálculo de asistencia histórico.
			Conclusión: 
				1. Los cálculos de asistencia históricos, usan las marcas y ausencias históricas, y los resultados del cálculo lo guardan en la tabla 'detalle_asistencia'
				2. Lo reportes de asistencia: Usan la tabla 'detalle_asistencia'.
				
			20230609-01: Turnos para fin de semana y feriados.
				
				Ejecutar Sql:
					ALTER TABLE IF EXISTS admingestionweb.detalle_turno
						ADD COLUMN permite_feriado character(1) COLLATE pg_catalog."default" DEFAULT 'N'::bpchar;

					COMMENT ON COLUMN admingestionweb.detalle_turno.permite_feriado
						IS 'Indica si se permite trabajar cuando es feriado';
				
					INSERT INTO admingestionweb.dias_semana(cod_dia, label_dia, label_corto) VALUES (8, 'Feriado/Festivo', 'Fer');
				
		v4.5.6 24-06-2023, Alexander Díaz.
			.- 20220729-01: Reporte de vacaciones no muestra línea de totales cuando el empleado no se ha tomado ningún período de vacaciones.
				Modificacion del reporte de vacaciones: vacaciones.jasper. Para que muestre la línea de totales cuando el trabajador no ha hecho uso de vacaciones.
	
			.- columnas faltantes en tabla histórica:
				ALTER TABLE IF EXISTS admingestionweb.detalle_ausencia_historica
				ADD COLUMN saldo_dias_vacaciones_asignadas integer DEFAULT 0;
				
				ALTER TABLE IF EXISTS admingestionweb.detalle_ausencia_historica
				ADD COLUMN dias_acumulados_vacaciones_asignadas integer DEFAULT 0;	

			.- 20230622-01: El sistema no permite cambiar el evento de una marca, de Entrada por Salida. 
				Trabajadora tuvo que asistir el día sábado 17 a trabajar. Su horario es de lunes a viernes.
					Se corrige seteo de marca.rowkey al consultar las marcas. Específicamentem este caso se trata de marcas un día LIBRE (sin turno asignado)
					Al estar erróneamente seteado este campo (rowKey), la modificación de marca, desde Admin Marcas, arrojaba error, pues no encontraba
					el registro para modificar.
					
			
			***************************************************************************
			************** Versión 4.5.6 en Dummy desde el 10-07-2023
			***************************************************************************
	
		v4.5.7 16-07-2023, Alexander Díaz.
			20230627-01: observaciones recibidas, sobre la versión 4.5.5 : Turnos dia feriado: lu...do. Para dia domingo no calculó asistencia.
			
		v5.0.0 23-09-2023, Alexander Díaz.	
			Cambio en vista de Admin Departamentos.
			.- Corrección cálculo asistencia. seteo de campo 'observacion' para turnos 'Turno: sábado, domingo y festivos: 08:00 - 16:00'
			Las hrs 'no trabajadas', actualmente, corresponden a las hhmm de ausencias --> SUM (hrs de ausencia del día)
			
			***************************************************************************
			************** Versión 5.0.0 en Dummy desde el 12-11-2023
			***************************************************************************
		
		v5.0.1 20-11-2023, 
		
			.- 20231121-01: Ejecutar cálculo de vacaciones cuando un empleado ingrese al módulo "Solicitud de Vacaciones".
		
			***************************************************************************
			************** Versión 5.0.1 en Dummy desde el 02-12-2023
			***************************************************************************
			
			
			***************************************************************************
			************** Versión 5.0.1 en Producción desde el 07-12-2023
			***************************************************************************
			
		v5.0.2 04-12-2023, adiazr
			------------------------------------------------------------------------------
			Observaciones a versión 4.5.6:
			.- 20231117-01: Reporte de Vacaciones no muestra datos
				Respuesta: El reporte de vacaciones muestra todos los registros de 'detalle_ausencia' del tipo ‘Vacaciones’. OK 
			.- "La tabla detalle_ausencia le falta el campo “empresa_id character varying(12),”, la cual sólo la tiene la tabla detalle_ausencia_historica."	
				Respuesta: esto es correcto, el campo 'empresa_id' se agregó a la tabla 'detalle_ausencia_historica'.--->	OK
					
			--------------------------------------------------------------------
			Observaciones a versión 4.5.7:
			.- Cenco: CENIM PPF VIÑA DEL MAR: 
				Empleado: ALVARO EUGENIO TORRES MUÑOZ (12612445-7)
					
				*	Para turno sábado, domingo y festivos: 08:00 - 16:00: 
				** 	Ahora se está calculando las horas teóricas para el día domingo, pero NO MUESTRA LAS HORAS NO TRABAJADAS. 
					Es decir, el día domingo lo toma como un feriado y por ello no calcula las horas no trabajadas.	
				*** 	El día domingo se sabe que es feriado, pero si tiene turno y no hay marcas de asistencia, debería mostrar que no hay marcas y además el feriado.
				**** 	El domingo 7, correcto, muestra horas teóricas, horas presenciales, atraso, total del día. En observación, falta mostrar que es Feriado.
																													---> Listo!!
				
				i.- Admin Marcas debe mostrar correctamente el turno de cada día en función de los dias definidos en el respectivo turno.
				Si el turno es Sáb, Dgo y festivos: De lunes a viernes debe mostrar ‘Sin turno’
				Si no tiene marcas y tiene turno debe mostrar ‘Sin Marcas/Feriado’.
				Cenco: CENIM PPF VIÑA DEL MAR, empleado: ALVARO EUGENIO TORRES MUÑOZ (12612445-7). Periodo del 1 al 15 de octubre 2023.
																													---> Listo!!	
				
			----------------------------------------------------------------------
			Observaciones a versión 5.0.0:	
				.- reporte asistencia: campo 'horas no trabajadas':  
					Ese campo debería mostrar siempre los datos cuando el valor del TOTAL DEL DIA sea menor qué HORAS TEORICAS.
					Si lo pensamos de esa manera, no es necesario mostrar horas no trabajadas cuando lo aterior es mayor, 
					ya que eso dice que tienes tiempo extra laborado, ahora si es inferior quiere decir que no cumpliste con el tiempo teórico laboral, 
					debes hora o minutos, lo que se traduce a Horas no Trabajadas.
					Entonces, para mostrar las HORAS NO TRABAJADAS tiene que existir un valor en TOTAL DEL DIA y HORAS TEORICAS, 
					y el resultado es la resta entre estos dos, siempre que TOTAL DEL DIA sea menor que HORAS TEORICAS.

					Análisis:	
					En el calculo de asistencia:
						Si (total_del_dia > 0 Y total_del_dia < horas_teoricas){
							horas_no_trabajadas = horas_teoricas - total_del_dia 
							detalle_asistencia.hrs_no_trabajadas = horas_no_trabajadas
						}
					
					En reporte de asistencia:				campo del JasperReport	campo de base de datos	
						columna: 	total_del_dia		--> hhmm_trabajadas			hrs_trabajadas
									horas_teoricas		--> hrs_teoricas			
									horas_no_trabajadas	--> hhmm_ausencia			

			*****************************************************
			CAMBIOS EN REPORTES: Modificar el reporte jasper 'asistencia_semanal'. 
				Observacion: en la linea de total semanal no se muestra total de hrs No trabajadas de la semana.
			
			CAMBIOS EN BASE DE DATOS 
				alter_tables_detalle_asistencia_v5_0_2.sql: nueva columna 'hrs_no_trabajadas' en las tablas 'detalle_asistencia' y 'detalle_asistencia_historica'.
				
			.- Agregar nueva columna al traspaso historico de la tabla 	'detalle_asistencia_historica'.		---> Listo!!
					
			.- Config accesos: Admin Deptos, url= /cruds/departamentos.jsp



			***************************************************************************
			************** Versión 5.0.2 en Dummy desde el 17-12-2023
			***************************************************************************

		5.0.3 25-12-2023.
			.- Cambio de clave en sistema local: Usuario 'admin', clave 'Dummy2024'. 
			.- Cambio en vistas de administracion/mantenedores:
				Perfil		Módulo					Menú item									Url									ok en prod?
				---------	--------------------	-----------------------------------------
				Admin		Administracion			Admin Departamentos			ok				cruds/departamentos.jsp				ok
				Admin		Configuración Sistema	Admin Parámetros			ok				cruds/parametros.jsp				ok
				Superadmin	Administracion			Admin Empresas				ok				cruds/empresas.jsp					ok
				Superadmin	Administracion			Admin Cargos				ok				cruds/cargos.jsp					ok
				Superadmin	Configuración Sistema	Admin Módulos Sistema		ok				cruds/modulos_sistema.jsp			ok
				Superadmin	Configuración Sistema	Admin Tipos Dispositivos	ok				cruds/tipos_dispositivos.jsp		ok	
				Superadmin	Configuración Sistema	Admin Regiones				ok				cruds/regiones.jsp					ok
				Superadmin	Configuración Sistema	Admin Comunas				ok				cruds/comunas.jsp					ok
				Superadmin	Configuración Sistema	Admin Cod Error Rechazos	ok				cruds/codigos_error_rechazos.jsp	ok
				Superadmin	Configuración Sistema	Admin AFPs					ok				cruds/afps.jsp						ok						
				Superadmin	Configuración Sistema	Admin Proveedores Correo	ok				cruds/proveedores_correo.jsp		ok				
				Superadmin	Usuarios				Admin Perfiles Usuario			ok			cruds/perfiles_usuario.jsp			ok
				Admin		Turnos					Admin Ciclos turnos rotativos	ok			cruds/ciclos_turnos_rotativos.jsp	ok	
				Superadmin	Configuración Sistema	Admin Accesos				ok				cruds/accesos.jsp					ok

			.- Corrección de cálculo hrs no trabajadas.
			
			5.0.3R2 09-03-2024
				.- Corrección de cálculo hrs no trabajadas. No se estaban rebajando los minutos de colacion al total de hrs teóricas.
			
			
			5.0.4 29-03-2024
			
				.-Reporte de Permisos administrativos: Se agregan  las columnas 'hora inicio' y 'hora fin'.
				Cambio en vistas de administracion/mantenedores:
				Perfil		Módulo					Menú item									Url
				---------	--------------------	-----------------------------------------	-----------------------------------------
				Admin		Administracion			Admin Centros de costo						cruds/centros_de_costo.jsp
				
			***************************************************************************
			************** Versión 5.0.4 en Produccion desde el 31-03-2024
			***************************************************************************
				
			5.0.5 06-04-2024
				Cambio en vistas de administracion/mantenedores:
				Perfil		Módulo						Menú item									Url
				---------	--------------------		-----------------------------------------	-----------------------------------------
				Admin		Administracion				Admin Empleados								cruds/empleados.jsp
				SuperAdmin	Ausencias (Justificaciones)	Admin Tipo ausencias						cruds/tipos_ausencias.jsp
				.- 20240418-01: Administración marcas modificar evento.
					.- Cambios a función 'new_inserta_marca_manual': new_inserta_marca_manual_v5_0_6.sql
					Ahora se guarda el respectivo correlativo al insertar la nueva marca.
					.- La modificación y eliminación de marcas, queda guardada en la tabla 'marcas_eventos' y pueden
					ser consultadas desde el módulo 'Marcas-Eventos'.
					
					**********************************************
					.- El cambio de la funcion 'new_inserta_marca_manual' se pasa a producción el dia 05-05-2024
					**********************************************
					
					.- Problema: Los hashcode no son únicos, No sirve como PK
			
			5.0.6 06-05-2024
				.- Admin Empleados: Al volver del formulario de nuevo/modificar empleado: mantener los valores seleccionados previamente en los campos de búsqueda.
				
			5.0.7 07-05-2024
				.- Admin Empleados: Al volver del formulario de nuevo/modificar empleado: Se deben mantener los filtros de búsqueda 
				previamente seleccionados y también, se debe mostrar la lista de empleados que se mostraba al momento de hacer clic 
				el botón "Nuevo registro" o Modificar empleado.
				Además, el botón "Nuevo registro" debe estar siempre visible.

			***************************************************************************
			************** Versión 5.0.7 en Produccion desde el 07-05-2024
			***************************************************************************
			
			5.0.8 08-05-2024
			.- CRUD Empleados: 
				Cambios realizados a la vista:

				Quitar las columnas:
					- Estado ID.
					- Turno ID.
					- Cargo ID.

				Agregar las columnas:
					- Fecha inicio contrato.
					- Fecha Fin contrato.
					- Nombre Turno.

			***************************************************************************
			************** Versión 5.0.8 en Produccion desde el 08-05-2024
			***************************************************************************
			5.0.9 11-05-2024
				.- 20240514-002: Perfil Empleado. Ingreso solicitud de vacaciones: Quitar restricción de calendario al ingresar nueva solicitud.
				.- 20240514-003: Perfil Empleado. Ingreso solicitud de Permiso Administrativo: Quitar restricción de calendario al ingresar una nueva solicitud.
			
			***************************************************************************
			************** Versión 5.0.9 en Produccion desde el 22-05-2024
			***************************************************************************
			
			5.0.10 26-05-2024
				.- 20240514-001: Tabla empleado: Nueva columna 'correo personal'.
				Cambio en base de datos:
					ALTER TABLE IF EXISTS admingestionweb.empleado
					ADD COLUMN empl_email_personal character varying(70) COLLATE pg_catalog."default";
	
			***************************************************************************
			************** Versión 5.0.10 en Produccion desde el 26-05-2024
			***************************************************************************
			
			5.0.11 28-05-2024
				.- 20240528-01: sistema WEB no se puede crear centro de costo:
				Error detectado: En el Admin de cencos, en el filtro "Departamento": no aparecen todos los departamentos existentes.
				Se detecta que esa lista sólo estaba trayendo los departamentos que tienen al menos un centro de costo asignado.
				El depto {Id: 12, Nombre: "XII - Magallanes"} no se mostraba en el filtro, debido a que no tiene ningún centro de costo asignado.
				Acción correctiva: se modificó el query para que incluya todos los departamentos aún si no tienen cencos asignados.	
				
				
				En la nueva vista CRUD:
					Además, se habilita el botón 'Nuevo registro' aún cuando no existan centros de costo asignados al departamento seleccionado
					como filtro de búsqueda.
					
					Se deben crear las comunas faltantes en el Sistema, por ejemplo: Las comunas de la region de Magallanes.
					Se deben crear los dispositivos para el nuevo cenco.
				
				Se habilita nuevamente el antiguo Admin Centros de costo.				-->/mantencion/centros_costo.jsp
				Una vez corregidos los errores, se volverá a habilitar el nuevo CRUD: 	cruds/centros_de_costo.jsp
				
			***************************************************************************
			************** Versión 5.0.11 en Produccion desde el 28-05-2024
			***************************************************************************	
			
			5.0.12 12-06-2024
				.- 20240612-01: Observaciones CRUD empleados:
					- Al buscar un empleado en admin empleados. El campo rut. Antes funcionaba buscando por empl_rut y por cod_interno. Ahora sólo por empl_rut.
					- Filtro de búsqueda: En el combo Estado: Agregar opción TODOS.
				
				.- 20240612-02: Error al aprobar Solicitud de Permiso administrativo
					Al aprobar una solicitud de PA de un semestre o de un año pa otro, este descuenta el saldo del semestre en curso.
					
			***************************************************************************
			************** Versión 5.0.12 en Produccion desde el 15-06-2024
			***************************************************************************		
			
			5.0.13	21-07-2024
				20240715-01: Carga de empledos por CSV. Está seteando campo 'clave_marcacion' con el valor 'null'. Lo correcto es que lo setee con valor= NULL
				Se corrige Sql Select al editar un empleado desde el 'Admin de Empleados'
				La carga de empleados por CSV no tiene nadsa que ver con esto.
			
			 .- 2024-07-22: El calculo de vacaciones se cae: Esto se debe a que el fuente usa funciones nuevas aún no terminadas respecto 
					al módulo de vacaciones por periodos (en implementacion).
				En el jsp se debe invocar al servlet "CalculoVacacionesServlet" que hace el cálculo de vacaciones tal como se hace actualmente (sin saldos por períodos)
				El servlet "NewCalculoVacacionesServlet" es el que implementa el cálculo de vacaciones por periodo.
				En la clase "CalculoVacacionesBp" se descomentan los métodos: setVBA_Empleado y setVBA_Cenco
			
			.- Se agrega nueva variable de configuracion que indica si se aplica el calculo de vacaciones de 'saldos por periodo' 
			
			Archivos modificados:	
				.- 'config_base.properties': Acá se agregan las siguientes líneas:
					#Flag que indica si se aplica el calculo de vacaciones de 'saldos por periodo'
					vacacionesPeriodos=true
								
				.- 'build.xml'
				.- 'gestionfemase.template'
				
			***************************************************************************
			************** Versión 5.0.13 en Produccion desde el 25-07-2024
			***************************************************************************	
			
			5.0.14	21-07-2024
				20240902-01: El cálculo de asistencia no está tomando los feriados comunales.
					.- Admin marcas: Se corrige despliegue duplicado de feriado comunal --> 20-agosto-2024
					.- Se detecta y se corrige error en la funcion 'validafechaferiado': 
						A pesar de considerar todos los feriados encontrados, ésta se salía inmediatamente después de iterar el 1er registro. 
						En el caso del feriado del 20 de agosto de 2024, este dia es feriado en dos comunas: comuna_id 175 y 180
						En la función, la primera iteración del LOOP tomaba 'calendario_feriado.comuna_id' y si no era igual a la comuna del centro 
						de costo del empleado, se salía y retornaba que se trataba de un día hábil. 
				
					Cambio en base de datos: 5_0_14_funcion_validafechaferiado.sql
			
			
			***************************************************************************
			************** Versión 5.0.14 en Produccion desde el 04-09-2024
			***************************************************************************
			
			5.0.15	10-09-2024
				.- 20240910-01: Admin marcas no está mostrando los feriados.
				Se corrige query utilizado al momento de mostrar las marcas.
				Se debe probar el Admin Marcas con feriados nacionales y con feriados regionales/comunales
				
			***************************************************************************
			************** Versión 5.0.15 en Produccion desde el 10-09-2024 22hrs
			***************************************************************************	
				
				
			
			
			5.1.0, 21-06-2024
				Saldos Vacaciones por períodos
				.- Crear nuevo proceso (Job)
					Label: Setea saldo VBA para cada período (años)
					Job: SetSaldoVBAPeriodosJob
					
				.- Cambios en base de datos:
					create_table_vacaciones_saldo_periodo_v5_1_0_DUMMY.sql
					create_table_vacaciones_saldo_periodo_v5_1_0_PROD.sql
					
					funcion_set_vba_empleados_5_1_0_DUMMY.sql
					funcion_set_vba_empleados_5_1_0_PROD.sql
					
					set_saldo_vacaciones_basicas_anuales_empleado_2_0_v5_1_0_DUMMY.sql
					set_saldo_vacaciones_basicas_anuales_empleado_2_0_v5_1_0_PROD.sql
					
					get_empleados_json_5_1_0_DUMMY.sql
					get_empleados_json_5_1_0_PROD.sql
										
				.- Reportes Jasper:
					.- 'historial_vacaciones.jasper'
					.- 'vacaciones_ult_periodos.jasper'
					.- 'pa_hasta_la_fecha.jasper'	
				
				.- Nuevo reporte Jasper: 'Informe Permisos administrativos': 
					pa_hasta_la_fecha.jasper
					pa_hasta_la_fecha.jrxml
				
				.- Reemplazar 'vacaciones.jasper' por 'historial_vacaciones.jasper'
				
				.- Nuevo reporte creado en reemplazo del actual reporte de vacaciones.
					Nuevo: 'historial_vacaciones.jasper' (Se accede desde el menú Vacaciones - Reporte Historial de vacaciones)
					
				.- Nuevo reporte 'Informe de vacaciones' --> menú 'Vacaciones'. --> Informe vacaciones -->
					'informe_vacaciones.jasper'. Que muestra las vacaciones de los últimos 2 períodos vigentes.	
					Jsp: vacaciones/informe_vacaciones.jsp
					
				.- Se agrega nueva variable de configuracion que indica si se aplica el calculo de vacaciones de 'saldos por periodo' 
			
			
				Archivos modificados:	
				.- 'config_base.properties': Acá se agregan las siguientes líneas:
					#Flag que indica si se aplica el calculo de vacaciones de 'saldos por periodo'
					vacacionesPeriodos=true
								
				.- 'build.xml'
				.- 'gestionfemase.template'
				
				.- Cambio de nombre del “Reporte Vacaciones” por “ Reporte Historial de vacaciones”.
					Con usuario 'Super admin": Configuracion Sistema --> Admin Accesos --> nombre=vacaciones_reporte. Modificar el label.
					
				***********************************************************************************************************************
				
				Accesos (crear/modificar):	
					.- Crear nuevo acceso 'Vacaciones por períodos' (CRUD sólo para consulta y exportación). 
						Este nuevo item debe ir bajo el módulo 'Vacaciones'.
					Con usuario Superadmin: 'Configuracion Sistema' --> 'Admin Accesos' --> 
						Nombre	: 'vac_periodos'
						Label	: "Vacaciones por periodos"
						Url		:  "/cruds/vacaciones_periodos.jsp"
						
						Asignar a perfil Director, Administrador	
						
					.- Crear nuevo acceso 'Informe Vacaciones'. Este nuevo item debe ir bajo el módulo 'Vacaciones'.
					Con usuario Superadmin: 'Configuracion Sistema' --> 'Admin Accesos' --> 
						Nombre	: 'info_vacaciones'
						Label	: "Informe Vacaciones"
						Url		:  "/vacaciones/informe_vacaciones.jsp"
				
						Asignar a perfil Director, Administrador
				
					.- Modificar acceso 'Reporte Vacaciones'. 
					Con usuario Superadmin: 'Configuracion Sistema' --> 'Admin Accesos' --> 
						Nombre	: 'vacaciones_reporte'
						Label	: "Reporte Historial de vacaciones"
						Url		:  "/vacaciones/historial_vacaciones.jsp"
					
						Asignar a perfil Director, Administrador					
						
				
					.- Modificar acceso 'Reporte de PA'. 
					Con usuario Superadmin: 'Configuracion Sistema' --> 'Admin Accesos' --> 
						Nombre	: 'report_pa'
						Label	: "Reporte Historial de PA"
						Url		:  "/permisos_administrativos/historial_pa.jsp"
					
						Asignar a perfil Director, Administrador
				
					.- Crear nuevo acceso 'Informe PA'. Este nuevo item debe ir bajo el módulo 'Permisos Administrativos'.
					Con usuario Superadmin: 'Configuracion Sistema' --> 'Admin Accesos' --> 
						Nombre	: 'info_pa'
						Label	: "Informe PA"
						Url		:  "/permisos_administrativos/informe_pa.jsp"
				
						Asignar a perfil Director, Administrador
				
				
				.- Se modifican los archivos: 
					- build.xml
					- web.xml.dummy
					- web.xml.produccion
					- gestionfemase.template
					
				.- Nuevas variables de configuración:
					- 	#Texto que se debe incluir cuando una solicitud de vacaciones ha sido aprobada
						txtAprobarSolicVacaciones=No olvide firmar el reporte de vacaciones antes de hacer uso de estas.

						#Texto que se debe incluir cuando una solicitud de vacaciones ha sido aprobada
						txtAprobarSolicPA=No olvide firmar el reporte de permiso administrativo antes de hacer uso de éste.
				
				***************************************************************************
				************** Versión 5.1.0 en QA (server3) el 14-10-2024 22hrs
				***************************************************************************	
			
			5.0.16	19-10-2024
				.- Corrige error al modificar empleado.
			
			***************************************************************************
			************** Versión 5.0.16 en Produccion desde el 19-10-2024
			***************************************************************************
			
			5.0.17	20-11-2024
				.- En cálculo de asistencia: Se quita restricción de fechas
				
			***************************************************************************
			************** Versión 5.0.17 en Produccion desde el 21-11-2024
			***************************************************************************	
				
			5.0.17 ++ 23-11-2024	
				.- Se modifica la funcion en BD "validafechaferiado"
					ejecutar el respectivo .sql en producción.
					
				Provocaba error al calcular asistencia: No traía todas ls fechas. EN especial los feriados regionales.
				Error específico: día 2024-06-07, feriado regional en Arica y Parinacota.
				
				YA EN PRODUCCION...
				
				***************************************************************************
				************** Versión 5.0.17 en Produccion desde el 23-11-2024
				***************************************************************************
			
			5.0.18 10-02-2025
				.- 20250106-01: Error de conteo en los días trabajados de Mayerlin Perdomo, se le muestran 22 días y al resto del personal 31, cual está correcto?. 
					Yo creo que el correcto es 22 días, ya que 31 días tiene el mes, y no trabajan sábados y domingos.
			
				***************************************************************************
				************** Versión 5.0.18 en Produccion desde el 10-02-2025
				***************************************************************************
			
			5.0.19 13-02-2025	
				.- 20250213-01: Asignción cíclica de turnos. Agregar duración de ciclos en Meses: 1, 3 y 6 meses.
					Además, en la vista previa de la asignación cíclica se muestra la duración seleccionada.
					
				***************************************************************************
				************** Versión 5.0.18 en Produccion desde el 14-02-2025
				***************************************************************************
			
			5.0.20 23-02-2025
				.- Corrige error en funcion que retorna marca de salida para empleado con turno rotativo nocturno.
				Cuando exista más de una marca de salida, se debe retornar la marca más reciente.

				Cambio en base de datos: funcion 'get_marca_by_tipo_and_fecha_hora_json'
				
				***************************************************************************
				************** Versión 5.0.20. Funcion sql en Produccion desde el 23-02-2025
				***************************************************************************	
								
			5.0.21 24-02-2025	
				.- 20250224-01:  reporte asistencia indicar marca virtual.
				Se modifica SQL utilizado al generar reporte de asistencia.
				Para que cuando la marca tenga comentario de 'marca virtual' se muestre una letra 'V' en el reporte de asistencia.
				
				***************************************************************************
				************** Versión 5.0.21. Funcion sql en Produccion desde el 28-02-2025
				***************************************************************************
				
			5.0.22 06-03-2025	
				.- 20250305-01: Seteo de saldo PA después de eliminar un registro PA
				
				***************************************************************************
				************** Versión 5.0.22. Web en Produccion desde el 08-03-2025
				***************************************************************************
				
			5.0.23 22-03-2025	
				.- 20250313-01: Revisar cálculos de asistencia para empleados con turno rotativo nocturno
				Se detecta que en el ReporteSemanal no se estaba calculando las hrs teóricas cuando era día feriado. Se comenta esto.
				En la clase CalculoAsistenciaNew (dentro del método 'getHorasPresenciales'), ahora se invoca al método 'Utilidades'.'procesarMarcaciones': Este método se encarga de 
				recibir una lista de trodas las marcas de un trabajador y retornar un par único de entrada y salida.
			
			***************************************************************************
				************** Versión 5.0.23. Web en Produccion desde el 22-03-2025
				***************************************************************************
						
			5.1.0 24-03-2025
				.- Requerimiento necesarios para el proceso de Certificación de la Dirección del Trabajo
					* 2025-03-23: Artículo 7, letra F: Cambio de clave: Después de cambiar la clave, se debe enviar correo al usuario indicando la nueva clave y fecha-hora de la modificación.
						Después de modificar la clave, se inserta un registro en la tabla 'Notificacion, indicando el cambio de clave exitoso.
						(verificar que la aplicación de Ramón esté enviando correos con estas notificaciones)
						
					* 20250323: Articulo 17, letra E: Agregar nuevo módulo de 'Notificaciones' que permita informar con anticipación los trabajos de mantenimiento del Sistema.
						Nuevo acceso disponible sólo para usuarios con el perfil de 'Administrador'. Es decir, las notificaciones se definen a nivel de empresa.
						17.1	Cambio en la base de datos. Crear tabla:
							CREATE TABLE alertas_sistema (
								id_alerta SERIAL PRIMARY KEY,
								empresa_id VARCHAR(12) NOT NULL,
								titulo VARCHAR(255) NOT NULL,
								mensaje TEXT NOT NULL,
								tipo VARCHAR(50) CHECK (tipo IN ('mantenimiento', 'aviso', 'importante')),
								fecha_envio TIMESTAMPTZ,
								estado VARCHAR(20) CHECK (estado IN ('pendiente', 'enviado', 'cancelado')),
								prioridad VARCHAR(10) CHECK (prioridad IN ('alta', 'media', 'baja')),
								url_accion VARCHAR(255),
								icono VARCHAR(255),
								creado_por VARCHAR(255) NOT NULL,
								modificado_por VARCHAR(255) NOT NULL,
								created_at TIMESTAMPTZ DEFAULT NOW(),
								updated_at TIMESTAMPTZ DEFAULT NOW()
							);

							-- admingestionweb.alertas_sistema_id_alerta_seq definition
							-- DROP SEQUENCE admingestionweb.alertas_sistema_id_alerta_seq;
							CREATE SEQUENCE admingestionweb.alertas_sistema_id_alerta_seq
								INCREMENT BY 1
								MINVALUE 1
								MAXVALUE 2147483647
								START 1
								CACHE 1
								NO CYCLE;

							17.2	Crear nuevo acceso: Con usuario 'superadmin'. Módulo 'Configuración Sistema', item "Admin Accesos"
							Nuevo registro:
								.- label: "crud_alertas_sistema"
								.- nombre: "Admin Alertas Sistema"
								.- url: "/AlertasSistemaCRUD?action=list"
								
							17.3	Asignar el nuevo acceso "Admin Alertas Sistema" al perfil de usuario 'Administrador': 
										Con usuario 'superadmin'. Módulo 'Usuarios', item "Adm Accesos Perfil"
										Seleccionar	--> Perfil de usuario= "Administrador"
													--> Módulo Sistema= "Configuracion Sistema"
													--> Seleccionar el acceso "Admin Alertas Sistema"
													--> Guardar
													--> Conectarse al Sistema como Administrador y verificar el nuevo item dentro del módulo "Configuracion Sistema"
								Insertar registro:
								Cambio en base de datos:
									INSERT INTO admingestionweb.mantencion_tipo_evento(tipo_evento, nombre)
									VALUES('SYSALERT', 'Admin Alertas Sistema');
								
							.- Cambio de configuracion: Agregar a "config_base.properties" las siguientes líneas:
									#Para definir cada cuantos minutos se verifica si hay nuevas alertas de Sistema. Por defecto es una hora=60 minutos
									SystemAlertCheckInterval=60
										
								Archivos de deployment modificados:
									gestionfemase.template
									build.xml
									web.xml.produccion
									web.xml.dummy
					
						.- Articulo 14: Verificar que el Sistema registre las modificaciones de marcas. Y cómo se visualizan: reporte u otra forma.
							Se evidencia que las marcas modificadas se pueden visualizar en el módulo "Marcas asistencia" - "Marcas-Eventos"
							
						.- 20250323: Articulo 23: Acceso para usuarios de la Dirección del Trabajo. Implementar módulo de creación de usuarios para funcionarios de la Dirección del Trabajo (DT)
								.- Para enviar correos: se usa la tabla 'notificacion'.
								.- Se rediseña página de Inicio de sesión al Sistema.
				
				
							Cambio en base de datos:
								Agregar nueva columna a la tabla usuario: que indique si se trata de clave_temporal (para usuarios de la DT)
								Nueva columna 'usuario.temporal_user' char(1) {'S':Si, 'N': No}
									
								ALTER TABLE admingestionweb.usuario ADD is_temporary boolean NULL;
								COMMENT ON COLUMN admingestionweb.usuario.is_temporary IS 'Indica si es un usuario temporal o no';
								ALTER TABLE admingestionweb.usuario ALTER COLUMN is_temporary SET DEFAULT false;
						
						Cambio de configuracion: Agregar a "config_base.properties" las siguientes líneas:
							#Dominio de las cuentas de correo de los usuarios de la Direccion del Trabajo
							DTmailServerDomain=dt.gob.cl
						
				***************************************************************************
				************** Versión 5.1.0. Web en Produccion desde el 19-04-2025. Sprint 1 de requerimientos para la certificación del Sistema
				***************************************************************************
						
						
			5.1.02	19-04-2025 / 21-05-2025
			
				.- Version con Open JDK 22.--> instalar Wildfly 36 y open JDK 22 en el servidor de producción.
						modificacion mayor: reemplazar javax.serlet por jakarta.servlet
				
				.- Por ahora, se debe deshabilitar el módulo completo de cargas masivas con CSV y Multipart--> si es necesario, se debe migrar para usar 'commons-fileupload2-jakarta-servlet6-2.0.0-M4'
			
				.- Art 8 Certificacion: Admin marcas: nuevo filtro para buscar por marcas por hashcode
			
				.- 20250323: Articulo 24: Acceso como Fiscalizador
					Nuevo módulo 'Notificar empleador': Cuando un usuario Fiscalizador ingrese al Sistema podrá acceder a este nuevo módulo para
					enviar un correo al Empleador, indicando el inicio de un proceso de revisión de información por parte de un funcionario de la Dirección del Trabajo.
					
					* Cambio en base de datos:
						ALTER TABLE empresa ADD COLUMN notification_email VARCHAR(70);
											
					** Cambio en la configuración del Sistema: 
						**	Nuevo módulo: Desde 'Configuración Sistema' --> 'Admin Módulos Sistema':
								Nombre: Fiscalizacion
								Orden: 10
								Icon Id: fas fa-paperclip
								Título: Fiscalizacion
								Subtítulo: Fiscalizacion

						***	Nueva acción: : Desde 'Configuración Sistema' --> 'Admin Accesos':
							Nombre: notif_empleador
							Label: Notificar Empleador
							Url: fiscalizador/notificar_empleador.jsp
							
						****	Adm Accesos Perfil: Asignar nuevo acceso 'Notificar Empleador' al perfil de usuario 'Fiscalizador'
						
					.- Se usará la tabla 'notificacion' para enviar correo al empleador.		

					.- Usando un usuario Superadmin:
						.- Nuevo Acceso a Reportes para el Fiscalizador:
							***	Nueva acción: : Desde 'Configuración Sistema' --> 'Admin Accesos':
								Nombre: report_fiscaliza
								Label: Reportes (Fiscaliza/Art 27)
								Url: fiscalizador/main_reportes.jsp

					****	Usuarios - Adm Accesos Perfil: Asignar nuevo acceso 'Reportes (Fiscaliza/Art 27)' al perfil de usuario 'Fiscalizador'
								
						Archivos de deployment modificados:
							gestionfemase.template
							build.xml
							web.xml.produccion
							web.xml.dummy
						
					.- Art. 17.F: Reportes para el usuario con Perfil ‘Fiscalizador’
	
						
					.- Reportes que se deben implementar: Estos links deben quedar dentro del nuevo acceso 'Reportes (Fiscaliza/Art 27)' 
						Reporte de asistencia,
						Reporte de jornada diaria,
						Reporte de días domingo y/o días festivos
						Reporte de modificaciones y/o alteraciones de turnos
						
						adicionales:
						Reporte diario
						Reporte de incidentes técnicos
							
				
					.- Reportes: 
						.- En todos los reportes se deshabilita la opción 'todos' para el filtro Empleado/trabajador
						.- También: Deshabilitar el filtro 'Turno', reemplazado en combo por un campo oculto con el valor 'cualquiera':
					
					
					
					
				***************************************************************************
				************** Versión 5.1.01 parcial. en Produccion desde el 11-05-2025. 
				***************************************************************************
				
		
			
			
			5.1.1 29-10-2024
				(Versión con la implementación de vacaciones por períodos habilitada, instalar en server3)
				
				Modificación/corrección del sistema versión 5.1.0. Según observaciones entregadas por Felipe Galindo el 28-10-2024
				.- 20241028-03: Job que setea períodos de vacaciones
					MODIFICAR JOB QUE CALCULA E INSERTA LOS PERIODOS. LA FECHA FIN DEL PERIODO ES SIEMPRE EL MISMO DIA DEL AÑO SGTE.
				.- 20241028-02: función "set_saldo_vacaciones_basicas_anuales_empleado_2_0"
					Modificar la fórmula usada para calcular la variable “mesesAcumulados“.
				.- 20241028-01: función "set_saldo_vacaciones_basicas_anuales_empleado_2_0"
					Modificar la sentencia SQL donde se obtiene el número de meses entre la fecha_inicio_periodo y fecha_fin_periodo
					Actualmente está devolviendo 11 meses, lo correcto es que devuelva 12 meses
				.- 20241028-04: Nuevas columnas en la tabla 'vacaciones_saldo_periodo'
					COLUMNAS NUEVAS: DIAS_ACUMULADOS_VBA y SUMA_DIAS_EFECTIVOS
				.- 20241028-05: Seteo de períodos vigentes en la tabla 'vacaciones_saldo_periodo'
					LOS PERIODOS VIGENTES SON: El período correspondiente al año en curso y los dos períodos inmediatamente anteriores.
				.- 20241028-06: Confirmar en qué parte del Sistema se insertan registros en la tabla 'vacaciones_saldo_periodo'	
					Al calcular vacaciones (desde la clase NewCalculoVacacionesServlet) y al ejecutar el proceso “SetSaldoVBAPeriodosJob“
					Se invoca a la función ‘set_vba_empleados'    → 'set_saldo_vacaciones_basicas_anuales_empleado_2_0’
				.- 20241028-07: Al setear inicio y fin de períodos.
					Al calcular las fechas de inicio y fin del actual período para cada empleado.
					Verificar que sea un año entre inicio y fin:
					por ejemplo: 05-05-2024   y 05-05-2025
					
				.- 20241028-08: Nuevo Reporte de Vacaciones. Incluir sólo los períodos vigentes
				
				.- 20241028-09: Consulta de registros de la tabla 'vacaciones_saldo_periodo': Corregir filtro
					Se deben buscar sólo los empleados vigentes del centro de costo asignado al usuario.
					
				.- 20241028-10: Cálculo de vacaciones. Corregir saldo mostrado en la columna 'Saldo VBA'
					El saldo de VBA que se muestra en el módulo Cálculo Vacaciones debe corresponder a la suma de los saldos de los períodos de vacaciones vigentes.
				
				.- 20241218-01: Vista de vacaciones por periodos. Agregar nuevas columnas 'dias_acumulados_vba' y 'suma_dias_efectivos'
				
				
				20241028-01: Modificar las funciones:
					"set_vba_empleados"
					"set_saldo_vacaciones_basicas_anuales_empleado_2_0"
					Para Dummy y produccion
					
				Cambios en base de datos:
					set_saldo_vacaciones_basicas_anuales_empleado_2_0_v5_1_1_DUMMY.sql
					set_vba_empleados_5_1_1_DUMMY	
					add_columnas_vacaciones_saldo_periodo_v5_1_1.sql
					
								
				Cambios en reportes:
					vacaciones_ult_periodos.jasper
					informe_pa_current_date.jasper
					pa_hasta_la_fecha.jasper
					
				
				Importante: el cálculo de Vacaciones, sólo afecta el saldo del período en curso.
				El proceso "SetSaldoVBAPeriodosJob" calcula o recalcula los saldos para todos los periodos existentes en base a la fecha de inicio de contrato.
				
			Restituir accesos:
					Reporte Vacaciones	: /vacaciones/reporte_vacaciones.jsp
					Reporte PA			: /permisos_administrativos/reporte_pa.jsp


			***************************************************************************
			************** Versión 5.1.1 versión Dummy en el server_3 (21-12-2024)
			***************************************************************************
			5.1.2 29-10-2024
				.- En DEV: Se instalar Wildfly versión 34.0.1 Final
				.- user admin.  alexander, clave=xander
				
				.- 20250106-01: Error en Job que calcula saldos de vacaciones por períodos
					- al ejecutar el JOB, este setea las vacaciones por periodos, pero le va incrementando un dia a las fechas del rango. 
						Respuesta: LOS PERIODOS NO SE PUEDEN SOLAPAR, POR ESO LOS DIAS SE VAN MOVIENDO EN UNO
					- el estado de los periodos está incorrecto, dado que, deja vigente el actual y el anterior. 
						Respuesta: POR DEFINICIÓN, LOS PERIODOS VIGENTES SON: EL PERIODO CORRESPONDIENTE AL AÑO EN CURSO Y LOS 2 PERÍODOS INMEDIATAMENTE ANTERIORES	

					- Y el saldo para el periodo actual no lo calcula en base al CURRENT_DATE, sino que lo hace con el fecha fin periodo, 
						y eso que el sexto parámetro está en “S”.
						Respuesta: Se hizo correción de esto en el Sistema.
						
						
					
					
						
						
						
						
						
						

			Cambio en vistas de administracion/mantenedores:
				Perfil		Módulo						Menú item									Url
				---------	--------------------		-----------------------------------------	-----------------------------------------
				Admin		Ausencias(Justificaciones)	Ausencias (detalle)							cruds/justificacion_inasistencias.jsp




		v4.6.0 16-04-2023.
			.- Nuevo módulo de "Permisos Examen Salud Preventiva".
	
	
	
	
	
	
			
				Url traspaso historico actual: 
				procesos/traspaso_historicos.jsp
				
				.- Con usuario Superadmin: Modificar acceso del menu 'Procesos' - 'Traspaso a historicos'. Nueva URL: 'procesos/traspaso_historicos.jsp'
				
				.- Quitar llave foranea 'marca_rechazo_hist_fk_dispositivo' de la tabla 'marca_rechazo_historica'.
				
				.- Correcciones según observaciones a la versión 4.4.0 (recibidas el 25-07-2022) 
					- 
					- 
					- 
				